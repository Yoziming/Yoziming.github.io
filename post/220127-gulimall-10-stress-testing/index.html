<!DOCTYPE html>
<html><head>
<meta name="google-site-verification" content="XrwF-xUZWSGJVBBm7jM8vqemVqx--zo5Tb9d-Vr7BCc" />
<title>Nginx&amp;Á∂≤Èóú„ÄÅÂ£ìÊ∏¨ËàáÊÄßËÉΩÂÑ™Âåñ</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="SpringBootÂæÆÊúçÂãôÈ†ÖÁõÆÁ≠ÜË®ò-10">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="Nginx&amp;Á∂≤Èóú„ÄÅÂ£ìÊ∏¨ËàáÊÄßËÉΩÂÑ™Âåñ" />
<meta property="og:description" content="SpringBootÂæÆÊúçÂãôÈ†ÖÁõÆÁ≠ÜË®ò-10" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yoziming.github.io/post/220127-gulimall-10-stress-testing/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-01-27T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-01-27T00:00:00+00:00" /><meta property="og:site_name" content="My Blog" />





<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Nginx&amp;Á∂≤Èóú„ÄÅÂ£ìÊ∏¨ËàáÊÄßËÉΩÂÑ™Âåñ"/>
<meta name="twitter:description" content="SpringBootÂæÆÊúçÂãôÈ†ÖÁõÆÁ≠ÜË®ò-10"/>







<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">


  




<link rel="icon" href="https://yoziming.github.io/images/favicon.png">



<link rel="stylesheet" href="https://yoziming.github.io/scss/journal.min.3f72a5fc8f5b5dd732a4b476aced0eece2156958d9d414316494ddb10593ddf7.css" integrity="sha256-P3Kl/I9bXdcypLR2rO0O7OIVaVjZ1BQxZJTdsQWT3fc=" media="screen">



<link rel="stylesheet" href="https://yoziming.github.io/scss/dark-mode.min.f7c2efa7183435a6bd1842f91c541481c7a5137b5991629a870f24e4a516ad4b.css" integrity="sha256-98Lvpxg0Naa9GEL5HFQUgcelE3tZkWKahw8k5KUWrUs=" media="screen">


<script src="/vendor/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");
</script>






  <script src="/js/toc.js"></script>











<script src="//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js"></script>





</head>
<body>
    	<div id="app"><div id="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="https://yoziming.github.io/">
    
        <div class="nav-title">
            ÊüöÂ≠êËå∂ÂÆ§
        </div>
        
        <div class="nav-subtitle">
            Á¥ÄÈåÑËá™Â≠∏Â§ßÂ∞è‰∫ã
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/">
                È¶ñÈ†Åüè†
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                Ê®ôÁ±§üè∑Ô∏è
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                Á≥ªÂàóÊñáüìñ
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about-me">
                ÈóúÊñºÊàëüê£
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ÁßªÊ§çËá™ <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	

    </div>
    
</div><div id="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>- ÁõÆÈåÑ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#nginx%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86" onclick="onNavClick(`#nginxÂèçÂêë‰ª£ÁêÜ-nav`)" id="nginxÂèçÂêë‰ª£ÁêÜ-nav">
									NginxÂèçÂêë‰ª£ÁêÜ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%a8%a1%e6%93%ac%e9%83%a8%e7%bd%b2" onclick="onNavClick(`#Ê®°Êì¨ÈÉ®ÁΩ≤-nav`)" id="Ê®°Êì¨ÈÉ®ÁΩ≤-nav">
									Ê®°Êì¨ÈÉ®ÁΩ≤
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%b5%90%e5%90%88%e7%b6%b2%e9%97%9c" onclick="onNavClick(`#ÁµêÂêàÁ∂≤Èóú-nav`)" id="ÁµêÂêàÁ∂≤Èóú-nav">
									ÁµêÂêàÁ∂≤Èóú
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%9f%9f%e5%90%8d%e6%98%a0%e5%b0%84%e6%9c%80%e7%b5%82%e6%95%88%e6%9e%9c" onclick="onNavClick(`#ÂüüÂêçÊò†Â∞ÑÊúÄÁµÇÊïàÊûú-nav`)" id="ÂüüÂêçÊò†Â∞ÑÊúÄÁµÇÊïàÊûú-nav">
									ÂüüÂêçÊò†Â∞ÑÊúÄÁµÇÊïàÊûú
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%a3%93%e5%8a%9b%e6%b8%ac%e8%a9%a6" onclick="onNavClick(`#Â£ìÂäõÊ∏¨Ë©¶-nav`)" id="Â£ìÂäõÊ∏¨Ë©¶-nav">
									Â£ìÂäõÊ∏¨Ë©¶
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8c%87%e6%a8%99" onclick="onNavClick(`#ÊåáÊ®ô-nav`)" id="ÊåáÊ®ô-nav">
									ÊåáÊ®ô
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%a3%93%e6%b8%ac%e5%b7%a5%e5%85%b7jmeter" onclick="onNavClick(`#Â£ìÊ∏¨Â∑•ÂÖ∑jmeter-nav`)" id="Â£ìÊ∏¨Â∑•ÂÖ∑jmeter-nav">
									Â£ìÊ∏¨Â∑•ÂÖ∑JMeter
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#address-already-in-use%e5%95%8f%e9%a1%8c%e8%a7%a3%e6%b1%ba" onclick="onNavClick(`#address-already-in-useÂïèÈ°åËß£Ê±∫-nav`)" id="address-already-in-useÂïèÈ°åËß£Ê±∫-nav">
									Address already in useÂïèÈ°åËß£Ê±∫
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%84%aa%e5%8c%96" onclick="onNavClick(`#ÂÑ™Âåñ-nav`)" id="ÂÑ™Âåñ-nav">
									ÂÑ™Âåñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#jvm%e7%9b%a3%e6%8e%a7" onclick="onNavClick(`#jvmÁõ£Êéß-nav`)" id="jvmÁõ£Êéß-nav">
									JVMÁõ£Êéß
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%b8%ac%e8%a9%a6%e7%b4%80%e9%8c%84" onclick="onNavClick(`#Ê∏¨Ë©¶Á¥ÄÈåÑ-nav`)" id="Ê∏¨Ë©¶Á¥ÄÈåÑ-nav">
									Ê∏¨Ë©¶Á¥ÄÈåÑ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%b8%acnginx" onclick="onNavClick(`#Ê∏¨nginx-nav`)" id="Ê∏¨nginx-nav">
									Ê∏¨nginx
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%b8%acgateway" onclick="onNavClick(`#Ê∏¨gateway-nav`)" id="Ê∏¨gateway-nav">
									Ê∏¨Gateway
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%b8%ac%e7%b0%a1%e5%96%ae%e6%9c%8d%e5%8b%99" onclick="onNavClick(`#Ê∏¨Á∞°ÂñÆÊúçÂãô-nav`)" id="Ê∏¨Á∞°ÂñÆÊúçÂãô-nav">
									Ê∏¨Á∞°ÂñÆÊúçÂãô
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%85%a8%e9%8f%88%e8%b7%af" onclick="onNavClick(`#ÂÖ®ÈèàË∑Ø-nav`)" id="ÂÖ®ÈèàË∑Ø-nav">
									ÂÖ®ÈèàË∑Ø
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%b0%8f%e7%b5%90" onclick="onNavClick(`#Â∞èÁµê-nav`)" id="Â∞èÁµê-nav">
									Â∞èÁµê
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e6%94%b9%e9%80%b2%e6%8e%aa%e6%96%bd" onclick="onNavClick(`#ÊîπÈÄ≤Êé™ÊñΩ-nav`)" id="ÊîπÈÄ≤Êé™ÊñΩ-nav">
									ÊîπÈÄ≤Êé™ÊñΩ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#db" onclick="onNavClick(`#db-nav`)" id="db-nav">
									DB
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e8%b3%87%e6%ba%90%e5%8b%95%e9%9d%9c%e5%88%86%e9%9b%a2" onclick="onNavClick(`#Ë≥áÊ∫êÂãïÈùúÂàÜÈõ¢-nav`)" id="Ë≥áÊ∫êÂãïÈùúÂàÜÈõ¢-nav">
									Ë≥áÊ∫êÂãïÈùúÂàÜÈõ¢
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%95%b4%e7%90%86%e8%b3%87%e6%ba%90%e8%a8%aa%e5%95%8f%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#Êï¥ÁêÜË≥áÊ∫êË®™ÂïèÊµÅÁ®ã-nav`)" id="Êï¥ÁêÜË≥áÊ∫êË®™ÂïèÊµÅÁ®ã-nav">
									Êï¥ÁêÜË≥áÊ∫êË®™ÂïèÊµÅÁ®ã
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#heap%e5%a4%a7%e5%b0%8f%e7%ae%a1%e7%90%86" onclick="onNavClick(`#heapÂ§ßÂ∞èÁÆ°ÁêÜ-nav`)" id="heapÂ§ßÂ∞èÁÆ°ÁêÜ-nav">
									HeapÂ§ßÂ∞èÁÆ°ÁêÜ
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a type="button" class="pagination-action" id="darkModeToggleButton">
            <span class="material-icons pagination-action-icon" id="darkModeToggleIcon">
                dark_mode
            </span>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" id="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/">
                    È¶ñÈ†Åüè†
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    Ê®ôÁ±§üè∑Ô∏è
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    Á≥ªÂàóÊñáüìñ
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about-me">
                    ÈóúÊñºÊàëüê£
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- ÁõÆÈåÑ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#nginx%e5%8f%8d%e5%90%91%e4%bb%a3%e7%90%86" onclick="onNavClick(`#nginxÂèçÂêë‰ª£ÁêÜ-nav`)" id="nginxÂèçÂêë‰ª£ÁêÜ-nav">
									NginxÂèçÂêë‰ª£ÁêÜ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%a8%a1%e6%93%ac%e9%83%a8%e7%bd%b2" onclick="onNavClick(`#Ê®°Êì¨ÈÉ®ÁΩ≤-nav`)" id="Ê®°Êì¨ÈÉ®ÁΩ≤-nav">
									Ê®°Êì¨ÈÉ®ÁΩ≤
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%b5%90%e5%90%88%e7%b6%b2%e9%97%9c" onclick="onNavClick(`#ÁµêÂêàÁ∂≤Èóú-nav`)" id="ÁµêÂêàÁ∂≤Èóú-nav">
									ÁµêÂêàÁ∂≤Èóú
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%9f%9f%e5%90%8d%e6%98%a0%e5%b0%84%e6%9c%80%e7%b5%82%e6%95%88%e6%9e%9c" onclick="onNavClick(`#ÂüüÂêçÊò†Â∞ÑÊúÄÁµÇÊïàÊûú-nav`)" id="ÂüüÂêçÊò†Â∞ÑÊúÄÁµÇÊïàÊûú-nav">
									ÂüüÂêçÊò†Â∞ÑÊúÄÁµÇÊïàÊûú
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%a3%93%e5%8a%9b%e6%b8%ac%e8%a9%a6" onclick="onNavClick(`#Â£ìÂäõÊ∏¨Ë©¶-nav`)" id="Â£ìÂäõÊ∏¨Ë©¶-nav">
									Â£ìÂäõÊ∏¨Ë©¶
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%8c%87%e6%a8%99" onclick="onNavClick(`#ÊåáÊ®ô-nav`)" id="ÊåáÊ®ô-nav">
									ÊåáÊ®ô
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%a3%93%e6%b8%ac%e5%b7%a5%e5%85%b7jmeter" onclick="onNavClick(`#Â£ìÊ∏¨Â∑•ÂÖ∑jmeter-nav`)" id="Â£ìÊ∏¨Â∑•ÂÖ∑jmeter-nav">
									Â£ìÊ∏¨Â∑•ÂÖ∑JMeter
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#address-already-in-use%e5%95%8f%e9%a1%8c%e8%a7%a3%e6%b1%ba" onclick="onNavClick(`#address-already-in-useÂïèÈ°åËß£Ê±∫-nav`)" id="address-already-in-useÂïèÈ°åËß£Ê±∫-nav">
									Address already in useÂïèÈ°åËß£Ê±∫
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%84%aa%e5%8c%96" onclick="onNavClick(`#ÂÑ™Âåñ-nav`)" id="ÂÑ™Âåñ-nav">
									ÂÑ™Âåñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#jvm%e7%9b%a3%e6%8e%a7" onclick="onNavClick(`#jvmÁõ£Êéß-nav`)" id="jvmÁõ£Êéß-nav">
									JVMÁõ£Êéß
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%b8%ac%e8%a9%a6%e7%b4%80%e9%8c%84" onclick="onNavClick(`#Ê∏¨Ë©¶Á¥ÄÈåÑ-nav`)" id="Ê∏¨Ë©¶Á¥ÄÈåÑ-nav">
									Ê∏¨Ë©¶Á¥ÄÈåÑ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%b8%acnginx" onclick="onNavClick(`#Ê∏¨nginx-nav`)" id="Ê∏¨nginx-nav">
									Ê∏¨nginx
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%b8%acgateway" onclick="onNavClick(`#Ê∏¨gateway-nav`)" id="Ê∏¨gateway-nav">
									Ê∏¨Gateway
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%b8%ac%e7%b0%a1%e5%96%ae%e6%9c%8d%e5%8b%99" onclick="onNavClick(`#Ê∏¨Á∞°ÂñÆÊúçÂãô-nav`)" id="Ê∏¨Á∞°ÂñÆÊúçÂãô-nav">
									Ê∏¨Á∞°ÂñÆÊúçÂãô
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%85%a8%e9%8f%88%e8%b7%af" onclick="onNavClick(`#ÂÖ®ÈèàË∑Ø-nav`)" id="ÂÖ®ÈèàË∑Ø-nav">
									ÂÖ®ÈèàË∑Ø
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%b0%8f%e7%b5%90" onclick="onNavClick(`#Â∞èÁµê-nav`)" id="Â∞èÁµê-nav">
									Â∞èÁµê
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e6%94%b9%e9%80%b2%e6%8e%aa%e6%96%bd" onclick="onNavClick(`#ÊîπÈÄ≤Êé™ÊñΩ-nav`)" id="ÊîπÈÄ≤Êé™ÊñΩ-nav">
									ÊîπÈÄ≤Êé™ÊñΩ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#db" onclick="onNavClick(`#db-nav`)" id="db-nav">
									DB
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e8%b3%87%e6%ba%90%e5%8b%95%e9%9d%9c%e5%88%86%e9%9b%a2" onclick="onNavClick(`#Ë≥áÊ∫êÂãïÈùúÂàÜÈõ¢-nav`)" id="Ë≥áÊ∫êÂãïÈùúÂàÜÈõ¢-nav">
									Ë≥áÊ∫êÂãïÈùúÂàÜÈõ¢
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%95%b4%e7%90%86%e8%b3%87%e6%ba%90%e8%a8%aa%e5%95%8f%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#Êï¥ÁêÜË≥áÊ∫êË®™ÂïèÊµÅÁ®ã-nav`)" id="Êï¥ÁêÜË≥áÊ∫êË®™ÂïèÊµÅÁ®ã-nav">
									Êï¥ÁêÜË≥áÊ∫êË®™ÂïèÊµÅÁ®ã
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#heap%e5%a4%a7%e5%b0%8f%e7%ae%a1%e7%90%86" onclick="onNavClick(`#heapÂ§ßÂ∞èÁÆ°ÁêÜ-nav`)" id="heapÂ§ßÂ∞èÁÆ°ÁêÜ-nav">
									HeapÂ§ßÂ∞èÁÆ°ÁêÜ
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div id="drawer-mask" v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav id="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div id="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a id="navTitle" class="navbar-brand" href="https://yoziming.github.io/">
            ÊüöÂ≠êËå∂ÂÆ§
        </a>
        
        <button type="button" class="nav-darkmode-toggle" id="darkModeToggleButton2">
            <i class="material-icons" id="darkModeToggleIcon2">
                dark_mode
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" id="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="https://yoziming.github.io/">
        <div class="single-column-header-title">ÊüöÂ≠êËå∂ÂÆ§</div>
        
        <div class="single-column-header-subtitle">Á¥ÄÈåÑËá™Â≠∏Â§ßÂ∞è‰∫ã</div>
        

    </a>
</div>

            <div id="content">
                <div id="streamContainer" class="stream-container">

    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                
                    
                    
                    style="background-image: url('https://yoziming.github.io/images/gulimall.png')"
                    
                
            >
                <div class="post-title">
                    Nginx&amp;Á∂≤Èóú„ÄÅÂ£ìÊ∏¨ËàáÊÄßËÉΩÂÑ™Âåñ
                    
                    <div class="post-subtitle">
                        SpringBootÂæÆÊúçÂãôÈ†ÖÁõÆÁ≠ÜË®ò-10
                    </div>
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            2022-01-27 00:00
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/java%E5%BE%AE%E6%9C%8D%E5%8B%99%E5%B0%88%E6%A1%88">JavaÂæÆÊúçÂãôÂ∞àÊ°à</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/java">Java</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <h1 id="nginxÂèçÂêë‰ª£ÁêÜ">NginxÂèçÂêë‰ª£ÁêÜ</h1>
<ul>
<li>Ê≠£Âêë‰ª£ÁêÜÔºå‰æãÂ¶ÇProxy„ÄÅVPNÔºåÊàëÈÄèÈÅéÂÆÉÂéªË®™ÂïèÂà•‰∫∫„ÄÇ‰æãÂ¶ÇÊàëÊöóÊàÄÁè≠‰∏äÊ≠£Â¶π‰ΩÜ‰∏çÊï¢Ë¨õÔºåÊãúË®óÊ≠£Â¶πÁöÑÈñ®ÂØÜËΩâ‰∫§ÊÉÖÊõ∏ÔºåÊ≠£Â¶πÂè™Áü•ÈÅìÊÉÖÊõ∏‰æÜËá™Èñ®ÂØÜËΩâ‰∫§‰ΩÜ‰∏çÁü•ÈÅìÊòØË™∞ÈÄÅÁöÑ(Èô§ÈùûÈñ®ÂØÜÊääÊàëË≥£‰∫Ü)
<ul>
<li>Èñ®ÂØÜÂ∞çÊàëËÄåË®ÄÂ∞±ÊòØÊ≠£Âêë‰ª£ÁêÜ(ÂâçÂêë‰ª£ÁêÜ)</li>
</ul>
</li>
<li>ÂèçÂêë‰ª£ÁêÜÔºå‰æãÂ¶ÇÊüêÊÆ∫ÊâãÁµÑÁπîÂÖßÊúâÂ§öÂÄãÂ∞àÊ•≠ÊÆ∫ÊâãÔºåË∑ü‰∏ÄÂÄãÂ∞çÂ§ñÁöÑÊ•≠ÂãôÁ™óÂè£„ÄÇÁï∂ÂßîË®ó‰∫∫ÊÉ≥‰∏ã‰ªªÂãôÂè™ËÉΩÊâæÂà∞Á™óÂè£ÔºåËÄåÁµÑÁπîÂÖßÁöÑ‰ªªÂãôÂØ¶ÈöõÁî±Âì™‰ΩçÊÆ∫ÊâãÂÆåÊàêÂ§ñ‰∫∫ÁÑ°ÂæûÂæóÁü•„ÄÇÂßîË®ó‰∫∫ÊúÄÁµÇÂè™Áü•ÈÅì‰ªªÂãôÁöÑÁµêÊûú
<ul>
<li>Á™óÂè£Â∞çÊñºÊÆ∫ÊâãÁµÑÁπîËÄåË®ÄÂ∞±ÊòØÂèçÂêë‰ª£ÁêÜ</li>
</ul>
</li>
<li>ÁõÆÁöÑ: Ë≤†ËºâÂùáË°°„ÄÅÂÆâÂÖ®(Â∞çÂ§ñÂè™Êö¥Èú≤‰∏ÄÂÄãIPÔºåÂÖßÈÉ®‰º∫ÊúçÂô®ÁúüÂØ¶Á∂≤ÂùÄÂà•‰∫∫‰∏çÁü•ÈÅì)</li>
</ul>
<h2 id="Ê®°Êì¨ÈÉ®ÁΩ≤">Ê®°Êì¨ÈÉ®ÁΩ≤</h2>
<ul>
<li>È¶ñÂÖàdockerÊãâ‰∏ÄÂÄãnginxÔºå‰∏¶‰∏îÊääË®≠ÂÆöÊ™îÊñá‰ª∂Â§æÊéõËºâÂá∫‰æÜÔºåÊñπ‰æø‰øÆÊîπ
<ul>
<li>‰πçÁúãÊúâÈªûÊ∑∑‰∫ÇÔºå<code>nginx.conf</code>ÊòØ‰∏ªÈÖçÁΩÆÊ™î</li>
<li>ËÄå<code>conf.d</code>ÊòØÂ≠êË≥áÊñôÂ§æÔºåË£°Èù¢ÂèØ‰ª•ÊîæÂ§öÂÄã<code>xxx.conf</code>ÔºåÁÇ∫ÂæûÈÖçÁΩÆ</li>
<li>Á¨¨‰∏âÂÄãÊéõËºâÊòØÁÇ∫‰∫ÜÊîæhtmlÈùúÊÖãË≥áÊ∫ê</li>
<li>ÊúÄÂæå‰∏ÄÂÄãÊòØlog</li>
</ul>
</li>
</ul>
<pre tabindex="0"><code>docker run -p 80:80 --name nginx -v /mydata/nginx/nginx.conf:/etc/nginx/nginx.conf -v /mydata/nginx/conf.d:/etc/nginx/conf.d -v /mydata/nginx/html:/usr/share/nginx/html -v /mydata/nginx/logs:/var/log/nginx -d nginx
</code></pre><ul>
<li>ÁÇ∫‰∫ÜÊ®°Êì¨DNSÁöÑÊïàÊûúÔºåÁî®SwitchHosts‰øÆÊîπÊú¨Ê©ü
<ul>
<li>SwitchHosts: <a href="https://github.com/oldj/SwitchHosts/releases">https://github.com/oldj/SwitchHosts/releases</a></li>
</ul>
</li>
</ul>
<p><img src="image-20220120225048244.png" alt="image-20220120225048244"></p>
<ul>
<li>ÈÄ≤Âà∞ËôõÊì¨Ê©üÔºå‰øÆÊîπnginxËΩâÁôºÁöÑË¶èÂâáÔºåËÆìÂÆÉÊåáÂêëÊú¨Ê©üIP</li>
</ul>
<p><img src="image-20220120225749597.png" alt="image-20220120225749597"></p>
<ul>
<li>ÊääÊúçÂãôÈÉΩÈñãËµ∑‰æÜÔºåÊúâÈªûÊ®£Â≠ê‰∫Ü
<ul>
<li>ÂÖ∂ÂØ¶ÁõÆÂâçÂè™ÊòØÁπû‰∏ÄÂúàÂõû‰æÜÔºåÊé•ËëóÂÜç‰æÜË®≠ÂÆöÁ∂≤Èóú</li>
</ul>
</li>
</ul>
<p><img src="image-20220120230122570.png" alt="image-20220120230122570"></p>
<h2 id="ÁµêÂêàÁ∂≤Èóú">ÁµêÂêàÁ∂≤Èóú</h2>
<ul>
<li>Â§ßÁöÑHTTP
<ul>
<li>‰ΩøÁî®nginxÊ≥®ÊÑè<code>{}</code>ÈñâÂêàËàáÁµêÂ∞æÁöÑ<code>;</code></li>
</ul>
</li>
</ul>
<p><img src="image-20220120232922003.png" alt="image-20220120232922003"></p>
<ul>
<li>Â∞èÁöÑServer
<ul>
<li>ÈÄöÈÅénginxÁöÑÊôÇÂÄôÔºåÊúÉÊääË´ãÊ±ÇÈ†≠Ë£°Èù¢ÂæàÂ§öË®äÊÅØÈÉΩÂâäÊéâ</li>
<li>ÊâÄ‰ª•ÈÄôÈÇäË¶ÅÊâãÂãïÊääÈ†≠Âä†ÂõûÂéªÔºåÂê¶Ââá‰∏ãÈù¢ÁöÑÁ∂≤ÈóúÊ≤íËæ¶Ê≥ïÈù†<code>Host=XX</code>‰æÜËæ®Ë≠òÊñ∑Ë®Ä</li>
<li>ÊääÊ™îÊ°àÂêçÁ®±‰øùÂ≠òÁÇ∫<code>mall.conf</code></li>
</ul>
</li>
</ul>
<p><img src="image-20220120232823145.png" alt="image-20220120232823145"></p>
<ul>
<li>Á∂≤Èóú</li>
</ul>
<pre tabindex="0"><code>        - id: mall_host_route
          uri: lb://product
          predicates:
            - Host=**.mall.com,mall.com
</code></pre><h3 id="ÂüüÂêçÊò†Â∞ÑÊúÄÁµÇÊïàÊûú">ÂüüÂêçÊò†Â∞ÑÊúÄÁµÇÊïàÊûú</h3>
<ul>
<li>Ë®™Âïè<code>mall.com</code>ÈÄèÈÅéDNS(ÂÅáÁöÑÔºåÁèæÂú®ÈÄöÈÅéÊîπHOSTÂÖÖÁï∂)ËΩâÂà∞serverÂ∞çÂ§ñÂîØ‰∏ÄÂú∞ÂùÄ(ËôõÊì¨Ê©üÁöÑIP)</li>
<li>nginx‰ΩúÁÇ∫ÁúãÈñÄ‰øùÂÖ®ÔºåÊää‰∫∫Â∏∂Áµ¶ÊúçÂãôÂè∞(Á∂≤Èóú)Ôºå‰∏¶‰∏îÈÄôÂÄã‰øùÂÖ®È†êË®≠ÊúÉÊääÂÆ¢‰∫∫ÁöÑÈ†≠Á†ç‰∫ÜÔºåË¶ÅË®≠ÂÆöËÆìÂÆÉÊääÈ†≠ÈÇÑÂõû‰æÜ</li>
<li>Âà∞‰∫ÜÁ∂≤ÈóúË≠òÂà•ÂÆ¢‰∫∫ÁöÑhost‰æÜËá™<code>mall.com</code>ÔºåÈ†êË®≠ËΩâÁôºÂà∞ÂïÜÂìÅÈ¶ñÈ†Å</li>
<li>ÂÖßÈÉ®ÁöÑAPIË´ãÊ±Ç‰πü‰∏ÄÊ®£ÔºåÂè™Ë¶ÅÂüüÂêçÊªøË∂≥Ê¢ù‰ª∂ÔºåÈÉΩÂèØ‰ª•ÈÄèÈÅénginxÂèçÂêë‰ª£ÁêÜÁµ¶Á∂≤ÈóúÔºåÁ∂≤ÈóúÂÜçË≤†ËºâÂùáË°°Áµ¶ÂêÑÂÄãÂæÆÊúçÂãôÂ≠êÊ®°ÁµÑ</li>
</ul>
<hr>
<h1 id="Â£ìÂäõÊ∏¨Ë©¶">Â£ìÂäõÊ∏¨Ë©¶</h1>
<ul>
<li>ÊâæÂá∫Á≥ªÁµ±Ë≤†Ëç∑ÁöÑÁì∂È†∏</li>
<li>‰∏çÊ∏¨‰∏çÁü•ÈÅì:
<ul>
<li>Ë®òÊÜ∂È´îÊµÅÂ§±(memory leak): Â∞èÂïèÈ°åÈÄèÈÅéÂ§ßÁ¥ØÁ©çÊâçÂá∫Áèæ</li>
<li>‰ΩµÁôº: ÂñÆÊ©üOKÔºåÂ§ö‰∫∫playÂ∞±Âá∫‰∫ã</li>
</ul>
</li>
</ul>
<h2 id="ÊåáÊ®ô">ÊåáÊ®ô</h2>
<ul>
<li><code>TPS</code>: Transactions Per SecondÔºåÊØèÁßíËôïÁêÜÁöÑ‰∫ãÂãôÊï∏ÁõÆÔºåÊ≥®ÊÑè‰∏çÊòØÊåáË≥áÊñôÂ∫´ÁöÑÈÇ£ÂÄã‰∫§ÊòìÔºåËÄåÊòØÊåáÁî®Êà∂Âππ‰∫Ü‰∏Ä‰ª∂&quot;‰∫ã&quot;ÔºåÁî®‰æÜË°°ÈáèÊï¥ÂÄãÊ•≠ÂãôÊµÅÁ®ãÔºåÂñÆ‰ΩçÊòØ<code>Á≠Ü/Áßí</code></li>
<li><code>QPS</code>: Queries Per SecondÔºåÊØèÁßíËÉΩËôïÁêÜÊü•Ë©¢Êï∏ÁõÆÔºåÈÄöÂ∏∏Áî®‰æÜË°°ÈáèÊé•Âè£APIÁöÑË®™ÂïèÈáèÔºåÂñÆ‰ΩçÊòØ<code>Ê¨°/Áßí</code></li>
<li><code>RT</code>: Response TimeÔºåÈüøÊáâÊôÇÈñìÔºåÁî®Êà∂ÁôºÂá∫Ë´ãÊ±ÇÂà∞Á≥ªÁµ±ÂÅöÂá∫ÂèçÊáâÁöÑÈñìÈöîÔºåÈÄöÂ∏∏ÊúÉÈóúÊ≥®<code>90%ÈüøÊáâÊôÇÈñì</code>ÔºåÈÅøÂÖçËÄÉÊÖÆÊ•µÁ´ØÊÉÖÊ≥Å</li>
<li><code>ÂêûÂêêÈáè</code>: ËôïÁêÜÈáèÔºåÁ≥ªÁµ±ÊØèÁßíËÉΩËôïË£°ÁöÑË´ãÊ±ÇÊï∏„ÄÅ‰ªªÂãôÊï∏</li>
<li><code>ÈåØË™§Áéá</code>: È°ßÂêçÊÄùÁæ©Ôºå‰∏ÄÊâπË´ãÊ±Ç‰∏≠ÁöÑÈåØË™§ÊØî‰æã</li>
</ul>
<h2 id="Â£ìÊ∏¨Â∑•ÂÖ∑jmeter">Â£ìÊ∏¨Â∑•ÂÖ∑JMeter</h2>
<ul>
<li>ÂÆòÊñπ‰∏ãËºâ: <a href="https://jmeter.apache.org/download_jmeter.cgi">https://jmeter.apache.org/download_jmeter.cgi</a></li>
<li>Ëß£Â£ìÂç≥Áî®ÔºåÊúâË¶™ÂàáÁöÑ‰∏≠ÊñáÂèØÈÅ∏</li>
</ul>
<p><img src="image-20220121003028527.png" alt="image-20220121003028527"></p>
<ul>
<li>Ê∑ªÂä†Ê∏¨Ë©¶</li>
</ul>
<p><img src="image-20220121003157103.png" alt="image-20220121003157103"></p>
<ul>
<li>Ë®≠ÂÆöÂü∑Ë°åÁ∑íË∑üÊ¨°Êï∏Ôºå‰æãÂ¶Ç200*100Â∞±Á∏ΩÂÖ±ÊúÉÊòØ2WÊ¨°Ë´ãÊ±Ç</li>
</ul>
<p><img src="image-20220121003249825.png" alt="image-20220121003249825"></p>
<ul>
<li>Ê∑ªÂä†Ë´ãÊ±ÇÔºå‰æãÂ¶ÇÊúÄÂü∫Êú¨ÁöÑHTTPË´ãÊ±Ç</li>
</ul>
<p><img src="image-20220121003354536.png" alt="image-20220121003354536"></p>
<ul>
<li>Ê∑ªÂä†Êé•ËÅΩ(ÁµêÊûúÂ†±Ë°®)ÔºåÊúâÂêÑÁ®ÆÂúñË°®ÂèØ‰ª•Áúã</li>
</ul>
<p><img src="image-20220121003557013.png" alt="image-20220121003557013"></p>
<ul>
<li>Â∞±ÂèØ‰ª•ÈñãÊ∏¨‰∫ÜÔºåÂÆÉÊúÉË¶Å‰Ω†ÂÖà‰øùÂ≠òÔºåÊ∏¨ÂÆåÁúãÂÆåÂèØ‰ª•ÊåâÊéÉÊääÊ∏ÖÁ©∫</li>
</ul>
<p><img src="image-20220121003900035.png" alt="image-20220121003900035"></p>
<ul>
<li>Ê∏¨‰∫Ü‰∏Ä‰∏ãËá™Â∑±ÁöÑÔºå‰∏çÊÑèÂ§ñÁöÑË∂ÖÁàõXD</li>
</ul>
<h3 id="address-already-in-useÂïèÈ°åËß£Ê±∫">Address already in useÂïèÈ°åËß£Ê±∫</h3>
<blockquote>
<p>ÊàëÊòØÊ≤íÈÅáÂà∞Ôºå‰ΩÜÈÇÑÊòØÁ¥ÄÈåÑ‰∏Ä‰∏ã</p>
</blockquote>
<ul>
<li>
<p>Á∞°ÂñÆË™™Â∞±ÊòØËàäÁâàwindowsÊèê‰æõÁöÑTCP/IPÈÄ£Êé•Âü†Â§™Â∞ëÔºåÊîπÂ§öÂ∞±Â•Ω‰∫Ü</p>
</li>
<li>
<p>ÂèÉËÄÉ: <a href="https://www.bilibili.com/video/BV1np4y1C7Yf?p=143&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1np4y1C7Yf?p=143&amp;spm_id_from=pageDriver</a></p>
</li>
</ul>
<h1 id="ÂÑ™Âåñ">ÂÑ™Âåñ</h1>
<ul>
<li>
<p>ÊÉ≥Ë¶ÅËÆìÁ®ãÂºèÊÄßËÉΩÂÑ™ÂåñÊúâÂπæÂÄãÂ§ßÊñπÂêë:</p>
<ul>
<li>
<p>Ë≥áÊñôÂ∫´</p>
</li>
<li>
<p>Á®ãÂºèÊú¨È´î„ÄÅÊ•≠ÂãôÈÇèËºØ</p>
</li>
<li>
<p>‰∏≠Èñì‰ª∂(‰æãÂ¶Çtomcat„ÄÅNginx)</p>
</li>
<li>
<p>IO(‰æãÂ¶ÇÁ°¨Á¢üËÆÄÂèñ„ÄÅÁ∂≤Ë∑ØÈ†ªÂØ¨)</p>
</li>
<li>
<p>Êìç‰ΩúÁ≥ªÁµ±</p>
</li>
</ul>
</li>
<li>
<p>Ë¶ÅÂÖàË™çÊ∏ÖÁ®ãÂºèÂ±¨ÊñºCPUÂØÜÈõÜÈÇÑÊòØIOÂØÜÈõÜÔºåÊâçËÉΩÂ∞çÁóá‰∏ãËó•</p>
</li>
<li>
<p>Â∞±Á®ãÂºèÊú¨È´î‰æÜË™™ÔºåÊÉ≥ÂÑ™ÂåñÈúÄË¶ÅÂÖà‰∫ÜËß£JVMÁöÑË®òÊÜ∂È´îÊ®°ÂûãÔºåÁ≠ÜË®òÈÄ£Áµê:</p>
<ul>
<li><a href="https://yoziming.github.io/post/220126-jvm-gc/">https://yoziming.github.io/post/220126-jvm-gc/</a></li>
</ul>
</li>
<li>
<p>‰∫ÜËß£JVMËàáGCÔºåÊúÄÁõ¥Êé•ÁöÑÂÑ™ÂåñÁõÆÊ®ôÂ∞±ÊòØÊ∏õÂ∞ëFullGCÊ¨°Êï∏</p>
</li>
</ul>
<h2 id="jvmÁõ£Êéß">JVMÁõ£Êéß</h2>
<ul>
<li>Â∑•ÂÖ∑: jconsoleËàájvisualvmÔºåÂæåËÄÖÊòØÂä†Âº∑ÂçáÁ¥öÁâà
<ul>
<li>Áõ¥Êé•cmdÔºåjvisualvmÂ∞±ËÉΩÂü∑Ë°å</li>
</ul>
</li>
<li>ÂÆâË£ùVisual GCÊèí‰ª∂ÔºåÂ¶ÇÊûúÊúâÂïèÈ°åË¶ÅÂéªË®≠ÂÆöÊèí‰ª∂‰∏≠ÂøÉÁâàÊú¨Ëàá‰∏ãËºâÁ∂≤ÂùÄ</li>
</ul>
<p><img src="image-20220121121111079.png" alt="image-20220121121111079"></p>
<ul>
<li>dockerÈñãÂïüÁõ£Êéß <code>docker stats</code></li>
<li>JMeter‰∏çË¶ÅÈñãÂ§™Â§öÂü∑Ë°åÁ∑íÔºå50~100ÂÖàË©¶Ë©¶ÔºåÊàëÂâõÂâõÈñã500ÂÄãÁõ¥Êé•ÊääWSLËôõÊì¨Ê©üÊêûÊ≠ª‰∫Ü</li>
</ul>
<h3 id="Ê∏¨Ë©¶Á¥ÄÈåÑ">Ê∏¨Ë©¶Á¥ÄÈåÑ</h3>
<ul>
<li>ÂÅö‰∏ÄÂÄãÁ∞°ÂñÆÁöÑË°®Ê†ºÁµ±Ë®àÂêÑÁí∞ÁØÄÁöÑÂêûÂêêÈáè(ThroughputÔºåTP)„ÄÅ90%ÈüøÊáâÊôÇÈñìËàáCPU‰ΩøÁî®Áéá„ÄÅÂ£ìÂäõÈªû</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>TP(/sec)</th>
<th>90% Line(ms)</th>
<th>CPU(%)</th>
<th>Áì∂È†∏</th>
</tr>
</thead>
<tbody>
<tr>
<td>nginx</td>
<td>1000</td>
<td>54</td>
<td>80</td>
<td>CPU</td>
</tr>
<tr>
<td>Gateway</td>
<td>17000</td>
<td>5</td>
<td>100</td>
<td>CPU</td>
</tr>
<tr>
<td>Á∞°ÂñÆÊúçÂãô</td>
<td>22000</td>
<td>6</td>
<td>60</td>
<td></td>
</tr>
<tr>
<td>Á∞°ÂñÆÊúçÂãô+Gateway</td>
<td>7400</td>
<td>13</td>
<td>25</td>
<td>Á∂≤Ë∑ØIO</td>
</tr>
<tr>
<td>ÂÖ®ÈèàË∑Ø+È¶ñÈ†Å</td>
<td>220</td>
<td>242</td>
<td>10</td>
<td>DB„ÄÅthymeleaf</td>
</tr>
<tr>
<td>ÂÖ®ÈèàË∑Ø+‰∏âÁ¥öÂàÜÈ°û</td>
<td>116</td>
<td>466</td>
<td>25</td>
<td>DB</td>
</tr>
<tr>
<td>È¶ñÈ†ÅÂÖ®ÈáèË≥áÊ∫ê</td>
<td>4</td>
<td>471</td>
<td>5</td>
<td>ÈùúÊÖãË≥áÊ∫ê</td>
</tr>
</tbody>
</table>
<h3 id="Ê∏¨nginx">Ê∏¨nginx</h3>
<ul>
<li>
<p>Áî±ÊñºÊòØÈñãÂú®WSLËôõÊì¨Ê©üÁöÑdocker desktopÔºåÊïàÁéáÊØîÊ≠£Â∏∏ÈÇÑ‰Ωé</p>
</li>
<li>
<p>ÁôºÁèænginxÂè™Âç†Áî®CPUÔºåÂõ†ÁÇ∫ÂÆÉÂ∞±Ë≤†Ë≤¨ËΩâÁôºÔºåÂπæ‰πé‰∏çÂêÉRAM</p>
</li>
</ul>
<p><img src="image-20220121125253295.png" alt="image-20220121125253295"></p>
<h3 id="Ê∏¨gateway">Ê∏¨Gateway</h3>
<ul>
<li>Ê∏¨http://localhost:88/</li>
<li>TPÂ§ßÊ¶Ç17737.7ÔºåÁôºÁèæ‰πüÊòØÁàÜÂêÉCPU</li>
<li>RAMÂõ†ÁÇ∫‰πãÂâçÂïüÂãï-Xmx100mÈôêÂà∂‰∫ÜÔºåGC‰πüÊ∏ÖË†ªÂ§öÊ¨°ÁöÑ</li>
</ul>
<p><img src="image-20220121131028008.png" alt="image-20220121131028008"></p>
<h3 id="Ê∏¨Á∞°ÂñÆÊúçÂãô">Ê∏¨Á∞°ÂñÆÊúçÂãô</h3>
<p><img src="image-20220121133400546.png" alt="image-20220121133400546"></p>
<ul>
<li>ÁµêÊûú: ÂæàÂãáÂòõÔºåÊØîÁ∂≤ÈóúÈÇÑÁµêÂØ¶</li>
</ul>
<p><img src="image-20220121133549355.png" alt="image-20220121133549355"></p>
<ul>
<li>Á∞°ÂñÆÊúçÂãô+Á∂≤Èóú
<ul>
<li>Êé•ËëóÊê≠ÈÖçÁ∂≤ÈóúÔºåÂ¢ûÂä†‰∏ÄÂÄãËΩâÁôºÁöÑË¶èÂâáÂç≥ÂèØ</li>
</ul>
</li>
</ul>
<p><img src="image-20220121134205517.png" alt="image-20220121134205517"></p>
<ul>
<li>ÁµêÊûú:
<ul>
<li>È°ØÁÑ∂‰∏≠Èñì‰ª∂Ë∂äÂ§öÔºåÈüøÊáâÊôÇÈñìÂ∞±ÊãâÈï∑</li>
<li>‰ΩÜÊòØÂêûÂêêÈáè‰Ωé‰∫ÜÔºåCPUÂç†Áî®‰πüÂ∞è‰∫Ü</li>
</ul>
</li>
</ul>
<p><img src="image-20220121134511732.png" alt="image-20220121134511732"></p>
<h3 id="ÂÖ®ÈèàË∑Ø">ÂÖ®ÈèàË∑Ø</h3>
<ul>
<li>
<p>Âç≥ÂÆåÊï¥ÁöÑË®™Âïèmall.comÔºåÈÄèÈÅénginxÂà∞Á∂≤ÈóúÂÜçÂà∞ÂïÜÂìÅÈ¶ñÈ†Å</p>
<ul>
<li>ÂåÖÊã¨È†ÅÈù¢Ê∏≤ÊüìËàáSQLÊü•Ë≥áÊñôÂ∫´</li>
</ul>
</li>
<li>
<p>ÁµêÊûú: Áõ¥Êé•ÊÇ≤ÂäáÔºåÁõÆÂâçÊàëÁöÑÁì∂È†∏ÂèØËÉΩÊòØÂú®DB</p>
</li>
</ul>
<p><img src="image-20220121135158718.png" alt="image-20220121135158718"></p>
<ul>
<li>ÈÇÑÂèØ‰ª•Âà∞ÈÄ≤ÈöéË®≠ÂÆöÔºåÊääÂåÖÂê´Ë≥áÊ∫êÊâìÂãæÔºåÊóÅÈÇäÈôêÂà∂‰∏¶Ë°å‰∏ãËºâÊúÄÂ•Ω‰πüÂãæÔºå‰∏çÁÑ∂ÂÆπÊòìÂç°Ê≠ª
<ul>
<li>ÈÄôÂÄãÂãæ‰∏äTPÂâ©4ÔºåÈ°ØÁÑ∂ÈÇÑË¶ÅÂÇ≥ÂúñÁâáÈÇ£‰∫õÈùúÊÖãË≥áÊ∫êÊúÉÂ∞çwebÂÆπÂô®(tomcat)Â£ìÂäõÂ§ßÂ¢û</li>
</ul>
</li>
</ul>
<p><img src="image-20220121141026275.png" alt="image-20220121141026275"></p>
<ul>
<li>ÂÖ®ÈèàË∑Ø+‰∏âÁ¥öÂàÜÈ°û</li>
</ul>
<p><img src="image-20220121140122098.png" alt="image-20220121140122098"></p>
<ul>
<li>ÁµêÊûú:
<ul>
<li>Êú¨Ë∫´‰∏âÁ¥öÂàÜÈ°ûÊòØÂÄãÈáçË§áÊü•SQLÁöÑÂãï‰ΩúÔºåÂæûË≥áÊñôÂ∫´ÊãøÂ§™Â§öÊù±Ë•ø‰∫ÜÔºåÂèØ‰ª•ÁúãÂà∞ÊØèÁßíÊé•Êî∂8MBÁöÑË≥áÊñôÔºåÂú®ÈÇ£ÈÇäÂç°Âæà‰πÖ</li>
</ul>
</li>
</ul>
<p><img src="image-20220121140219549.png" alt="image-20220121140219549"></p>
<ul>
<li>ËÄÅÂ∏´Á§∫ÁØÑÁöÑTPÂè™Êúâ2ÔºåËÇØÂÆöÊòØÁÇ∫‰∫ÜÁ§∫ÁØÑÂæ™Áí∞Êü•Â∫´ÁöÑÊ¨°Êï∏Â§™Â§öÔºåÊàëËá™Â∑±ÂØ´Áï∂ÂàùÂ∞±Êúâ‰∫õÂÑ™ÂåñÔºåÁõ°ÈáèÊ∏õÂ∞ëÂæ™Áí∞Êü•Ë°®ÁöÑÂãï‰ΩúÔºåËÉΩÊâπÊ¨°ÁöÑÂ∞±ÊâπÊ¨°ÔºåÊâÄ‰ª•ÈÇÑÂ•Ω‰∏ÄÈªûÔºåÁúã‰æÜÊé•‰∏ã‰æÜÂ∞±ÊòØË¶ÅÊîπÈÄôÂÄã</li>
</ul>
<h2 id="Â∞èÁµê">Â∞èÁµê</h2>
<ul>
<li>Á∂≤Ë∑ØÊñπÈù¢Ôºå‰∏≠Èñì‰ª∂Ë∂äÂ§öÊêçÂ§±Ë∂äÂ§ßÔºå‰ΩÜÁ∂≤Ë∑ØIO‰∫§‰∫í‰∏ÄËà¨‰æÜË™™1Ëê¨ÂêûÂêêÊ≤íÂïèÈ°åÔºåÊö´ÊôÇ‰∏çÊúÉÊé•Ëß∏Âà∞ÈÄô‰∫õ</li>
<li>Ê•≠ÂãôÊñπÈù¢‰∏ªË¶ÅÊòØÂç°Âú®DBËàáË≥áÊ∫êÔºå‰ª•‰∏ãÈñãÂßãÊ™¢Ë®é</li>
</ul>
<h1 id="ÊîπÈÄ≤Êé™ÊñΩ">ÊîπÈÄ≤Êé™ÊñΩ</h1>
<blockquote>
<p>Êîπ‰∏ÄÈ†ÖÂèØ‰ª•Ë©¶‰∏ÄÈ†ÖÁúãÁúãÊèêÂçáÂπÖÂ∫¶ÔºåÊàëÂ∞±‰∏ç‰∏Ä‰∏ÄË®òÈåÑ‰∫Ü</p>
</blockquote>
<ul>
<li>
<p>Ê®°ÊùøÁöÑÊ∏≤ÊüìÈÄüÂ∫¶: ‰πãÂâçÁÇ∫‰∫ÜÁôºÈñãÊ∏¨Ë©¶ÔºåÊääthymeleafÂø´ÂèñÁµ¶Èóú‰∫Ü<code>spring.thymeleaf.cache=false</code>ÔºåÊâìÈñãÂ§ßÊ¶ÇÈÇÑËÉΩÊúâ10%ÊèêÂçá</p>
</li>
<li>
<p>Êó•Ë®òË®òÈåÑÁöÑÁ¥öÂà•Ôºå‰ª•ÂâçÁî®infoÂÖ®Ë®òÔºå‰πüÊúÉÁ®çÂæÆÂΩ±Èüø</p>
</li>
</ul>
<p><img src="image-20220121142941057.png" alt="image-20220121142941057"></p>
<h2 id="db">DB</h2>
<ul>
<li>
<p>‰∏ÄÊ®£ÂèØ‰ª•ÈóúÊéâÊ≤íÁî®ÁöÑÊó•Ë®òË®òÈåÑÁ¥öÂà•</p>
</li>
<li>
<p>MySQLÂÑ™Âåñ</p>
<ul>
<li>ÊääÂ∏∏Êü•ÁöÑÊ¨Ñ‰Ωç(Ê∂âÂèäwhere Âèä order by)Âä†‰∏äÁ¥¢ÂºïÔºåÂèØ‰ª•ÊúâÊïàÊèêÂçáÊü•Ë©¢ÈÄüÂ∫¶
<ul>
<li>‰ΩÜ‰πü‰∏çÊòØË∂äÂ§öË∂äÂ•ΩÔºåÁ¥¢ÂºïÂ§öÊúÉ‰ΩøinsertË∑üupdateËÆäÊÖ¢</li>
</ul>
</li>
<li>ÈÅøÂÖçÁî®NullÂà§Êñ∑ÔºåÁî®nullÊúÉÂ∞éËá¥ÊîæÊ£ÑÁ¥¢ÂºïËÄåÈÄ≤Ë°åÂÖ®Ë°®ÊéÉÊèèÔºåÂØßÂèØÁî®1Êàñ0ÈÄôÁ®Æ</li>
<li>ÈÅøÂÖç‰ΩøÁî®<code>!=</code>Êü•Ë°®ÔºåÁêÜÁî±Âêå‰∏ä</li>
<li><code>in</code> Âíå<code>not in</code>‰πüË¶ÅÊÖéÁî®ÔºåËÉΩÁî®betweenÊàñexists‰ª£Êõø</li>
</ul>
</li>
</ul>
<p><img src="image-20220121142824660.png" alt="image-20220121142824660"></p>
<ul>
<li>Êü•DBÁöÑÊ•≠ÂãôÈÇèËºØÊòØÈáçÈªû
<ul>
<li>DBËÉΩ‰∏ÄÊ¨°Êü•Áõ°Èáè‰∏ÄÊ¨°Êü•ÂÆåÔºåÈÅøÂÖçÂæ™Áí∞Êü•Ë°®ÔºåÈ∫ªÁÖ©ÁöÑÂ∞ÅË£ù‰∫§Áµ¶java‰æÜËôïÁêÜ</li>
<li></li>
</ul>
</li>
</ul>
<h2 id="Ë≥áÊ∫êÂãïÈùúÂàÜÈõ¢">Ë≥áÊ∫êÂãïÈùúÂàÜÈõ¢</h2>
<ul>
<li>ÊääÈùúÊÖãË≥áÊ∫ê‰∏üÁµ¶nginxËÆì‰ªñË≤†Ë≤¨Áõ¥Êé•ËøîÂõûÁµ¶Áî®Êà∂ÔºåËÄå‰∏çÊòØÂú®tomcatÈÄôÈÇäÂèàË¶ÅÂãïÂèàË¶ÅÈùú„ÄÅÁñ≤ÊñºÂ•îÂëΩ„ÄÇÂàÜÈñãÂæåÂèØ‰ª•ÊúâÊïàÊèêÂçáË≥áÊ∫êË®™ÂïèÊïàÁéáÔºå‰∏¶‰∏îËß£ÊîæÊπØÂßÜË≤ì</li>
</ul>
<p><img src="image-20220120154602582.png" alt="image-20220120154602582"></p>
<ul>
<li>Êää<code>static</code>Ë≥áÊñôÂ§æ‰∏üÂà∞linuxÁöÑ<code>/mydata/nginx/html/</code>‰πã‰∏ã
<ul>
<li>Áî®WSLÁöÑË©±ÊâìÈñãÁµÇÁ´ØÈ†êË®≠Â∞±Âú®CÊßΩÊàëÁöÑÊñá‰ª∂ÔºåÂèØ‰ª•Áõ¥Êé•Êã∑Ë≤ùËµ∞</li>
<li>‰ΩÜË¶ÅÊ≥®ÊÑèÊúâ‰∫õÊñá‰ª∂Â¶ÇÊûúÂú®windowsÊâìÈñãÈÅéÔºåÁ©∫Ê†ºÊàñÂÖ∂‰ªñÁ∑®Á¢ºÂïèÈ°åÂú®linuxÂÆπÊòìÂ†±ÈåØ</li>
</ul>
</li>
<li>‰øÆÊîπnginx serverË¶èÂâáÔºåÊ≥®ÊÑèLocationË¶èÂâáÂö¥Ê†ºÁöÑÊîæÂú®‰∏äÈù¢
<ul>
<li>Ê≥®ÊÑè<code>default.conf</code>ÊúâÊ≤íÊúâlocation‰πüÊòØ<code>/</code> ÈñãÈ†≠ÊîîÊà™Ë¶èÂâáÁöÑÔºåÊàëÂú®ÈÄôÈÇäÈô§ÈåØÂ•Ω‰πÖÊâçÊÉ≥Âà∞ÊòØ‰πãÂâçÂÅöÊ∏¨Ë©¶Ë®≠ÂÆöÁöÑËìãÂà∞</li>
</ul>
</li>
</ul>
<p><img src="image-20220121150915876.png" alt="image-20220121150915876"></p>
<ul>
<li>dockerÂïüÂãïnginxÁöÑÊôÇÂÄôÊéõËºâÊòØÈÄôÊ®£</li>
</ul>
<pre tabindex="0"><code>-v /mydata/nginx/html:/usr/share/nginx/html
</code></pre><ul>
<li>
<p>ÊâÄ‰ª•ÂÆπÂô®ÂÖß/usr/share/nginx/html‰∏ã‰πüÊúÉÁúãÂà∞<code>static</code>Ë≥áÊñôÂ§æ</p>
</li>
<li>
<p>ÊääÊ®°Êùø‰∏ã<code>index.html</code>ÈÇ£‰∫õÁöÑURLÈÉΩÂä†‰∏ä<code>/static/</code>ÊâìÈ†≠Â∞±ËÉΩÊ≠£Â∏∏Ë®™Âïè‰∫Ü</p>
</li>
</ul>
<p><img src="image-20220121160836754.png" alt="image-20220121160836754"></p>
<h3 id="Êï¥ÁêÜË≥áÊ∫êË®™ÂïèÊµÅÁ®ã">Êï¥ÁêÜË≥áÊ∫êË®™ÂïèÊµÅÁ®ã</h3>
<blockquote>
<p>ÁπûÂæóÊúâÈªûÂ§öÂúàÔºåÁêÜ‰∏Ä‰∏ãÊÄùÁ∑í</p>
</blockquote>
<ul>
<li>ÁèæÂú®nginxÁôºÊèÆÁöÑÂäüÁî®: Ë™∞Âæû<code>server_name=mall.com</code>‰æÜË®™ÂïèÔºåÊàëÂ∞±Êää‰Ω†‰∏üÁµ¶Á∂≤Èóú(<code>windows‰∏ªÊ©üIP:88</code>)</li>
<li>Á∂≤Èóú‰∏ÄÁúãÊòØ<code>mall.com</code>Â∞±ËΩâÁôºÁµ¶<code>product</code>ÊúçÂãô</li>
<li><code>product</code>ÊúçÂãôÁöÑ<code>IndexController</code>Êäì<code>{&quot;/&quot;, &quot;index.html&quot;}</code>ÁöÑURLÔºåÊää‰Ω†Â∞éÂà∞thymeleafÊ∏≤ÊüìÁöÑÈ¶ñÈ†ÅÊ®°Êùøindex.html</li>
<li><code>index.html</code>Ë£°Èù¢Ë´ãÊ±ÇË®™Âïè<code>http://mall.com/static/xxxx</code>ÁöÑÈùúÊÖãË≥áÊ∫êÔºåÂèàË¢´nginxÊîîÊà™ÔºåÁõ¥Êé•ÂæûnginxÊâÄÂú®ÂÆπÂô®ËøîÂõûÁµ¶‰ΩøÁî®ËÄÖ</li>
</ul>
<h2 id="heapÂ§ßÂ∞èÁÆ°ÁêÜ">HeapÂ§ßÂ∞èÁÆ°ÁêÜ</h2>
<ul>
<li>
<p>‰πãÂâçÁÇ∫‰∫ÜÂ§öÈñãÊúçÂãôÔºåÂú®ÊØèÂÄãÊúçÂãôVMË®≠ÂÆöÈÇ£ÈÇäË™øÈÅé-Xmx100m</p>
<ul>
<li>
<p><code>-Xmx</code>ÊúÄÂ§ßÂ†ÜÂèØÁî®</p>
</li>
<li>
<p><code>-Xms</code>ÂàùÂßãÂ†ÜÔºåÂ¶ÇÊûúÈÖçÊúÄÂ§ß=ÊúÄÂ∞èÔºåÈÇ£ÊØèÊ¨°GCÂÆåJVMÂ∞±‰∏çÊúÉÈáçÊñ∞ÂàÜÈÖçË®òÊÜ∂È´îÔºå‰πüÊúâÈªûÊèêÂçá</p>
</li>
<li>
<p><code>-Xmn</code>Âπ¥Ëºï‰ª£ÔºåÊï¥ÂÄãÂ†Ü=Âπ¥Ëºï‰ª£ + Âπ¥ËÄÅ‰ª£ + ÊåÅ‰πÖ‰ª£ÔºåÊåÅ‰πÖ‰ª£‰∏ÄËà¨Âõ∫ÂÆöÂ§ßÂ∞èÁÇ∫64mÔºåÊâÄ‰ª•Âπ¥Ëºï‰ª£Â¢ûÂä†Â∞±ÊúÉÊì†Â£ìÂπ¥ËÄÅ‰ª£ÁöÑÁ©∫Èñì</p>
</li>
<li>
<p><code>-Xss</code>ÊØèÂÄãÂü∑Ë°åÁ∑íÁöÑÂ†ÜÊ£ßÂ§ßÂ∞èÔºåÈ†êË®≠ÊòØ1M</p>
</li>
</ul>
</li>
<li>
<p>Ë®òÊÜ∂È´îÂ¥©ÊΩ∞: Â†ÜÂÖ®ÈÉ®‰ΩîÊªøÔºåGCÊåÅÁ∫åÈÅãË°å‰ΩÜÁÑ°Ê≥ïÂÆåÊàêÔºåÁõ¥Âà∞Á®ãÂºèÊéßÂà∂Âè∞ÈñãÂßãÂ†±ÈåØOOM</p>
</li>
<li>
<p>ÈÅ©Áï∂Âä†Â§ßË®òÊÜ∂È´îÔºåÊ∏õÂ∞ëFULL GCÊ¨°Êï∏Ôºå‰πüÂèØ‰ª•ÊúâÊèêÂçá</p>
</li>
<li>
<p>Âè¶Â§ñÂèØ‰ª•ÁúãÂà∞ÂêåÊ®£È†êË®≠ÊÉÖÊ≥Å‰∏ãJDK11ÁöÑGCÊïàÁéáÊØîJDK8ÈÇÑÂº∑‰∏ÄÈªûÔºåÁúã‰æÜÊîπÁâàÈÇÑÊòØÊúâÈï∑ÈÄ≤ÁöÑ</p>
</li>
</ul>
<p>&hellip;‰∏ãÁ´†ÁπºÁ∫åÔºåÁ∑©Â≠òËàáÂàÜ‰ΩàÂºèÈéñ</p>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;">‰∏äÊ¨°‰øÆÊîπÊñº 2022-01-27</p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="https://yoziming.github.io/post/220128-gulimall-11-synchronized-lock/">
			‰∏ã‰∏ÄÁØá<br>RedisÁ∑©Â≠òËàáÂàÜ‰ΩàÂºèÈéñ
                </a>
                
                
                
                <a class="older-posts" href="https://yoziming.github.io/post/220126-jvm-gc/">
			‰∏ä‰∏ÄÁØá<br>JVMÊ®°ÂûãËàáGCÁ≠ñÁï•
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                








<div id="waline"></div>
<script>
    new Waline({
        el: '#waline',
        path: location.pathname,
        serverURL: "https://waline-pn38gfwbz-yoziming.vercel.app/" ,
		lang: 'en-US',
		visitor: true,
		meta: ['nick', 'mail'],
    });
    </script>



            </div>
        </div>
    </div>


                    </div>
            </div><div id="single-column-footer">
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ÁßªÊ§çËá™ <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	
</div>
            </div>
    
    <script src="/js/journal.js"></script>
    </body>
</html>
