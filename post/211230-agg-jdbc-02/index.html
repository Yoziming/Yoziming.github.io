<!DOCTYPE html>
<html><head>
<meta name="google-site-verification" content="XrwF-xUZWSGJVBBm7jM8vqemVqx--zo5Tb9d-Vr7BCc" />
<title>‰∫ãÂãô„ÄÅDAO„ÄÅÈÄ£Êé•Ê±†„ÄÅDbutilsÂ∑•ÂÖ∑ÂåÖ</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="Â∞öÁ°ÖË∞∑JDBCÁ≠ÜË®ò-02">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="‰∫ãÂãô„ÄÅDAO„ÄÅÈÄ£Êé•Ê±†„ÄÅDbutilsÂ∑•ÂÖ∑ÂåÖ" />
<meta property="og:description" content="Â∞öÁ°ÖË∞∑JDBCÁ≠ÜË®ò-02" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yoziming.github.io/post/211230-agg-jdbc-02/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-12-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-12-30T00:00:00+00:00" /><meta property="og:site_name" content="My Blog" />






<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="‰∫ãÂãô„ÄÅDAO„ÄÅÈÄ£Êé•Ê±†„ÄÅDbutilsÂ∑•ÂÖ∑ÂåÖ"/>
<meta name="twitter:description" content="Â∞öÁ°ÖË∞∑JDBCÁ≠ÜË®ò-02"/>







<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">


  




<link rel="icon" href="https://yoziming.github.io/images/favicon.png">



<link rel="stylesheet" href="https://yoziming.github.io/scss/journal.min.3f72a5fc8f5b5dd732a4b476aced0eece2156958d9d414316494ddb10593ddf7.css" integrity="sha256-P3Kl/I9bXdcypLR2rO0O7OIVaVjZ1BQxZJTdsQWT3fc=" media="screen">



<link rel="stylesheet" href="https://yoziming.github.io/scss/dark-mode.min.f7c2efa7183435a6bd1842f91c541481c7a5137b5991629a870f24e4a516ad4b.css" integrity="sha256-98Lvpxg0Naa9GEL5HFQUgcelE3tZkWKahw8k5KUWrUs=" media="screen">


<script src="/vendor/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");
</script>






  <script src="/js/toc.js"></script>











<script src="//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js"></script>





</head>
<body>
    	<div id="app"><div id="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="https://yoziming.github.io/">
    
        <div class="nav-title">
            ÊüöÂ≠êËå∂ÂÆ§
        </div>
        
        <div class="nav-subtitle">
            Á¥ÄÈåÑËá™Â≠∏Â§ßÂ∞è‰∫ã
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/">
                È¶ñÈ†Åüè†
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                Ê®ôÁ±§üè∑Ô∏è
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                Á≥ªÂàóÊñáüìñ
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about-me">
                ÈóúÊñºÊàëüê£
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ÁßªÊ§çËá™ <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	

    </div>
    
</div><div id="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>- ÁõÆÈåÑ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%ba%8b%e5%8b%99transaction" onclick="onNavClick(`#‰∫ãÂãôtransaction-nav`)" id="‰∫ãÂãôtransaction-nav">
									‰∫ãÂãôTransaction
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e4%ba%8b%e5%8b%99%e7%9a%84%e7%9b%b8%e9%97%9c%e6%96%b9%e6%b3%95" onclick="onNavClick(`#‰∫ãÂãôÁöÑÁõ∏ÈóúÊñπÊ≥ï-nav`)" id="‰∫ãÂãôÁöÑÁõ∏ÈóúÊñπÊ≥ï-nav">
									‰∫ãÂãôÁöÑÁõ∏ÈóúÊñπÊ≥ï
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%ba%8b%e5%8b%99%e5%af%a6%e4%bd%9c%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#‰∫ãÂãôÂØ¶‰ΩúÊµÅÁ®ã-nav`)" id="‰∫ãÂãôÂØ¶‰ΩúÊµÅÁ®ã-nav">
									‰∫ãÂãôÂØ¶‰ΩúÊµÅÁ®ã
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%ba%8b%e5%8b%99%e7%9a%84acid" onclick="onNavClick(`#‰∫ãÂãôÁöÑacid-nav`)" id="‰∫ãÂãôÁöÑacid-nav">
									‰∫ãÂãôÁöÑACID
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e9%9a%94%e9%9b%a2%e6%80%a7" onclick="onNavClick(`#ÈöîÈõ¢ÊÄß-nav`)" id="ÈöîÈõ¢ÊÄß-nav">
									ÈöîÈõ¢ÊÄß
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e8%b3%87%e6%96%99%e5%ba%ab%e7%9a%84%e4%bd%b5%e7%99%bc%e5%95%8f%e9%a1%8c" onclick="onNavClick(`#Ë≥áÊñôÂ∫´ÁöÑ‰ΩµÁôºÂïèÈ°å-nav`)" id="Ë≥áÊñôÂ∫´ÁöÑ‰ΩµÁôºÂïèÈ°å-nav">
									Ë≥áÊñôÂ∫´ÁöÑ‰ΩµÁôºÂïèÈ°å
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#dao" onclick="onNavClick(`#dao-nav`)" id="dao-nav">
									DAO
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%90%8c%e5%a0%b4%e5%8a%a0%e6%98%a0javabean" onclick="onNavClick(`#ÂêåÂ†¥Âä†Êò†javabean-nav`)" id="ÂêåÂ†¥Âä†Êò†javabean-nav">
									ÂêåÂ†¥Âä†Êò†JavaBean
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e9%80%a3%e6%8e%a5%e6%b1%a0" onclick="onNavClick(`#ÈÄ£Êé•Ê±†-nav`)" id="ÈÄ£Êé•Ê±†-nav">
									ÈÄ£Êé•Ê±†
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%84%aa%e5%8b%a2" onclick="onNavClick(`#ÂÑ™Âã¢-nav`)" id="ÂÑ™Âã¢-nav">
									ÂÑ™Âã¢
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%af%a6%e7%8f%be" onclick="onNavClick(`#ÂØ¶Áèæ-nav`)" id="ÂØ¶Áèæ-nav">
									ÂØ¶Áèæ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bd%bf%e7%94%a8" onclick="onNavClick(`#‰ΩøÁî®-nav`)" id="‰ΩøÁî®-nav">
									‰ΩøÁî®
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#dbutils%e5%b7%a5%e5%85%b7%e5%8c%85" onclick="onNavClick(`#dbutilsÂ∑•ÂÖ∑ÂåÖ-nav`)" id="dbutilsÂ∑•ÂÖ∑ÂåÖ-nav">
									DbutilsÂ∑•ÂÖ∑ÂåÖ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#queryrunner" onclick="onNavClick(`#queryrunner-nav`)" id="queryrunner-nav">
									QueryRunner
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#resultsethandler" onclick="onNavClick(`#resultsethandler-nav`)" id="resultsethandler-nav">
									ResultSetHandler
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#dbutils" onclick="onNavClick(`#dbutils-nav`)" id="dbutils-nav">
									DbUtils
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%b0%8f%e7%b5%90" onclick="onNavClick(`#Â∞èÁµê-nav`)" id="Â∞èÁµê-nav">
									Â∞èÁµê
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a type="button" class="pagination-action" id="darkModeToggleButton">
            <span class="material-icons pagination-action-icon" id="darkModeToggleIcon">
                dark_mode
            </span>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" id="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/">
                    È¶ñÈ†Åüè†
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    Ê®ôÁ±§üè∑Ô∏è
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    Á≥ªÂàóÊñáüìñ
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about-me">
                    ÈóúÊñºÊàëüê£
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- ÁõÆÈåÑ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%ba%8b%e5%8b%99transaction" onclick="onNavClick(`#‰∫ãÂãôtransaction-nav`)" id="‰∫ãÂãôtransaction-nav">
									‰∫ãÂãôTransaction
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e4%ba%8b%e5%8b%99%e7%9a%84%e7%9b%b8%e9%97%9c%e6%96%b9%e6%b3%95" onclick="onNavClick(`#‰∫ãÂãôÁöÑÁõ∏ÈóúÊñπÊ≥ï-nav`)" id="‰∫ãÂãôÁöÑÁõ∏ÈóúÊñπÊ≥ï-nav">
									‰∫ãÂãôÁöÑÁõ∏ÈóúÊñπÊ≥ï
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%ba%8b%e5%8b%99%e5%af%a6%e4%bd%9c%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#‰∫ãÂãôÂØ¶‰ΩúÊµÅÁ®ã-nav`)" id="‰∫ãÂãôÂØ¶‰ΩúÊµÅÁ®ã-nav">
									‰∫ãÂãôÂØ¶‰ΩúÊµÅÁ®ã
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%ba%8b%e5%8b%99%e7%9a%84acid" onclick="onNavClick(`#‰∫ãÂãôÁöÑacid-nav`)" id="‰∫ãÂãôÁöÑacid-nav">
									‰∫ãÂãôÁöÑACID
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e9%9a%94%e9%9b%a2%e6%80%a7" onclick="onNavClick(`#ÈöîÈõ¢ÊÄß-nav`)" id="ÈöîÈõ¢ÊÄß-nav">
									ÈöîÈõ¢ÊÄß
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e8%b3%87%e6%96%99%e5%ba%ab%e7%9a%84%e4%bd%b5%e7%99%bc%e5%95%8f%e9%a1%8c" onclick="onNavClick(`#Ë≥áÊñôÂ∫´ÁöÑ‰ΩµÁôºÂïèÈ°å-nav`)" id="Ë≥áÊñôÂ∫´ÁöÑ‰ΩµÁôºÂïèÈ°å-nav">
									Ë≥áÊñôÂ∫´ÁöÑ‰ΩµÁôºÂïèÈ°å
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#dao" onclick="onNavClick(`#dao-nav`)" id="dao-nav">
									DAO
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%90%8c%e5%a0%b4%e5%8a%a0%e6%98%a0javabean" onclick="onNavClick(`#ÂêåÂ†¥Âä†Êò†javabean-nav`)" id="ÂêåÂ†¥Âä†Êò†javabean-nav">
									ÂêåÂ†¥Âä†Êò†JavaBean
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e9%80%a3%e6%8e%a5%e6%b1%a0" onclick="onNavClick(`#ÈÄ£Êé•Ê±†-nav`)" id="ÈÄ£Êé•Ê±†-nav">
									ÈÄ£Êé•Ê±†
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%84%aa%e5%8b%a2" onclick="onNavClick(`#ÂÑ™Âã¢-nav`)" id="ÂÑ™Âã¢-nav">
									ÂÑ™Âã¢
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%af%a6%e7%8f%be" onclick="onNavClick(`#ÂØ¶Áèæ-nav`)" id="ÂØ¶Áèæ-nav">
									ÂØ¶Áèæ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bd%bf%e7%94%a8" onclick="onNavClick(`#‰ΩøÁî®-nav`)" id="‰ΩøÁî®-nav">
									‰ΩøÁî®
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#dbutils%e5%b7%a5%e5%85%b7%e5%8c%85" onclick="onNavClick(`#dbutilsÂ∑•ÂÖ∑ÂåÖ-nav`)" id="dbutilsÂ∑•ÂÖ∑ÂåÖ-nav">
									DbutilsÂ∑•ÂÖ∑ÂåÖ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#queryrunner" onclick="onNavClick(`#queryrunner-nav`)" id="queryrunner-nav">
									QueryRunner
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#resultsethandler" onclick="onNavClick(`#resultsethandler-nav`)" id="resultsethandler-nav">
									ResultSetHandler
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#dbutils" onclick="onNavClick(`#dbutils-nav`)" id="dbutils-nav">
									DbUtils
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%b0%8f%e7%b5%90" onclick="onNavClick(`#Â∞èÁµê-nav`)" id="Â∞èÁµê-nav">
									Â∞èÁµê
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div id="drawer-mask" v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav id="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div id="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a id="navTitle" class="navbar-brand" href="https://yoziming.github.io/">
            ÊüöÂ≠êËå∂ÂÆ§
        </a>
        
        <button type="button" class="nav-darkmode-toggle" id="darkModeToggleButton2">
            <i class="material-icons" id="darkModeToggleIcon2">
                dark_mode
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" id="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="https://yoziming.github.io/">
        <div class="single-column-header-title">ÊüöÂ≠êËå∂ÂÆ§</div>
        
        <div class="single-column-header-subtitle">Á¥ÄÈåÑËá™Â≠∏Â§ßÂ∞è‰∫ã</div>
        

    </a>
</div>

            <div id="content">
                <div id="streamContainer" class="stream-container">

    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                
                    
                    
                    style="background-image: url('https://yoziming.github.io/images/jdbc.jpg')"
                    
                
            >
                <div class="post-title">
                    ‰∫ãÂãô„ÄÅDAO„ÄÅÈÄ£Êé•Ê±†„ÄÅDbutilsÂ∑•ÂÖ∑ÂåÖ
                    
                    <div class="post-subtitle">
                        Â∞öÁ°ÖË∞∑JDBCÁ≠ÜË®ò-02
                    </div>
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            2021-12-30 00:00
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/javaweb%E7%B7%9A%E4%B8%8A%E8%AA%B2">JavaWebÁ∑ö‰∏äË™≤</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/jdbc">JDBC</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <h1 id="‰∫ãÂãôtransaction">‰∫ãÂãôTransaction</h1>
<blockquote>
<p>TransactionÔºåÂè∞ÁÅ£:‰∫§ÊòìÔºå‰∏≠Âúã:‰∫ãÂãô</p>
</blockquote>
<ul>
<li>
<p>Âú®MySQL‰∏≠Âè™Êúâ‰ΩøÁî®‰∫ÜInnodbË≥áÊñôÂ∫´ÂºïÊìéÁöÑË≥áÊñôÂ∫´ÊàñË°®ÊâçÊîØÊè¥‰∫ãÂãô</p>
</li>
<li>
<p>‰∫ãÂãô = ‰∏ÄÁµÑÊìç‰ΩúË≥áÊñôÂ∫´ÁöÑÂãï‰ΩúÈõÜÂêàÔºå‰ΩøË≥áÊñôÂæû‰∏ÄÁ®ÆÁãÄÊÖãËÆäÊèõÁÇ∫Âè¶‰∏ÄÁ®ÆÁãÄÊÖã</p>
</li>
<li>
<p>‰∏ÄÂÄã‰∫ãÂãô‰øùË≠â‰∏ÄÁµÑSQLË™ûÂè•Ë¶ÅÂòõÂÖ®ÈÉ®Âü∑Ë°åÔºåË¶ÅÂòõÂÖ®ÈÉ®‰∏çÂü∑Ë°å</p>
<ul>
<li>Ë¶ÅÂòõÊèê‰∫§CommitÔºåË¶ÅÂòõÂõûÊªæRollback</li>
</ul>
</li>
<li>
<p>Êï∏Êìö‰∏ÄÊó¶Êèê‰∫§ÔºåÂ∞±‰∏çÂèØÂõûÊªæ</p>
</li>
<li>
<p>ÈÇ£‰∫õÊìç‰ΩúÊúÉËá™ÂãïÊèê‰∫§?</p>
<ul>
<li>DDL(Âà™Â∫´Âª∫Ë°®‰πãÈ°ûÁöÑÊìç‰Ωú):ÂøÖÂÆöËá™ÂãïÊèê‰∫§</li>
<li>DML(Êìç‰ΩúÊüêÁ≠ÜË≥áÊñô):È†êË®≠ÊúÉËá™ÂãïÊèê‰∫§Ôºå‰ΩÜÂèØ‰ª•<code>set autocommit = false</code></li>
<li>ÈóúÈñâÈÄ£Êé•ÊôÇÔºåÈ†êË®≠‰πüÊúÉËá™ÂãïÊèê‰∫§</li>
</ul>
</li>
</ul>
<h2 id="‰∫ãÂãôÁöÑÁõ∏ÈóúÊñπÊ≥ï">‰∫ãÂãôÁöÑÁõ∏ÈóúÊñπÊ≥ï</h2>
<blockquote>
<p>Áî±<code>java.sql.Connection</code>ÂåÖÊèê‰æõÔºåÈ°ØÁÑ∂ÈÄô‰∫õÊñπÊ≥ïÈÉΩÊòØÁî±ConnectionÁâ©‰ª∂Ë™øÁî®</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">setAutoCommit</span>(<span style="color:#00688b;font-weight:bold">boolean</span>)
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#00688b;font-weight:bold">boolean</span> <span style="color:#008b45">getAutoCommit</span>()
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">commit</span>()
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">rollback</span>()
</span></span></code></pre></div><h2 id="‰∫ãÂãôÂØ¶‰ΩúÊµÅÁ®ã">‰∫ãÂãôÂØ¶‰ΩúÊµÅÁ®ã</h2>
<ol>
<li>ÈóúÈñâËá™ÂãïÊèê‰∫§</li>
<li>Âü∑Ë°å‰∫ãÂãôË™ûÂè•ÔºåÂèØËÉΩÊúâÂ§öË°å</li>
<li><code>commit()</code>ÊâãÂãïÊèê‰∫§Ôºå‰∏¶ÈÇÑÂéüËá™ÂãïÊèê‰∫§Ë®≠ÂÆö</li>
<li>Êñº<code>catch (Exception e)</code> ÂçÄÂ°ä‰ΩøÁî®<code>rollback()</code>ÂõûÊªæ</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// ÁØÑ‰æã
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">public</span> String <span style="color:#008b45">delete</span>(String id) {
</span></span><span style="display:flex;"><span>    String ID = id;
</span></span><span style="display:flex;"><span>    db = <span style="color:#8b008b;font-weight:bold">new</span> getConnection();
</span></span><span style="display:flex;"><span>„ÄÄ  Connection con = db.<span style="color:#658b00">getConnection</span>();
</span></span><span style="display:flex;"><span>„ÄÄ  <span style="color:#8b008b;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>        con.<span style="color:#658b00">setAutoCommit</span>(<span style="color:#8b008b;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>        db.<span style="color:#658b00">executeUpdate</span>(<span style="color:#cd5555">&#34;delete from helloworld where ID=&#34;</span> + ID); <span style="color:#228b22">//Êõ¥Êñ∞Êìç‰Ωú1
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    „ÄÄ„ÄÄ db.<span style="color:#658b00">executeUpdate</span>(<span style="color:#cd5555">&#34;delete from helloworld _book where ID=&#34;</span> + ID); <span style="color:#228b22">//Êõ¥Êñ∞Êìç‰Ωú2
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    „ÄÄ„ÄÄ db.<span style="color:#658b00">executeUpdate</span>(<span style="color:#cd5555">&#34;delete from helloworld_user where ID=&#34;</span> + ID); <span style="color:#228b22">//Êõ¥Êñ∞Êìç‰Ωú3
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    „ÄÄ„ÄÄ con.<span style="color:#658b00">commit</span>();<span style="color:#228b22">//Êèê‰∫§JDBC‰∫ãÂãô
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    „ÄÄ„ÄÄ con.<span style="color:#658b00">setAutoCommit</span>(<span style="color:#8b008b;font-weight:bold">true</span>);
</span></span><span style="display:flex;"><span>        db.<span style="color:#658b00">close</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#cd5555">&#34;success&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>    „ÄÄ„ÄÄcon.<span style="color:#658b00">rollBack</span>();<span style="color:#228b22">//ÂõûÊªæJDBC‰∫ãÂãô
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    „ÄÄ„ÄÄe.<span style="color:#658b00">printStackTrace</span>();
</span></span><span style="display:flex;"><span>       db.<span style="color:#658b00">close</span>();
</span></span><span style="display:flex;"><span>       <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#cd5555">&#34;fail&#34;</span>;
</span></span><span style="display:flex;"><span>„ÄÄ  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="‰∫ãÂãôÁöÑacid">‰∫ãÂãôÁöÑACID</h2>
<ul>
<li>ÂéüÂ≠êÊÄß(Atomicity):‰∏ÄÂÄã‰∫ãÂãô(transaction)‰∏≠ÁöÑÊâÄÊúâÊìç‰Ωú‰∏çÂèØÂàÜÂâ≤ÔºåË¶ÅÈ∫ºÂÖ®ÈÉ®ÂÆåÊàêÔºåË¶ÅÈ∫ºÂÖ®ÈÉ®‰∏çÂÆåÊàêÔºå‰∏çÊúÉÁµêÊùüÂú®‰∏≠ÈñìÊüêÂÄãÁí∞ÁØÄ„ÄÇ‰∫ãÂãôÂú®Âü∑Ë°åÈÅéÁ®ã‰∏≠ÁôºÁîüÈåØË™§ÔºåÊúÉË¢´ÂõûÊªæ(Rollback)Âà∞‰∫ãÂãôÈñãÂßãÂâçÁöÑÁãÄÊÖãÔºåÂ∞±ÂÉèÈÄôÂÄã‰∫ãÂãôÂæû‰æÜÊ≤íÊúâÂü∑Ë°åÈÅé‰∏ÄÊ®£</li>
<li>‰∏ÄËá¥ÊÄß(Consistency):Âú®‰∫ãÂãôÈñãÂßã‰πãÂâçÂíå‰∫ãÂãôÁµêÊùü‰ª•ÂæåÔºåË≥áÊñôÂ∫´ÁöÑÂÆåÊï¥ÊÄßÊ≤íÊúâË¢´Á†¥Â£û„ÄÇÈÄôË°®Á§∫ÂØ´ÂÖ•ÁöÑË≥áÊñôÂøÖÈ†àÂÆåÂÖ®Á¨¶ÂêàÊâÄÊúâÁöÑÈ†êË®≠Ë¶èÂâáÔºåÈÄôÂåÖÂê´Ë≥áÊñôÁöÑÁ≤æÁ¢∫Â∫¶„ÄÅ‰∏≤ËÅØÊÄß‰ª•ÂèäÂæåÁ∫åË≥áÊñôÂ∫´ÂèØ‰ª•Ëá™ÁôºÊÄßÂú∞ÂÆåÊàêÈ†êÂÆöÁöÑÂ∑•‰Ωú„ÄÇ</li>
<li>ÈöîÈõ¢ÊÄß(Isolation):Ë≥áÊñôÂ∫´ÂÖÅË®±Â§öÂÄã‰ΩµÁôº‰∫ãÂãôÂêåÊôÇÂ∞çÂÖ∂Ë≥áÊñôÈÄ≤Ë°åËÆÄÂØ´Âíå‰øÆÊîπÁöÑËÉΩÂäõÔºåÈöîÈõ¢ÊÄßÂèØ‰ª•Èò≤Ê≠¢Â§öÂÄã‰∫ãÂãô‰ΩµÁôºÂü∑Ë°åÊôÇÁî±Êñº‰∫§ÂèâÂü∑Ë°åËÄåÂ∞éËá¥Ë≥áÊñôÂπ≤Êìæ„ÄÇ‰∫ãÂãôÈöîÈõ¢ÂàÜÁÇ∫‰∏çÂêåÁ¥öÂà•Ôºå‰∏ãËø∞</li>
<li>ÊåÅ‰πÖÊÄßÊÄß(Durability):‰∫§ÊòìËôïÁêÜÁµêÊùüÂæåÔºåÂ∞çË≥áÊñôÁöÑ‰øÆÊîπÂ∞±ÊòØÊ∞∏‰πÖÁöÑÔºåÂç≥‰æøÁ≥ªÁµ±ÊïÖÈöú‰πü‰∏çÊúÉ‰∏üÂ§±„ÄÇ</li>
</ul>
<h3 id="ÈöîÈõ¢ÊÄß">ÈöîÈõ¢ÊÄß</h3>
<h4 id="Ë≥áÊñôÂ∫´ÁöÑ‰ΩµÁôºÂïèÈ°å">Ë≥áÊñôÂ∫´ÁöÑ‰ΩµÁôºÂïèÈ°å</h4>
<ul>
<li>È´íËÆÄ(dirty read):AËÆÄÂèñ‰∫ÜÂ∑≤Á∂ìË¢´BÊõ¥Êñ∞‰ΩÜÊú™Êèê‰∫§ÁöÑË≥áÊñôÔºå‰πãÂæåBÂõûÊªæÔºåÂ∞éËá¥AËÆÄÂèñ‰∫ÜÁÑ°ÊïàÁöÑ&quot;È´í&quot;Ë≥áÊñô</li>
<li>‰∏çÂèØÈáçË§áËÆÄ(non-repeatable read):AËàáBËÆÄÂèñ‰∫ÜË≥áÊñôÔºå‰πãÂæåBÊõ¥Êñ∞‰∫ÜË≥áÊñôÔºåÂ∞éËá¥AÂÜçËÆÄÂèñÊôÇÂâçÂæåË≥áÊñô‰∏çÂêå</li>
<li>ÂπªËÆÄ(phantom read):AÂæû‰∏ÄÂºµË°®ËÆÄÂèñ‰∫ÜÊüê‰∫õË≥áÊñôÔºåBÂú®Ë©≤Ë°®ÊèíÂÖ•‰∫Ü‰∏Ä‰∫õÊñ∞ÁöÑË°åÔºåÂ∞éËá¥AÂÜçËÆÄÂèñË°®ÊôÇÂâçÂæåË≥áÊñôÈáè‰∏çÂêå</li>
</ul>
<h5 id="ÈöîÈõ¢Á≠âÁ¥ö">ÈöîÈõ¢Á≠âÁ¥ö</h5>
<blockquote>
<p>ÈöîÈõ¢Á≠âÁ¥öÁî±‰ΩéËá≥È´òÔºåË∂ä‰∏ãÈù¢Ë∂äÂÆâÂÖ®ÔºåÊïàÁéá‰πüË∂ä‰Ωé</p>
</blockquote>
<ul>
<li>ËÆÄÊú™Êèê‰∫§(Read uncommitted):ÂÖÅË®±ËÆÄÂèñÂÖ∂‰ªñ‰∫ãÂãôÊú™Êèê‰∫§ÁöÑËÆäÊõ¥Ôºå3Á®ÆÂïèÈ°åÈÉΩÊúÉÊúâ</li>
<li>ËÆÄÂ∑≤Êèê‰∫§(Read committed):Âè™ÂÖÅË®±ËÆÄÂèñÂÖ∂‰ªñ‰∫ãÂãôÂ∑≤Êèê‰∫§ÁöÑËÆäÊõ¥ÔºåÂèØÈÅøÂÖçÈ´íËÆÄ</li>
<li>ÂèØÈáçË§áËÆÄ(Repeatable read):Á¢∫‰øù‰∏ÄÂÄã‰∫ãÂãôÂ§öÊ¨°ËÆÄÂèñ‰∏ÄÂÄãÂ≠óÊÆµÈÉΩÊòØÁõ∏ÂêåÁöÑÂÄºÔºåÂú®Ê≠§‰∫ãÂãôÊåÅÁ∫åÊôÇÈñìÂÖßÔºåÁ¶ÅÊ≠¢ÂÖ∂‰ªñ‰∫ãÂãôÂ∞çÈÄôÂÄãÂ≠óÊÆµÈÄ≤Ë°åÊõ¥Êñ∞ÔºåÂèØÈÅøÂÖçÈ´íËÆÄËàá‰∏çÂèØÈáçË§áËÆÄ</li>
<li>Â∫èÂàóÂåñ(Serializable):Á¢∫‰øù‰∏ÄÂÄã‰∫ãÂãôÂæû‰∏ÄÂÄãË°®‰∏≠ËÆÄÂèñÂà∞Áõ∏ÂêåÁöÑË°åÔºåÂú®Ê≠§‰∫ãÂãôÊåÅÁ∫åÊôÇÈñìÂÖßÔºåÁ¶ÅÊ≠¢ÂÖ∂‰ªñ‰∫ãÂãôÂ∞çÊï¥ÂºµË°®ÈÄ≤Ë°åÊèíÂÖ•„ÄÅÊõ¥Êñ∞ËàáÂà™Èô§ÔºåÂèØÈÅøÂÖçÊâÄÊúâÂïèÈ°åÔºå‰ΩÜÊïàÁéáÂæà‰Ωé</li>
</ul>
<h5 id="Ë≥áÊñôÂ∫´Â∑ÆÁï∞">Ë≥áÊñôÂ∫´Â∑ÆÁï∞</h5>
<ul>
<li>OracleÊîØÊè¥2Á®Æ‰∫ãÂãôÈöîÈõ¢Á¥öÂà•:Read committedËàáSerializable
<ul>
<li>OracleÈ†êË®≠ÁöÑ‰∫ãÂãôÈöîÈõ¢Á¥öÂà•ÁÇ∫:Read committed</li>
</ul>
</li>
<li>MySQLÊîØÊè¥ 4 Á®Æ‰∫ãÂãôÈöîÈõ¢Á¥öÂà•
<ul>
<li>MySQLÈ†êË®≠ÁöÑ‰∫ãÂãôÈöîÈõ¢Á¥öÂà•ÁÇ∫:Repeatable read</li>
</ul>
</li>
</ul>
<h5 id="mysqlË®≠ÂÆöÈöîÈõ¢">MySQLË®≠ÂÆöÈöîÈõ¢</h5>
<ul>
<li>
<p>ÊØèÂïüÂãï‰∏ÄÂÄãmysqlÁ®ãÂ∫èÔºåÂ∞±ÊúÉÁç≤Âæó‰∏ÄÂÄãÂñÆÁç®ÁöÑË≥áÊñôÂ∫´ÈÄ£Êé•ÔºåÊØèÂÄãË≥áÊñôÂ∫´ÈÄ£Êé•ÈÉΩÊúâ‰∏ÄÂÄãÂÖ®ÂüüËÆäÊï∏ <code>@@tx_isolation</code>Ë°®Á§∫Áï∂ÂâçÁöÑ‰∫ãÂãôÈöîÈõ¢Á¥öÂà•</p>
<ul>
<li>mysql8ÁÇ∫<code>@@transaction_isolation</code></li>
</ul>
</li>
<li>
<p>Êü•ÁúãÁï∂ÂâçÁöÑÈöîÈõ¢Á¥öÂà•:</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>@@tx_isolation;<span style="color:#bbb">
</span></span></span></code></pre></div><ul>
<li>Ë®≠ÁΩÆÁï∂ÂâçMySQLÈÄ£Êé•ÁöÑÈöîÈõ¢Á¥öÂà•:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#00688b;font-weight:bold">set</span><span style="color:#bbb">  </span>transaction<span style="color:#bbb"> </span>isolation<span style="color:#bbb"> </span>level<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">read</span><span style="color:#bbb"> </span>committed;<span style="color:#bbb">
</span></span></span></code></pre></div><ul>
<li>Ë®≠ÁΩÆË≥áÊñôÂ∫´Á≥ªÁµ±ÁöÑÂÖ®ÂüüÁöÑÈöîÈõ¢Á¥öÂà•:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#00688b;font-weight:bold">set</span><span style="color:#bbb"> </span>global<span style="color:#bbb"> </span>transaction<span style="color:#bbb"> </span>isolation<span style="color:#bbb"> </span>level<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">read</span><span style="color:#bbb"> </span>committed;<span style="color:#bbb">
</span></span></span></code></pre></div><ul>
<li>Ë£úÂÖÖÊìç‰ΩúÔºåÂâµÂª∫MySQLË≥áÊñôÂ∫´‰ΩøÁî®ËÄÖ</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">create</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">user</span><span style="color:#bbb"> </span>tom<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">identified</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">by</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#39;abc123&#39;</span>;<span style="color:#bbb">
</span></span></span></code></pre></div><ul>
<li>Êéà‰∫àË®±ÂèØÊ¨ä</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-MySQL" data-lang="MySQL"><span style="display:flex;"><span><span style="color:#228b22">#Êéà‰∫àÈÄöÈÅéÁ∂≤Ë∑ØÊñπÂºèÁôªÈåÑÁöÑtom‰ΩøÁî®ËÄÖÔºåÂ∞çÊâÄÊúâÂ∫´ÊâÄÊúâË°®ÁöÑÂÖ®ÈÉ®Ë®±ÂèØÊ¨äÔºåÂØÜÁ¢ºË®≠ÁÇ∫abc123.
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">grant</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">all</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">privileges</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">on</span><span style="color:#bbb"> </span>*.*<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">to</span><span style="color:#bbb"> </span>tom@<span style="color:#cd5555">&#39;%&#39;</span><span style="color:#bbb">  </span><span style="color:#8b008b;font-weight:bold">identified</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">by</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#39;abc123&#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">#Áµ¶tom‰ΩøÁî®ËÄÖ‰ΩøÁî®Êú¨Âú∞ÂëΩ‰ª§ÂàóÊñπÂºèÔºåÊéà‰∫àatguigudbÈÄôÂÄãÂ∫´‰∏ãÁöÑÊâÄÊúâË°®ÁöÑÊèíÂà™ÊîπÊü•ÁöÑË®±ÂèØÊ¨ä„ÄÇ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">grant</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">select</span>,<span style="color:#8b008b;font-weight:bold">insert</span>,<span style="color:#8b008b;font-weight:bold">delete</span>,<span style="color:#8b008b;font-weight:bold">update</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">on</span><span style="color:#bbb"> </span>atguigudb.*<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">to</span><span style="color:#bbb"> </span>tom@localhost<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">identified</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">by</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#39;abc123&#39;</span>;<span style="color:#bbb">
</span></span></span></code></pre></div><hr>
<h1 id="dao">DAO</h1>
<blockquote>
<p><a href="https://www.bilibili.com/video/BV1eJ411c7rf?p=45">https://www.bilibili.com/video/BV1eJ411c7rf?p=45</a></p>
<p>‰ªñÈÄôÈÇäË¨õÈÄôÂÄãÁõ∏Áï∂ÊñºËá™Â∑±ÈÄ†Ëº™Â≠êÔºå‰ª•ÂæåÊ°ÜÊû∂Áî®Âà∞ÁöÑÊôÇÂÄôÁüá‰∫ÜÂèØ‰ª•ÂÜçÂõû‰æÜÁúã</p>
</blockquote>
<p><code>DataAccessObjects</code>Ë≥áÊñôÂ≠òÂèñÁâ©‰ª∂ÔºåÂ∞àÈñÄÁî®‰æÜË∑üË≥áÊñôÂ∫´Êâì‰∫§ÈÅìÔºå‰ΩçÊñºÊ•≠ÂãôÈÇèËºØËàáË≥áÊñô‰πãÈñìÁöÑÊ©ãÊ®ëÔºåÁ¢∫Âàá‰æÜË™™Â∞±ÊòØÊääÁç≤Âèñ/ÈóúÈñâÈÄ£Êé•ËàáÂ¢ûÂà™ÊîπÊü•Â∞ÅË£ùËµ∑‰æÜ</p>
<ul>
<li>DAO‰ªãÈù¢:ÊääÂ∞çË≥áÊñôÂ∫´ÁöÑÊâÄÊúâÊìç‰ΩúÂÆöÁæ©ÊàêÊäΩË±°ÊñπÊ≥ïÔºåÂèØ‰ª•Êèê‰æõÂ§öÁ®ÆÂØ¶Áèæ</li>
<li>DAO ÂØ¶ÁèæÈ°û:ÈáùÂ∞ç‰∏çÂêåË≥áÊñôÂ∫´Áµ¶Âá∫DAO‰ªãÈù¢ÂÆöÁæ©ÊñπÊ≥ïÁöÑÂÖ∑È´îÂØ¶Áèæ</li>
<li>ÂØ¶È´îÈ°û:Áî®ÊñºÂ≠òÊîæËàáÂÇ≥Ëº∏Áâ©‰ª∂Ë≥áÊñôÔºåÊØîÂ¶ÇË°®Á§∫Êü•Ë©¢Âà∞ÁöÑÊâÄÊúâÊ¨Ñ‰ΩçÂ≠òÊîæÁöÑÁöÑÁâ©‰ª∂</li>
<li>Ë≥áÊñôÂ∫´ÈÄ£Êé•ÂíåÈóúÈñâÂ∑•ÂÖ∑È°û:ÈÅøÂÖç‰∫ÜË≥áÊñôÂ∫´ÈÄ£Êé•ÂíåÈóúÈñâ‰ª£Á¢ºÁöÑÈáçË§á‰ΩøÁî®ÔºåÊñπ‰æø‰øÆÊîπ</li>
</ul>
<h2 id="ÂêåÂ†¥Âä†Êò†javabean">ÂêåÂ†¥Âä†Êò†JavaBean</h2>
<p>JavaBeanÊòØ‰∏ÄÁ®Æ<code>public class</code>ÔºåÁõÆÁöÑÊòØÁÇ∫‰∫ÜÊñπ‰æøÂú®Á®ãÂºè‰∏≠Ë¢´ÈáçË§á‰ΩøÁî®ÔºåÈ°û‰ººÂÆπÂô®ÁöÑÊ¶ÇÂøµÔºåÊàë‰∏çÂú®‰πé‰Ω†Ë£°Èù¢Â∞ÅË£ù‰∫ÜÂï•ÔºåÂè™Ë¶ÅÊªøË∂≥ÁâπÂÆöÊ¢ù‰ª∂Â§ßÂÆ∂ÈÉΩÂèØ‰ª•ÂæàÊñπ‰æøÂú∞Êãø‰æÜÁî®„ÄÇJavaBeanÈúÄÊªøË∂≥ÈÄô4ÈªûÁ¥ÑÂÆö:</p>
<ul>
<li>ÊâÄÊúâÂ±¨ÊÄßÁÇ∫private</li>
<li>Êèê‰æõÈ†êË®≠Á©∫ÂèÉÁöÑÊßãÈÄ†ÊñπÊ≥ï</li>
<li>Êèê‰æõpublicÁöÑgetterÂíåsetter</li>
<li>ÂØ¶Áèæserializable‰ªãÈù¢ÔºåÂèØÂ∫èÂàóÂåñ‰øùË≠âÂèØ‰ª•Ë∑®Âπ≥Âè∞Ê∫ùÈÄö</li>
</ul>
<hr>
<h1 id="ÈÄ£Êé•Ê±†">ÈÄ£Êé•Ê±†</h1>
<blockquote>
<p>Âç≥ÁÇ∫Ë≥áÊñôÂ∫´ÈÄ£Êé•Âª∫Á´ãÁ∑©Ë°ùÊ±†</p>
</blockquote>
<ul>
<li>ÊÉ≥ÂÉèÊúâ‰∏ÄÂè£‰∫ïÔºå‰ª•ÂâçË™∞Ë¶ÅÁî®Ê∞¥Â∞±Ëá™Â∑±ÂéªÊâì‰∏ÄÊ°∂Ê∞¥ÔºåÂ§öÂ∞ë‰∫∫ÂèñÊ∞¥Â∞±Ë¶ÅÂ§öÂ∞ëÊ¢ùÈÄ£Êé•</li>
<li>ÈÄ£Êé•Ê±†Â∞±ÂÉèÂú®‰∫ïÂè£ÈÇäÊîæ‰∏ÄÂÄã<strong>Â§ßÊ∞¥Áº∏</strong>ÔºåÈõá‰∏Ä‰ΩçÂ∞àÊ•≠ÊâìÊ∞¥‰∫∫Ë≤†Ë≤¨‰∫ï‰∏≠ÂèñÊ∞¥‰∫ãÂãôÔºåÁï∂ÂÖ∂‰ªñ‰∫∫Ë¶ÅÁî®Ê∞¥Âè™ÈúÄË¶ÅÂæûÊ∞¥Áº∏ÂèñÂç≥ÂèØÔºåÊñπ‰æøÂèàÂø´ÈÄü</li>
</ul>
<h2 id="ÂÑ™Âã¢">ÂÑ™Âã¢</h2>
<ul>
<li>Ë≥áÊ∫êÂæ©Áî®:‰∏çÈúÄË¶ÅÈ†ªÁπÅÂâµÁ´ãÊñ∞ÁöÑÈÄ£Êé•</li>
<li>ÊèêÈ´òÈÄüÂ∫¶:Áî±ÈÄ£Êé•Ê±†ÂÆåÊàêÈÄ£Êé•Ë≥áÊñôÂ∫´ÁöÑÂàùÂßãÂåñÔºåË™∞Ë¶ÅÁî®Âè™Ë¶Å‰æÜÈÄ£Ê±†Â≠êÔºåÁúÅÊôÇ</li>
<li>Ë≥áÊ∫êÂàÜÈÖç:Áî±ÈÄ£Êé•Ê±†ÁÆ°ÁêÜÔºåÂèØ‰ª•ÈôêÂà∂ÊúÄÂ§ßÈÄ£Êé•Êï∏ÈáèÁ≠âÁ≠â</li>
<li>Èò≤Ê≠¢Ê¥©Êºè:ÂÖ∂ÂØ¶‰πüÊòØÁÆ°ÁêÜÔºåÊØîÂ¶ÇÊúâ‰∫∫Áî®Âà∞Ë∂ÖÊôÇÂ∞±ÊääÂÆÉÊî∂Âõû</li>
</ul>
<h2 id="ÂØ¶Áèæ">ÂØ¶Áèæ</h2>
<ul>
<li>
<p>JDBCÁöÑË≥áÊñôÂ∫´ÈÄ£Êé•Ê±†‰ΩøÁî®<code>javax.sql.DataSource</code>Êé•Âè£‰æÜË°®Á§∫ÔºåÊ≠§Êé•Âè£ÈÄöÂ∏∏Áî±WebServerÂØ¶ÁèæÔºå‰πüÊúâË®±Â§öÈñãÊ∫êÁöÑ‰æãÂ¶Ç:</p>
<ul>
<li><code>proxool</code>:Êõ¥Êñ∞ÊôÇÈñìÊà™Ê≠¢2008Âπ¥„ÄÇÈÄüÂ∫¶ÂèØ‰ª•ÔºåÁ©©ÂÆöÊÄßÁ®çÂ∑ÆÔºåÈ´ò‰ΩµÁôºÁöÑÊÉÖÊ≥Å‰∏ãÊúÉÂá∫ÈåØ</li>
<li><code>c3p0</code>:Â§™Âè§ËÄÅÔºå‰ª£Á¢ºÂèäÂÖ∂Ë§áÈõúÔºå‰∏çÂà©ÊñºÁ∂≠Ë≠∑</li>
<li><code>dbcp</code>:ÊòØ apache‰∏äÁöÑ‰∏ÄÂÄã java ÈÄ£Êé•Ê±†È†ÖÁõÆÔºå‰πüÊòØ tomcat ‰ΩøÁî®ÁöÑÈÄ£Êé•Ê±†ÂÖÉ‰ª∂</li>
<li><code>BoneCP</code>:13Âπ¥ÂâçÊúÄÂø´ÁöÑÈÄ£Êé•Ê±†È†ÖÁõÆ„ÄÇ2013Âπ¥Âæå‰∏çÂÜçÊõ¥Êñ∞ÔºåÂøÉÁÅ∞ÊÑèÂÜ∑</li>
<li><code>druid</code>:ÊòØalibbaÂá∫ÂìÅÁöÑ‰∏ÄÂÄãÂäüËÉΩÊØîËºÉÂÖ®Èù¢Ôºå‰∏îÊì¥Â±ïÊÄßËºÉÂ•ΩÁöÑË≥áÊñôÂ∫´ÈÄ£Êé•Ê±†ÔºåÊØîËºÉÊñπ‰æøÂ∞çjdbc‰ªãÈù¢ÈÄ≤Ë°åÁõ£ÊéßË∑üËπ§Á≠â</li>
<li><code>HikariCP</code>:ÂÖâÈÄ£Êé•Ê±†ÔºåÁõÆÂâçË¢´SpringBoot2ÂÆòÊñπÊé®Ëñ¶‰ΩøÁî®ÁöÑË≥áÊñôÂ∫´ÈÄ£Êé•Ê±†„ÄÇ</li>
</ul>
</li>
<li>
<p>ÁõÆÂâç2021Âπ¥ÁöÑÊôÇÈñìÈªûÂÅèÂêëÁî®HikariCPÊàñdruid</p>
</li>
<li>
<p>DataSourceÈÄöÂ∏∏Ë¢´Á®±ÁÇ∫Ë≥áÊñô‰æÜÊ∫êÔºåÂÆÉÂåÖÂê´ÈÄ£Êé•Ê±†ÂíåÈÄ£Êé•Ê±†ÁÆ°ÁêÜÂÖ©ÂÄãÈÉ®ÂàÜÔºåÁøíÊÖ£‰∏ä‰πüÁ∂ìÂ∏∏ÊääDataSourceÁ®±ÁÇ∫ÈÄ£Êé•Ê±†</p>
</li>
<li>
<p>DataSourceÁî®‰æÜÂèñ‰ª£DriverManager‰æÜÁç≤ÂèñConnectionÔºåÁç≤ÂèñÈÄüÂ∫¶Âø´ÔºåÂêåÊôÇÂèØ‰ª•Â§ßÂπÖÂ∫¶ÊèêÈ´òË≥áÊñôÂ∫´Â≠òÂèñÈÄüÂ∫¶</p>
</li>
<li>
<p>ÁâπÂà•Ê≥®ÊÑèÔºö</p>
<ul>
<li>Ë≥áÊñô‰æÜÊ∫êÂíåË≥áÊñôÂ∫´ÈÄ£Êé•‰∏çÂêåÔºåË≥áÊñô‰æÜÊ∫êÁÑ°ÈúÄÂâµÂª∫Â§öÂÄãÔºåÂÆÉÊòØÁî¢ÁîüË≥áÊñôÂ∫´ÈÄ£Êé•ÁöÑÂ∑•Âª†ÔºåÂõ†Ê≠§Êï¥ÂÄãÊáâÁî®Âè™ÈúÄË¶Å‰∏ÄÂÄãË≥áÊñô‰æÜÊ∫êÂç≥ÂèØ</li>
<li>Áï∂Ë≥áÊñôÂ∫´Ë®™ÂïèÁµêÊùüÂæåÔºåÁ®ãÂºèÈÇÑÊòØÂÉè‰ª•Ââç‰∏ÄÊ®£ÈóúÈñâË≥áÊñôÂ∫´ÈÄ£Êé•<code>conn.close()</code> ÂÆÉ‰∏¶Ê≤íÊúâÈóúÈñâË≥áÊñôÂ∫´ÁöÑÁâ©ÁêÜÈÄ£Êé•ÔºåÂÆÉÂÉÖÂÉÖÊääË≥áÊñôÂ∫´ÈÄ£Êé•ÈáãÊîæÔºåÊ≠∏ÈÇÑÁµ¶‰∫ÜË≥áÊñôÂ∫´ÈÄ£Êé•Ê±†</li>
</ul>
</li>
</ul>
<h2 id="‰ΩøÁî®">‰ΩøÁî®</h2>
<blockquote>
<p>Âç≥‰Ωø‰∏çÂêåÂÆ∂Êèê‰æõÁöÑÈÄ£Êé•Ê±†ÔºåÊµÅÁ®ã‰πüÈÉΩÂ§ßÂêåÂ∞èÁï∞</p>
</blockquote>
<ol>
<li>
<p>‰∏ãËºâÈ©ÖÂãïÔºåÂ∞éÂÖ•jarÂåÖ</p>
<ul>
<li><a href="https://github.com/alibaba/druid">https://github.com/alibaba/druid</a>ÔºåÈÄôË£°Áî®Âæ∑È≠Ø‰ºäÁ§∫ÁØÑ</li>
<li>ÈòøÂ∏ïÂ•ë‰πüÊúâ‰∏ÄÂÄãÈ†ÖÁõÆÂè´<code>Apache Druid</code>ÔºåÈÇ£ÊòØ‰∏ÄÂÄãË≥áÊñôÂÑ≤Â≠òÂàÜÊûêÁ≥ªÁµ±ÔºåÂÖ©ËÄÖÂ∑ÆÂæàÈÅ†Âà•ÊêûÊ∑∑‰∫Ü</li>
</ul>
</li>
<li>
<p>Á∑®ËºØË®≠ÂÆöÊ™î<code>xxx.properties</code>ÔºåË®≠ÂÆöË≥áÊñôÂ∫´Á∂≤ÂùÄ„ÄÅÂ∏≥ËôüÂØÜÁ¢ºÔºåÈÄ£Êé•Êï∏&hellip;Á≠âÁ≠â</p>
</li>
<li>
<p>ÈÄ†ÊµÅÔºåÂ∞éÂÖ•<code>properties</code></p>
</li>
<li>
<p>Áî®Êèê‰æõÁöÑÈùúÊÖãÊñπÊ≥ïÂª∫Á´ã<code>DataSource</code>Áâ©‰ª∂</p>
</li>
<li>
<p>Âæû<code>DataSource</code>Áâ©‰ª∂<code>getConnection()</code></p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// ÁØÑ‰æãÔºå‰ΩøÁî®druidÈÄ£Êé•Ê±†
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>Properties properties = <span style="color:#8b008b;font-weight:bold">new</span> Properties();
</span></span><span style="display:flex;"><span>properties.<span style="color:#658b00">load</span>(getClass().<span style="color:#658b00">getClassLoader</span>().<span style="color:#658b00">getResourceAsStream</span>(<span style="color:#cd5555">&#34;druid.properties&#34;</span>));
</span></span><span style="display:flex;"><span><span style="color:#228b22">// ÊàñÊòØÁõ¥Êé•È°ûÂêç.class.getClassLoader()...
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>DataSource dataSource = DruidDataSourceFactory.<span style="color:#658b00">createDataSource</span>(properties);
</span></span><span style="display:flex;"><span>Connection conn = dataSource.<span style="color:#658b00">getConnection</span>();
</span></span><span style="display:flex;"><span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(conn);
</span></span></code></pre></div><ul>
<li>Ë∑ØÂæësrc‰∏ãÁöÑË®≠ÂÆöÊ™î<code>druid.properties</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>url=jdbc:mysql:<span style="color:#228b22">//localhost:3306/jdbc_learn?rewriteBatchedStatements=true
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>username=root
</span></span><span style="display:flex;"><span>password=1234
</span></span><span style="display:flex;"><span>driverClassName=com.<span style="color:#658b00">mysql</span>.<span style="color:#658b00">cj</span>.<span style="color:#658b00">jdbc</span>.<span style="color:#658b00">Driver</span>
</span></span><span style="display:flex;"><span>initialSize=10
</span></span><span style="display:flex;"><span>maxActive=20
</span></span><span style="display:flex;"><span>maxWait=1000
</span></span><span style="display:flex;"><span>filters=wall
</span></span></code></pre></div><h1 id="dbutilsÂ∑•ÂÖ∑ÂåÖ">DbutilsÂ∑•ÂÖ∑ÂåÖ</h1>
<blockquote>
<p>‰∫ÜËß£Â∫ïÂ±§ÂéüÁêÜÂæåÔºåÂØ¶ÈöõÈñãÁôºÁï∂ÁÑ∂ÊòØÊãøÂà•‰∫∫ÈÄ†Â•ΩÁöÑËº™Â≠ê‰æÜÁî®</p>
</blockquote>
<ul>
<li><a href="https://commons.apache.org/proper/commons-dbutils/">https://commons.apache.org/proper/commons-dbutils/</a></li>
<li>ApacheÊèê‰æõÁöÑÈñãÊ∫ê JDBCÂ∑•ÂÖ∑È°ûÂ∫´ÔºåÂÆÉÊòØÂ∞çJDBCÁöÑÁ∞°ÂñÆÂ∞ÅË£ùÔºåÂ≠∏ÁøíÊàêÊú¨Ê•µ‰ΩéÔºåËÉΩÊ•µÂ§ßÁ∞°ÂåñjdbcÁ∑®Á¢ºÁöÑÂ∑•‰ΩúÈáèÔºåÂêåÊôÇ‰πü‰∏çÊúÉÂΩ±ÈüøÁ®ãÂºèÁöÑÊÄßËÉΩÔºåÂåÖÂê´3ÂÄã‰∏ªË¶ÅAPI:
<ul>
<li>org.apache.commons.dbutils.QueryRunner</li>
<li>org.apache.commons.dbutils.ResultSetHandler</li>
<li>org.apache.commons.dbutils.DbUtils</li>
</ul>
</li>
</ul>
<h2 id="queryrunner">QueryRunner</h2>
<blockquote>
<p>Áî®ÊñºÂ¢ûÂà™ÊîπÊü•</p>
</blockquote>
<ul>
<li><code>update</code>:ÂèØ‰ª•ÊòØÂ¢ûÂà™Êîπ</li>
<li><code>insert</code>:Âè™ËÉΩÁî®ÊñºÊèíÂÖ•</li>
<li><code>batch</code>:ÊâπÊ¨°ËôïÁêÜ</li>
<li><code>query</code>:Êü•Ë©¢ÔºåËøîÂõû<code>ResultSet</code>Ôºå‰∏¶‰∏îÊúÉËá™Ë°åÁÆ°ÁêÜÁî®Âà∞ÁöÑ<code>PreparedStatement</code>Ëàá<code>ResultSet</code>Ë≥áÊ∫ê</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// ÁØÑ‰æã
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#707a7c">@Test</span>
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">t03</span>() <span style="color:#8b008b;font-weight:bold">throws</span> Exception {
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// ÈÄ£Êé•Ê±†
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    Properties properties = <span style="color:#8b008b;font-weight:bold">new</span> Properties();
</span></span><span style="display:flex;"><span>    properties.<span style="color:#658b00">load</span>(getClass().<span style="color:#658b00">getClassLoader</span>().<span style="color:#658b00">getResourceAsStream</span>(<span style="color:#cd5555">&#34;druid.properties&#34;</span>));
</span></span><span style="display:flex;"><span>    DataSource dataSource = DruidDataSourceFactory.<span style="color:#658b00">createDataSource</span>(properties);
</span></span><span style="display:flex;"><span>    Connection conn = dataSource.<span style="color:#658b00">getConnection</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// ‰ΩøÁî®Á©∫ÂèÉÊßãÈÄ†Âô®
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    String sql = <span style="color:#cd5555">&#34;update customers set  name = ? where id=?&#34;</span>;
</span></span><span style="display:flex;"><span>    QueryRunner qr = <span style="color:#8b008b;font-weight:bold">new</span> QueryRunner();
</span></span><span style="display:flex;"><span>    qr.<span style="color:#658b00">update</span>(conn, sql, <span style="color:#cd5555">&#34;BBB&#34;</span>, 2);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// ‰ΩøÁî®dataSourceÊßãÈÄ†
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    QueryRunner qr2 = <span style="color:#8b008b;font-weight:bold">new</span> QueryRunner(dataSource);
</span></span><span style="display:flex;"><span>    qr2.<span style="color:#658b00">update</span>(<span style="color:#cd5555">&#34;update customers set  name = ? where id=?&#34;</span>, <span style="color:#cd5555">&#34;CCC&#34;</span>, 3);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>ÂâµÂª∫QueryRunnerÁâ©‰ª∂ÊôÇÔºåÊßãÈÄ†Âô®ÊúâÊ≤íÊúâÂ∏∂ÈÄ£Êé•ÊúÉÊ±∫ÂÆöÂü∑Ë°åÊìç‰Ωú(‰æãÂ¶Çupdate)ÊôÇÁ¨¨‰∏ÄÂÄãÂèÉÊï∏Ë¶Å‰∏çË¶ÅÂÇ≥ÂÖ•ÈÄ£Êé•ÔºåÈÄôÂÄãÂ∑ÆÁï∞‰∏çÂÖâÂú®ÊñºÁúÅ‰∏ÄÂÄãË¶ÅÂØ´ÁöÑÂèÉÊï∏</li>
<li>ÂÅáÂ¶ÇÊàëË¶ÅÊèê‰∫§‰∏ÄÂÄã‰∫ãÂãôÔºåÊÉ≥Áï∂ÁÑ∂ÊàëÈúÄË¶ÅÂú®Âêå‰∏ÄÊ¢ùÈÄ£Êé•ÂÆåÊàêÔºåÂ¶ÇÊûúÁôºÁîüÈåØË™§Â∞±ÂèØ‰ª•Êï¥‰∏≤ÂõûÊªæ</li>
</ul>
<h2 id="resultsethandler">ResultSetHandler</h2>
<blockquote>
<p>Êõ¥Â•ΩËôïÁêÜResultSetÁöÑ‰∏≠ËΩâÈ°û</p>
</blockquote>
<p>Êü•Ë©¢ÊôÇÊúÉÂæóÂà∞<code>java.sql.ResultSet</code>È°ûÁâ©‰ª∂ÔºåÊàëÂÄëÈúÄË¶ÅÊèêÊó©ÈÄ†‰∏ÄÂÄã<code>Handler</code>È°ûÂéªËôïÁêÜÔºåÂèØÈÅ∏ÊìáÁöÑÂ¶Ç‰∏ã:</p>
<ul>
<li><code>ArrayHandler</code>:ÊääÁµêÊûúÈõÜ‰∏≠ÁöÑÁ¨¨‰∏ÄË°åË≥áÊñôËΩâÊàêÁâ©‰ª∂Èô£Âàó„ÄÇ
<ul>
<li><code>ArrayListHandler</code>:ÊääÁµêÊûúÈõÜ‰∏≠ÁöÑÊØè‰∏ÄË°åË≥áÊñôÈÉΩËΩâÊàê‰∏ÄÂÄãÈô£ÂàóÔºåÂÜçÂ≠òÊîæÂà∞List‰∏≠„ÄÇ</li>
</ul>
</li>
<li><code>BeanHandler</code>:Â∞áÁµêÊûúÈõÜ‰∏≠ÁöÑÁ¨¨‰∏ÄË°åË≥áÊñôÂ∞ÅË£ùÂà∞‰∏ÄÂÄãÂ∞çÊáâÁöÑJavaBeanÂØ¶‰æã‰∏≠„ÄÇ
<ul>
<li><code>BeanListHandler</code>:Â∞áÁµêÊûúÈõÜ‰∏≠ÁöÑÊØè‰∏ÄË°åË≥áÊñôÈÉΩÂ∞ÅË£ùÂà∞‰∏ÄÂÄãÂ∞çÊáâÁöÑJavaBeanÂØ¶‰æã‰∏≠ÔºåÂ≠òÊîæÂà∞ListË£°„ÄÇ</li>
</ul>
</li>
<li><code>MapHandler</code>:Â∞áÁµêÊûúÈõÜ‰∏≠ÁöÑÁ¨¨‰∏ÄË°åË≥áÊñôÂ∞ÅË£ùÂà∞‰∏ÄÂÄãMapË£°ÔºåkeyÊòØÂàóÂêçÔºåvalueÂ∞±ÊòØÂ∞çÊáâÁöÑÂÄº„ÄÇ
<ul>
<li><code>MapListHandler</code>:Â∞áÁµêÊûúÈõÜ‰∏≠ÁöÑÊØè‰∏ÄË°åË≥áÊñôÈÉΩÂ∞ÅË£ùÂà∞‰∏ÄÂÄãMapË£°ÔºåÁÑ∂ÂæåÂÜçÂ≠òÊîæÂà∞List</li>
</ul>
</li>
<li><code>ColumnListHandler</code>:Â∞áÁµêÊûúÈõÜ‰∏≠Êüê‰∏ÄÂàóÁöÑË≥áÊñôÂ≠òÊîæÂà∞List‰∏≠„ÄÇ</li>
<li><code>KeyedHandler(name)</code>:Â∞áÁµêÊûúÈõÜ‰∏≠ÁöÑÊØè‰∏ÄË°åË≥áÊñôÈÉΩÂ∞ÅË£ùÂà∞‰∏ÄÂÄãMapË£°ÔºåÂÜçÊääÈÄô‰∫õmapÂÜçÂ≠òÂà∞‰∏ÄÂÄãmapË£°ÔºåÂÖ∂keyÁÇ∫ÊåáÂÆöÁöÑkey„ÄÇ</li>
<li><code>ScalarHandler</code>:Êü•Ë©¢ÂñÆÂÄãÂÄºÂ∞çË±°</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// ‰∏ÄÊ®£ÂÖàÈÄ†‰∏ÄÂÄãQueryRunner
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>QueryRunner qr2 = <span style="color:#8b008b;font-weight:bold">new</span> QueryRunner(dataSource);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22">// ÈÄ†‰∏ÄÂÄãÁî®‰æÜÊé•Êî∂ÁöÑHandlerÔºåÈ°û‰æÜËá™CustomersÁöÑjavabean
</span></span></span><span style="display:flex;"><span><span style="color:#228b22">// Ê≥®ÊÑènewÁöÑÂè≥ÈÇä()ÈúÄË¶ÅÂ°´ÂÖ•XXX.class
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>BeanHandler&lt;Customers&gt; cbh = <span style="color:#8b008b;font-weight:bold">new</span> BeanHandler&lt;&gt;(Customers.<span style="color:#658b00">class</span>);
</span></span><span style="display:flex;"><span>Customers queryCus = qr2.<span style="color:#658b00">query</span>(<span style="color:#cd5555">&#34;select * from customers where id = ?&#34;</span>, cbh, 2);
</span></span><span style="display:flex;"><span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(queryCus);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22">// Êé•Êî∂NÁ≠ÜË≥áÊñô
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>BeanListHandler&lt;Customers&gt; cusListHandler = <span style="color:#8b008b;font-weight:bold">new</span> BeanListHandler&lt;&gt;(Customers.<span style="color:#658b00">class</span>);
</span></span><span style="display:flex;"><span>List&lt;Customers&gt; cusList = qr2.<span style="color:#658b00">query</span>(<span style="color:#cd5555">&#34;select * from customers&#34;</span>, cusListHandler);
</span></span><span style="display:flex;"><span>cusList.<span style="color:#658b00">forEach</span>(System.<span style="color:#658b00">out</span>::println);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22">// Â∞áÊü•‰æÜÁöÑ‰∏ÄÂÄãÁµêÊûúÁõ¥Êé•Ë£ùÊàê‰∏ÄÂÄãmap
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>MapHandler mapHandler = <span style="color:#8b008b;font-weight:bold">new</span> MapHandler();
</span></span><span style="display:flex;"><span>Map&lt;String, Object&gt; objectMap = qr2.<span style="color:#658b00">query</span>(<span style="color:#cd5555">&#34;select * from customers where id = ?&#34;</span>, mapHandler, 6);
</span></span><span style="display:flex;"><span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(objectMap);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22">// Â∞áÊü•‰æÜÁöÑÂ§öÂëäÁµêÊûúË£ùÊàê‰∏ÄÂÄãmapList ***ÈáçÈªûÁî®Ê≥ï***
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>MapListHandler mapListHandler = <span style="color:#8b008b;font-weight:bold">new</span> MapListHandler();
</span></span><span style="display:flex;"><span>List&lt;Map&lt;String, Object&gt;&gt; queryList = qr2.<span style="color:#658b00">query</span>(<span style="color:#cd5555">&#34;select * from customers where id &lt;= ?&#34;</span>, mapListHandler, 10);
</span></span><span style="display:flex;"><span>queryList.<span style="color:#658b00">forEach</span>(System.<span style="color:#658b00">out</span>::println);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22">// scalarHandlerÊü•Ë©¢‰∏ÄÂÄãÂÄº
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>ScalarHandler scalarHandler = <span style="color:#8b008b;font-weight:bold">new</span> ScalarHandler();
</span></span><span style="display:flex;"><span><span style="color:#00688b;font-weight:bold">long</span> count = (<span style="color:#00688b;font-weight:bold">long</span>) qr2.<span style="color:#658b00">query</span>(<span style="color:#cd5555">&#34;select count(*) from customers&#34;</span>, scalarHandler);
</span></span><span style="display:flex;"><span>System.<span style="color:#658b00">out</span>.<span style="color:#658b00">println</span>(count);
</span></span></code></pre></div><h2 id="dbutils">DbUtils</h2>
<blockquote>
<p>Áî®ÊñºÁÆ°ÁêÜÈÄ£Êé•Êú¨Ë∫´ÔºåÊâÄÊúâÊñπÊ≥ïÈÉΩÊòØÈùúÊÖãÔºåÊúÄÂ∏∏Â∞±ÊòØÁî®‰æÜÈóúÈñâÈÄ£Êé•</p>
</blockquote>
<ul>
<li><code>public static void close(‚Ä¶) throws java.sql.SQLException</code>:ÁúÅÂéªÊ™¢Êü•nullÔºåÂ¶ÇÊûú‰∏çÊòØÁöÑË©±ÔºåÂÆÉÂÄëÂ∞±ÈóúÈñâConnection„ÄÅStatementÂíåResultSet</li>
<li><code>public static void closeQuietly(‚Ä¶)</code>:ÁúÅÊéâÊ™¢Êü•nullË∑üÊããÁï∞Â∏∏</li>
<li><code>public static void commitAndClose(Connection conn)throws SQLException</code>: Áî®‰æÜÊèê‰∫§ÈÄ£Êé•ÁöÑ‰∫ãÂãôÔºåÁÑ∂ÂæåÈóúÈñâÈÄ£Êé•</li>
<li><code>public static void commitAndCloseQuietly(Connection conn)</code></li>
<li><code>public static void rollback(Connection conn)throws SQLException</code>:ÂÖÅË®±connÁÇ∫nullÔºåÂõ†ÁÇ∫ÊñπÊ≥ïÂÖßÈÉ®ÂÅö‰∫ÜÂà§Êñ∑</li>
<li><code>public static void rollbackAndClose(Connection conn)throws SQLException</code></li>
<li><code>rollbackAndCloseQuietly(Connection)</code></li>
<li><code>public static boolean loadDriver(java.lang.String driverClassName)</code>:Ë£ùËºâ‰∏¶Ë®ªÂÜäJDBCÈ©ÖÂãïÁ®ãÂºèÔºåÂ¶ÇÊûúÊàêÂäüÂ∞±ËøîÂõûtrue„ÄÇ‰ΩøÁî®Ë©≤ÊñπÊ≥ïÔºå‰Ω†‰∏çÈúÄË¶ÅÊçïÊçâÈÄôÂÄãÁï∞Â∏∏ClassNotFoundException</li>
</ul>
<h1 id="Â∞èÁµê">Â∞èÁµê</h1>
<ul>
<li>‰∫ãÂãô:ÈóúÈñâËá™ÂãïÊèê‰∫§„ÄÅcatchÂçÄÂ°äÂÆ£ÂëäÂõûÊªæ„ÄÅÈÉΩÊ≠£Â∏∏Âü∑Ë°åÂæåÂÜçÊâãÂãïÊèê‰∫§</li>
<li>ÈÄ£Êé•Ê±†:Â∞éÂÖ•È©ÖÂãï„ÄÅÈÄ†propertiesË®≠ÂÆöÊ™îÂ°´ÂÖ•ÈÄ£Êé•Ë¶ÅÁ¥†„ÄÅÈÄ†DataSource„ÄÅÁç≤ÂèñÈÄ£Êé•</li>
<li>DbUtils:ÈÄ†QueryRunnerÁî®ÊñºCRUDÔºåÈÄ†ResultSetHandlerËôïÁêÜÊü•‰æÜÁöÑÁµêÊûúÔºåÁî®closeQuietly()ÈóúÈñâÈÄ£Êé•</li>
</ul>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;">‰∏äÊ¨°‰øÆÊîπÊñº 2021-12-30</p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="https://yoziming.github.io/post/220101-agg-javaweb-01/">
			‰∏ã‰∏ÄÁØá<br>WebÂâçÁ´Ø:HTML„ÄÅCSSËàáJavaScriptÂü∫Á§éÁü•Ë≠ò
                </a>
                
                
                
                <a class="older-posts" href="https://yoziming.github.io/post/211229-agg-jdbc-01/">
			‰∏ä‰∏ÄÁØá<br>JDBCÂü∫Á§é„ÄÅPreparedStatementÂ¢ûÂà™ÊîπÊü•
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                








<div id="waline"></div>
<script>
    new Waline({
        el: '#waline',
        path: location.pathname,
        serverURL: "https://waline-pn38gfwbz-yoziming.vercel.app/" ,
		lang: 'en-US',
		visitor: true,
		meta: ['nick', 'mail'],
    });
    </script>



            </div>
        </div>
    </div>


                    </div>
            </div><div id="single-column-footer">
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ÁßªÊ§çËá™ <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	
</div>
            </div>
    
    <script src="/js/journal.js"></script>
    </body>
</html>
