<!DOCTYPE html>
<html><head>
<meta name="google-site-verification" content="XrwF-xUZWSGJVBBm7jM8vqemVqx--zo5Tb9d-Vr7BCc" />
<title>Êèê‰∫§Ë®ÇÂñÆ: ÂÜ™Á≠âÊÄß„ÄÅÂàÜÊï£Âºè‰∫§ÊòìÁöÑ‰∏ÄËá¥ÊÄß</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="SpringBootÂæÆÊúçÂãôÈ†ÖÁõÆÁ≠ÜË®ò-20">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="Êèê‰∫§Ë®ÇÂñÆ: ÂÜ™Á≠âÊÄß„ÄÅÂàÜÊï£Âºè‰∫§ÊòìÁöÑ‰∏ÄËá¥ÊÄß" />
<meta property="og:description" content="SpringBootÂæÆÊúçÂãôÈ†ÖÁõÆÁ≠ÜË®ò-20" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yoziming.github.io/post/220206-gulimall-20-idempotent/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-02-06T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-02-06T00:00:00+00:00" /><meta property="og:site_name" content="My Blog" />





<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Êèê‰∫§Ë®ÇÂñÆ: ÂÜ™Á≠âÊÄß„ÄÅÂàÜÊï£Âºè‰∫§ÊòìÁöÑ‰∏ÄËá¥ÊÄß"/>
<meta name="twitter:description" content="SpringBootÂæÆÊúçÂãôÈ†ÖÁõÆÁ≠ÜË®ò-20"/>







<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">


  




<link rel="icon" href="https://yoziming.github.io/images/favicon.png">



<link rel="stylesheet" href="https://yoziming.github.io/scss/journal.min.3f72a5fc8f5b5dd732a4b476aced0eece2156958d9d414316494ddb10593ddf7.css" integrity="sha256-P3Kl/I9bXdcypLR2rO0O7OIVaVjZ1BQxZJTdsQWT3fc=" media="screen">



<link rel="stylesheet" href="https://yoziming.github.io/scss/dark-mode.min.f7c2efa7183435a6bd1842f91c541481c7a5137b5991629a870f24e4a516ad4b.css" integrity="sha256-98Lvpxg0Naa9GEL5HFQUgcelE3tZkWKahw8k5KUWrUs=" media="screen">


<script src="/vendor/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");
</script>






  <script src="/js/toc.js"></script>











<script src="//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js"></script>





</head>
<body>
    	<div id="app"><div id="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="https://yoziming.github.io/">
    
        <div class="nav-title">
            ÊüöÂ≠êËå∂ÂÆ§
        </div>
        
        <div class="nav-subtitle">
            Á¥ÄÈåÑËá™Â≠∏Â§ßÂ∞è‰∫ã
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/">
                È¶ñÈ†Åüè†
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                Ê®ôÁ±§üè∑Ô∏è
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                Á≥ªÂàóÊñáüìñ
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about-me">
                ÈóúÊñºÊàëüê£
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ÁßªÊ§çËá™ <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	

    </div>
    
</div><div id="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>- ÁõÆÈåÑ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%86%aa%e7%ad%89%e6%80%a7" onclick="onNavClick(`#ÂÜ™Á≠âÊÄß-nav`)" id="ÂÜ™Á≠âÊÄß-nav">
									ÂÜ™Á≠âÊÄß
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#token" onclick="onNavClick(`#token-nav`)" id="token-nav">
									Token
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e9%8e%96" onclick="onNavClick(`#Èéñ-nav`)" id="Èéñ-nav">
									Èéñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%95%b8%e6%93%9a%e5%ba%ab%e6%82%b2%e8%a7%80%e9%8e%96" onclick="onNavClick(`#Êï∏ÊìöÂ∫´ÊÇ≤ËßÄÈéñ-nav`)" id="Êï∏ÊìöÂ∫´ÊÇ≤ËßÄÈéñ-nav">
									Êï∏ÊìöÂ∫´ÊÇ≤ËßÄÈéñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%95%b8%e6%93%9a%e5%ba%ab%e6%a8%82%e8%a7%80%e9%8e%96" onclick="onNavClick(`#Êï∏ÊìöÂ∫´Ê®ÇËßÄÈéñ-nav`)" id="Êï∏ÊìöÂ∫´Ê®ÇËßÄÈéñ-nav">
									Êï∏ÊìöÂ∫´Ê®ÇËßÄÈéñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%88%86%e4%bd%88%e5%bc%8f%e9%8e%96" onclick="onNavClick(`#ÂàÜ‰ΩàÂºèÈéñ-nav`)" id="ÂàÜ‰ΩàÂºèÈéñ-nav">
									ÂàÜ‰ΩàÂºèÈéñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%94%af%e4%b8%80%e7%b4%84%e6%9d%9f" onclick="onNavClick(`#ÂîØ‰∏ÄÁ¥ÑÊùü-nav`)" id="ÂîØ‰∏ÄÁ¥ÑÊùü-nav">
									ÂîØ‰∏ÄÁ¥ÑÊùü
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e6%8f%90%e4%ba%a4%e8%a8%82%e5%96%ae" onclick="onNavClick(`#Êèê‰∫§Ë®ÇÂñÆ-nav`)" id="Êèê‰∫§Ë®ÇÂñÆ-nav">
									Êèê‰∫§Ë®ÇÂñÆ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#ÊµÅÁ®ã-nav`)" id="ÊµÅÁ®ã-nav">
									ÊµÅÁ®ã
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%a8%8b%e5%bc%8f%e7%a2%bc" onclick="onNavClick(`#Á®ãÂºèÁ¢º-nav`)" id="Á®ãÂºèÁ¢º-nav">
									Á®ãÂºèÁ¢º
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e8%a4%87%e7%bf%92%e6%9c%ac%e5%9c%b0%e4%ba%8b%e5%8b%99" onclick="onNavClick(`#Ë§áÁøíÊú¨Âú∞‰∫ãÂãô-nav`)" id="Ë§áÁøíÊú¨Âú∞‰∫ãÂãô-nav">
									Ë§áÁøíÊú¨Âú∞‰∫ãÂãô
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#spring%e4%ba%8b%e5%8b%99%e5%8f%83%e6%95%b8" onclick="onNavClick(`#spring‰∫ãÂãôÂèÉÊï∏-nav`)" id="spring‰∫ãÂãôÂèÉÊï∏-nav">
									spring‰∫ãÂãôÂèÉÊï∏
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e4%ba%8b%e5%8b%99%e5%82%b3%e6%92%ad" onclick="onNavClick(`#‰∫ãÂãôÂÇ≥Êí≠-nav`)" id="‰∫ãÂãôÂÇ≥Êí≠-nav">
									‰∫ãÂãôÂÇ≥Êí≠
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%9d%91" onclick="onNavClick(`#Âùë-nav`)" id="Âùë-nav">
									Âùë
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%88%86%e6%95%a3%e5%bc%8f%e4%ba%a4%e6%98%93" onclick="onNavClick(`#ÂàÜÊï£Âºè‰∫§Êòì-nav`)" id="ÂàÜÊï£Âºè‰∫§Êòì-nav">
									ÂàÜÊï£Âºè‰∫§Êòì
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#cap%e5%ae%9a%e7%90%86" onclick="onNavClick(`#capÂÆöÁêÜ-nav`)" id="capÂÆöÁêÜ-nav">
									CAPÂÆöÁêÜ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#raft%e7%ae%97%e6%b3%95" onclick="onNavClick(`#raftÁÆóÊ≥ï-nav`)" id="raftÁÆóÊ≥ï-nav">
									raftÁÆóÊ≥ï
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e9%a0%98%e5%b0%8e%e9%81%b8%e8%88%89" onclick="onNavClick(`#È†òÂ∞éÈÅ∏Ëàâ-nav`)" id="È†òÂ∞éÈÅ∏Ëàâ-nav">
									È†òÂ∞éÈÅ∏Ëàâ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%97%a5%e8%aa%8c%e8%a4%87%e8%a3%bd" onclick="onNavClick(`#Êó•Ë™åË§áË£Ω-nav`)" id="Êó•Ë™åË§áË£Ω-nav">
									Êó•Ë™åË§áË£Ω
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#base%e7%90%86%e8%ab%96" onclick="onNavClick(`#baseÁêÜË´ñ-nav`)" id="baseÁêÜË´ñ-nav">
									BASEÁêÜË´ñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%88%86%e4%bd%88%e5%bc%8f%e4%ba%8b%e5%8b%99%e5%b9%be%e7%a8%ae%e6%96%b9%e6%a1%88" onclick="onNavClick(`#ÂàÜ‰ΩàÂºè‰∫ãÂãôÂπæÁ®ÆÊñπÊ°à-nav`)" id="ÂàÜ‰ΩàÂºè‰∫ãÂãôÂπæÁ®ÆÊñπÊ°à-nav">
									ÂàÜ‰ΩàÂºè‰∫ãÂãôÂπæÁ®ÆÊñπÊ°à
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#2pc" onclick="onNavClick(`#2pc-nav`)" id="2pc-nav">
									2PC
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#xa-transaction" onclick="onNavClick(`#xa-transaction-nav`)" id="xa-transaction-nav">
									XA Transaction
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#at%e6%a8%a1%e5%bc%8f" onclick="onNavClick(`#atÊ®°Âºè-nav`)" id="atÊ®°Âºè-nav">
									ATÊ®°Âºè
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#tcc%e6%a8%a1%e5%bc%8f" onclick="onNavClick(`#tccÊ®°Âºè-nav`)" id="tccÊ®°Âºè-nav">
									TCCÊ®°Âºè
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e6%9c%80%e5%a4%a7%e5%8a%aa%e5%8a%9b%e9%80%9a%e7%9f%a5" onclick="onNavClick(`#ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•-nav`)" id="ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•-nav">
									ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%8f%af%e9%9d%a0%e6%b6%88%e6%81%af%e6%9c%80%e7%b5%82%e4%b8%80%e8%87%b4%e6%80%a7" onclick="onNavClick(`#ÂèØÈù†Ê∂àÊÅØÊúÄÁµÇ‰∏ÄËá¥ÊÄß-nav`)" id="ÂèØÈù†Ê∂àÊÅØÊúÄÁµÇ‰∏ÄËá¥ÊÄß-nav">
									ÂèØÈù†Ê∂àÊÅØÊúÄÁµÇ‰∏ÄËá¥ÊÄß
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a type="button" class="pagination-action" id="darkModeToggleButton">
            <span class="material-icons pagination-action-icon" id="darkModeToggleIcon">
                dark_mode
            </span>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" id="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/">
                    È¶ñÈ†Åüè†
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    Ê®ôÁ±§üè∑Ô∏è
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    Á≥ªÂàóÊñáüìñ
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about-me">
                    ÈóúÊñºÊàëüê£
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- ÁõÆÈåÑ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%86%aa%e7%ad%89%e6%80%a7" onclick="onNavClick(`#ÂÜ™Á≠âÊÄß-nav`)" id="ÂÜ™Á≠âÊÄß-nav">
									ÂÜ™Á≠âÊÄß
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#token" onclick="onNavClick(`#token-nav`)" id="token-nav">
									Token
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e9%8e%96" onclick="onNavClick(`#Èéñ-nav`)" id="Èéñ-nav">
									Èéñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%95%b8%e6%93%9a%e5%ba%ab%e6%82%b2%e8%a7%80%e9%8e%96" onclick="onNavClick(`#Êï∏ÊìöÂ∫´ÊÇ≤ËßÄÈéñ-nav`)" id="Êï∏ÊìöÂ∫´ÊÇ≤ËßÄÈéñ-nav">
									Êï∏ÊìöÂ∫´ÊÇ≤ËßÄÈéñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%95%b8%e6%93%9a%e5%ba%ab%e6%a8%82%e8%a7%80%e9%8e%96" onclick="onNavClick(`#Êï∏ÊìöÂ∫´Ê®ÇËßÄÈéñ-nav`)" id="Êï∏ÊìöÂ∫´Ê®ÇËßÄÈéñ-nav">
									Êï∏ÊìöÂ∫´Ê®ÇËßÄÈéñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%88%86%e4%bd%88%e5%bc%8f%e9%8e%96" onclick="onNavClick(`#ÂàÜ‰ΩàÂºèÈéñ-nav`)" id="ÂàÜ‰ΩàÂºèÈéñ-nav">
									ÂàÜ‰ΩàÂºèÈéñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%94%af%e4%b8%80%e7%b4%84%e6%9d%9f" onclick="onNavClick(`#ÂîØ‰∏ÄÁ¥ÑÊùü-nav`)" id="ÂîØ‰∏ÄÁ¥ÑÊùü-nav">
									ÂîØ‰∏ÄÁ¥ÑÊùü
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e6%8f%90%e4%ba%a4%e8%a8%82%e5%96%ae" onclick="onNavClick(`#Êèê‰∫§Ë®ÇÂñÆ-nav`)" id="Êèê‰∫§Ë®ÇÂñÆ-nav">
									Êèê‰∫§Ë®ÇÂñÆ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e6%b5%81%e7%a8%8b" onclick="onNavClick(`#ÊµÅÁ®ã-nav`)" id="ÊµÅÁ®ã-nav">
									ÊµÅÁ®ã
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%a8%8b%e5%bc%8f%e7%a2%bc" onclick="onNavClick(`#Á®ãÂºèÁ¢º-nav`)" id="Á®ãÂºèÁ¢º-nav">
									Á®ãÂºèÁ¢º
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e8%a4%87%e7%bf%92%e6%9c%ac%e5%9c%b0%e4%ba%8b%e5%8b%99" onclick="onNavClick(`#Ë§áÁøíÊú¨Âú∞‰∫ãÂãô-nav`)" id="Ë§áÁøíÊú¨Âú∞‰∫ãÂãô-nav">
									Ë§áÁøíÊú¨Âú∞‰∫ãÂãô
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#spring%e4%ba%8b%e5%8b%99%e5%8f%83%e6%95%b8" onclick="onNavClick(`#spring‰∫ãÂãôÂèÉÊï∏-nav`)" id="spring‰∫ãÂãôÂèÉÊï∏-nav">
									spring‰∫ãÂãôÂèÉÊï∏
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e4%ba%8b%e5%8b%99%e5%82%b3%e6%92%ad" onclick="onNavClick(`#‰∫ãÂãôÂÇ≥Êí≠-nav`)" id="‰∫ãÂãôÂÇ≥Êí≠-nav">
									‰∫ãÂãôÂÇ≥Êí≠
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%9d%91" onclick="onNavClick(`#Âùë-nav`)" id="Âùë-nav">
									Âùë
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e5%88%86%e6%95%a3%e5%bc%8f%e4%ba%a4%e6%98%93" onclick="onNavClick(`#ÂàÜÊï£Âºè‰∫§Êòì-nav`)" id="ÂàÜÊï£Âºè‰∫§Êòì-nav">
									ÂàÜÊï£Âºè‰∫§Êòì
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#cap%e5%ae%9a%e7%90%86" onclick="onNavClick(`#capÂÆöÁêÜ-nav`)" id="capÂÆöÁêÜ-nav">
									CAPÂÆöÁêÜ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#raft%e7%ae%97%e6%b3%95" onclick="onNavClick(`#raftÁÆóÊ≥ï-nav`)" id="raftÁÆóÊ≥ï-nav">
									raftÁÆóÊ≥ï
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e9%a0%98%e5%b0%8e%e9%81%b8%e8%88%89" onclick="onNavClick(`#È†òÂ∞éÈÅ∏Ëàâ-nav`)" id="È†òÂ∞éÈÅ∏Ëàâ-nav">
									È†òÂ∞éÈÅ∏Ëàâ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e6%97%a5%e8%aa%8c%e8%a4%87%e8%a3%bd" onclick="onNavClick(`#Êó•Ë™åË§áË£Ω-nav`)" id="Êó•Ë™åË§áË£Ω-nav">
									Êó•Ë™åË§áË£Ω
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
								</ul>
							
						
						
						
							<li>
								<a href="#base%e7%90%86%e8%ab%96" onclick="onNavClick(`#baseÁêÜË´ñ-nav`)" id="baseÁêÜË´ñ-nav">
									BASEÁêÜË´ñ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%88%86%e4%bd%88%e5%bc%8f%e4%ba%8b%e5%8b%99%e5%b9%be%e7%a8%ae%e6%96%b9%e6%a1%88" onclick="onNavClick(`#ÂàÜ‰ΩàÂºè‰∫ãÂãôÂπæÁ®ÆÊñπÊ°à-nav`)" id="ÂàÜ‰ΩàÂºè‰∫ãÂãôÂπæÁ®ÆÊñπÊ°à-nav">
									ÂàÜ‰ΩàÂºè‰∫ãÂãôÂπæÁ®ÆÊñπÊ°à
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#2pc" onclick="onNavClick(`#2pc-nav`)" id="2pc-nav">
									2PC
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#xa-transaction" onclick="onNavClick(`#xa-transaction-nav`)" id="xa-transaction-nav">
									XA Transaction
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#at%e6%a8%a1%e5%bc%8f" onclick="onNavClick(`#atÊ®°Âºè-nav`)" id="atÊ®°Âºè-nav">
									ATÊ®°Âºè
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#tcc%e6%a8%a1%e5%bc%8f" onclick="onNavClick(`#tccÊ®°Âºè-nav`)" id="tccÊ®°Âºè-nav">
									TCCÊ®°Âºè
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e6%9c%80%e5%a4%a7%e5%8a%aa%e5%8a%9b%e9%80%9a%e7%9f%a5" onclick="onNavClick(`#ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•-nav`)" id="ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•-nav">
									ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%8f%af%e9%9d%a0%e6%b6%88%e6%81%af%e6%9c%80%e7%b5%82%e4%b8%80%e8%87%b4%e6%80%a7" onclick="onNavClick(`#ÂèØÈù†Ê∂àÊÅØÊúÄÁµÇ‰∏ÄËá¥ÊÄß-nav`)" id="ÂèØÈù†Ê∂àÊÅØÊúÄÁµÇ‰∏ÄËá¥ÊÄß-nav">
									ÂèØÈù†Ê∂àÊÅØÊúÄÁµÇ‰∏ÄËá¥ÊÄß
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div id="drawer-mask" v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav id="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div id="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a id="navTitle" class="navbar-brand" href="https://yoziming.github.io/">
            ÊüöÂ≠êËå∂ÂÆ§
        </a>
        
        <button type="button" class="nav-darkmode-toggle" id="darkModeToggleButton2">
            <i class="material-icons" id="darkModeToggleIcon2">
                dark_mode
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" id="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="https://yoziming.github.io/">
        <div class="single-column-header-title">ÊüöÂ≠êËå∂ÂÆ§</div>
        
        <div class="single-column-header-subtitle">Á¥ÄÈåÑËá™Â≠∏Â§ßÂ∞è‰∫ã</div>
        

    </a>
</div>

            <div id="content">
                <div id="streamContainer" class="stream-container">

    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                
                    
                    
                    style="background-image: url('https://yoziming.github.io/images/gulimall.png')"
                    
                
            >
                <div class="post-title">
                    Êèê‰∫§Ë®ÇÂñÆ: ÂÜ™Á≠âÊÄß„ÄÅÂàÜÊï£Âºè‰∫§ÊòìÁöÑ‰∏ÄËá¥ÊÄß
                    
                    <div class="post-subtitle">
                        SpringBootÂæÆÊúçÂãôÈ†ÖÁõÆÁ≠ÜË®ò-20
                    </div>
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            2022-02-06 00:00
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/java%E5%BE%AE%E6%9C%8D%E5%8B%99%E5%B0%88%E6%A1%88">JavaÂæÆÊúçÂãôÂ∞àÊ°à</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/java">Java</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <h1 id="ÂÜ™Á≠âÊÄß">ÂÜ™Á≠âÊÄß</h1>
<blockquote>
<p>idempotent</p>
</blockquote>
<ul>
<li>Â§öÊ¨°Êèê‰∫§ÔºåÁµêÊûú‰∏çËÆäÔºåÂ∏∏Ë¶ãÊúâÈÄô‰∫õËæ¶Ê≥ï:</li>
</ul>
<h3 id="token">Token</h3>
<ul>
<li>‰ª§ÁâåÊàñÈ©óË≠âÁ¢º</li>
<li>‰º∫ÊúçÂô®Â≠òÂÑ≤‰∫Ü‰∏ÄÂÄã‰ª§ÁâåÔºåÁÑ∂ÂæåÈ†ÅÈù¢Ë¶ÅÂ∏∂‰∏äÈÄôÂÄã‰ª§ÁâåÊØîËºÉÔºå‰∏ÄÊ®£ÊâçÂèØ‰ª•Êèê‰∫§
<ul>
<li>Êèê‰∫§ÂæåÂà™Èô§ÊéâtokenÔºåÂÜçÊ¨°ÈªûÊìäÊèê‰∫§Â∞±ÊúÉÂ§±Êïó</li>
<li>‰ΩÜÊòØF5Âà∑Êñ∞ÁöÑË©±Â∞±‰∏ç‰∏ÄÊ®£‰∫ÜÔºåÊúÉÊúâÊñ∞ÁöÑtokenÁî¢Áîü</li>
</ul>
</li>
<li>Ê≥®ÊÑè: Áç≤Âèñredis‰ª§Áâå + ‰ª§ÁâåÂåπÈÖç + redisÂà™Èô§ÔºåÂÖ®Á®ãË¶Å‰øùË≠âÂéüÂ≠êÊÄßÔºå‰ΩøÁî®luaËÖ≥Êú¨</li>
</ul>
<h3 id="Èéñ">Èéñ</h3>
<h4 id="Êï∏ÊìöÂ∫´ÊÇ≤ËßÄÈéñ">Êï∏ÊìöÂ∫´ÊÇ≤ËßÄÈéñ</h4>
<blockquote>
<p>Pessimistic Lock</p>
</blockquote>
<ul>
<li>Â∞±ÊòØÊéí‰ªñÈéñÔºåÊâÄË¨ÇÊÇ≤ËßÄÂú®ÊñºË¶∫ÂæóÁ∏ΩÊúâÂàÅÊ∞ëÊÉ≥‰∫ÇÊêûÊàëÁöÑdataÔºåÊâÄ‰ª•Ëá™Â∑±ÊãøÂà∞ÈéñÂ∞±ÊäädataËóèÂà∞Â§ßË°£Ë£°ÔºåÂÆåÂÖ®‰∏çÁµ¶ÂÖ∂‰ªñ‰∫∫Áî®ÔºåÈÄ£ÁúãÈÉΩ‰∏çÁµ¶Áúã</li>
<li>Áï∂‰∏ÄÂÄãSQL commandÁç≤ÂæóÊÇ≤ËßÄÈéñÂæåÔºåÂÖ∂‰ªñÁöÑSQL command ÁÑ°Ê≥ïËÆÄÂèñÁÑ°Ê≥ï‰øÆÊîπÔºåÁõ¥Âà∞ÊÇ≤ËßÄÈéñË¢´ÈáãÊîæÂæåÊâçËÉΩÂü∑Ë°åÔºå‰æãÂ¶Ç:</li>
</ul>
<pre tabindex="0"><code>select* from xxx where id = 1 for update;
</code></pre><ul>
<li>ÊÇ≤ËßÄÈéñ‰ΩøÁî®ÊôÇ‰∏ÄËà¨‰º¥Èö®‰∫ãÂãô‰∏ÄËµ∑‰ΩøÁî®ÔºåÊï∏ÊìöÈéñÂÆöÊôÇÈñìÂèØËÉΩÊúÉÂæàÈï∑ÔºåÈúÄË¶ÅÊ†πÊìöÂØ¶ÈöõÊÉÖÊ≥ÅÈÅ∏Áî®</li>
<li>Âè¶Â§ñË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåidÂ≠óÊÆµ‰∏ÄÂÆöÊòØ‰∏ªÈçµÊàñËÄÖÂîØ‰∏ÄÁ¥¢ÂºïÔºå‰∏çÁÑ∂ÂèØËÉΩÈÄ†ÊàêÈéñË°®ÁöÑÁµêÊûúÔºåËôïÁêÜËµ∑‰æÜÊúÉÈùûÂ∏∏È∫ªÁÖ©</li>
<li>Ë≥áÊñôÂ∫´‰∏≠ÁöÑË°åÈéñÔºåË°®ÈéñÔºåËÆÄÈéñÔºåÂØ´ÈéñÔºå‰ª•ÂèäsyncronizedÂØ¶ÁèæÁöÑÈéñÂùáÁÇ∫ÊÇ≤ËßÄÈéñ</li>
</ul>
<h4 id="Êï∏ÊìöÂ∫´Ê®ÇËßÄÈéñ">Êï∏ÊìöÂ∫´Ê®ÇËßÄÈéñ</h4>
<blockquote>
<p>Optimistic Lock</p>
</blockquote>
<ul>
<li>ÂÖÅË®±Â§öÂÄã SQL command ‰æÜÊìç‰Ωú tableÔºå‰ΩÜÊòØË¶ÅÂ∏∂‰∏äÁâàÊú¨Ëôü</li>
<li>Áï∂ SQL command ÊÉ≥Ë¶ÅËÆäÊõ¥Ê¨Ñ‰Ωç data ÊôÇÊúÉÂÖàÊää‰πãÂâçÂèñÂá∫ version Ë∑ü table ÁèæÂú®ÁöÑ version ÂÅöÂ∞çÊØîÔºåÂ¶ÇÊûúÁõ∏ÂêåÂ∞±‰ª£Ë°®ÈÄôÊÆµÊúüÈñìÊ≤í‰∫∫‰øÆÊîπÂèØ‰ª•Âü∑Ë°åÔºõÂ¶ÇÊûú‰∏çÂêåÂ∞±ÊúÉÁ¶ÅÊ≠¢ÈÄôÊ¨°ÁöÑÊìç‰Ωú</li>
<li>ÈÄôÁ®ÆÊñπÊ≥ïÈÅ©ÂêàÂú®Êõ¥Êñ∞ÁöÑÂ†¥ÊôØ‰∏≠Ôºå‰æãÂ¶Ç:</li>
</ul>
<pre tabindex="0"><code>update t_goods set count = count-1,version =version + 1 where good_id=2 and version = 1
</code></pre><ul>
<li>Ê®ÇËßÄÈéñ‰∏ªË¶Å‰ΩøÁî®ÊñºËôïÁêÜËÆÄÂ§öÂØ´Â∞ëÁöÑÂ†¥ÊôØ</li>
</ul>
<h4 id="ÂàÜ‰ΩàÂºèÈéñ">ÂàÜ‰ΩàÂºèÈéñ</h4>
<ul>
<li>‰∏çÁÆ°Â§öÂ∞ëÊúçÂãôÔºåÈôêÂà∂ÂêåÊôÇÈÉΩÂè™Êúâ‰∏Ä‰∫∫ËÉΩÊìç‰Ωú</li>
<li>ÂèÉËÄÉ‰πãÂâçÁöÑÁ≠ÜË®ò: <a href="https://yoziming.github.io/post/220128-gulimall-11-synchronized-lock/">https://yoziming.github.io/post/220128-gulimall-11-synchronized-lock/</a></li>
</ul>
<h3 id="ÂîØ‰∏ÄÁ¥ÑÊùü">ÂîØ‰∏ÄÁ¥ÑÊùü</h3>
<ul>
<li>Âà©Áî®Ë≥áÊñôÂ∫´<code>UNIQUE</code>ÂîØ‰∏ÄÁ¥ÑÊùüË®ÇÂñÆËôüÔºåÂ∞±ÁÑ°Ê≥ïÁîüÊàêÂêåÊ®£Ë®ÇÂñÆ</li>
<li>ÊàñÊòØÂª∫Á´ã‰∏ÄÂÄãÈò≤ÈáçË°®ÔºåË¶ÅÊìç‰ΩúÊôÇÂ∞±Âú®Èò≤ÈáçË°®ÊèíÂÖ•‰æãÂ¶ÇË®ÇÂñÆËôüÔºåÊèíÂÖ•ÊàêÂäüÊâçÂèØ‰ª•Êìç‰ΩúÔºåÊèíÂÖ•Â§±ÊïóË°®Á§∫ÊúâÂà•‰∫∫Ê≠£Âú®Êìç‰ΩúÈÄôÁ≠ÜË®ÇÂñÆ
<ul>
<li>‰∏çÊé°Áî®ÔºåDBÊÖ¢</li>
</ul>
</li>
<li>redis setÈò≤Èáç: ÂÖ®Â±ÄË´ãÊ±ÇÂîØ‰∏Äid	Ë™øÁî®Êé•Âè£ÊôÇÁîüÊàê‰∏ÄÂÄãÂîØ‰∏ÄIDÔºåredisÂ∞áÊï∏Êìö‰øùÂ≠òÂà∞setÈõÜÂêà‰∏≠(ÁâπÊÄßÊòØ‰∏çÂèØÈáçË§á)ÔºåÂ≠òÂú®Âç≥ËôïÁêÜÈÅé</li>
<li>ÂèØ‰ª•‰ΩøÁî®nginxË®≠ÁΩÆÊØè‰∏ÄÂÄãË´ãÊ±ÇÁöÑÂîØ‰∏Äid</li>
</ul>
<pre tabindex="0"><code>proxy_set_header X-Request-ld $request_id;
</code></pre><h1 id="Êèê‰∫§Ë®ÇÂñÆ">Êèê‰∫§Ë®ÇÂñÆ</h1>
<p><img src="1598753060984.png" alt="1598753060984"></p>
<p><img src="1598753078504.png" alt="1598753078504"></p>
<p><img src="1598753128441.png" alt="1598753128441"></p>
<p><img src="1598757953664.png" alt="1598757953664"></p>
<h2 id="ÊµÅÁ®ã">ÊµÅÁ®ã</h2>
<ul>
<li>ÂâçÁ´ØPOSTÊèê‰∫§: OrderSubmitVo</li>
<li>API: /submitOrder</li>
<li>‰∏ãÂñÆÊàêÂäüËΩâÁôºÊîØ‰ªòÈ†Å pay.html</li>
<li>‰∏ãÂñÆÂ§±ÊïóÈáçÂÆöÂêëË∑≥ËΩâ confirm.html ÈáçÊñ∞Êü•‰∏ÄÈÅç</li>
<li>service‰∏ãÂñÆÊµÅÁ®ãÔºö
<ul>
<li>È©ó‰ª§ÁâåÂéüÂ≠êÊìç‰ΩúÔºöÊü•Ë©¢ÔºåÊØîËºÉÔºåÂà™Èô§ÔºàluaÊìç‰ΩúÔºâ</li>
<li>ÂâµÂª∫Ë®ÇÂñÆÂ∞ÅË£ùEntityÔºåÁÑ∂ÂæåÂÖ•Â∫´</li>
<li>Áç≤ÂèñÈáëÈ°çÔºåÈÅãË≤ªÈÅ†Á®ãË™øÁî®wareÊúçÂãô&hellip;</li>
<li>È©óÂÉπÊ†ºÔºåË®àÁÆóÁöÑÊáâ‰ªòÂÉπÊ†º-Êèê‰∫§ÁöÑÊáâ‰ªòÂÉπÊ†º&lt;0.01ÈÄöÈÅéÔºåÂê¶Ââá return</li>
<li>ÈéñÂ∫´Â≠òWareSkuLockVoÔºåÈÅ†Á®ãË™øÁî®ware</li>
</ul>
</li>
</ul>
<h2 id="Á®ãÂºèÁ¢º">Á®ãÂºèÁ¢º</h2>
<blockquote>
<p>Ë∂ÖÁ¥öÁπÅÁë£Â∞±ÂàóÂÄãÂ§ßÊ¶ÇÔºåÈáçÈªûÂú®ÊñºÂàÜ‰ΩàÂºè‰∫ãÂãô</p>
</blockquote>
<ul>
<li>OrderWebController.java</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// ‰∏ãÂñÆ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#707a7c">@PostMapping</span>(value = <span style="color:#cd5555">&#34;/submitOrder&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> String <span style="color:#008b45">submitOrder</span>(OrderSubmitVo vo, Model model, RedirectAttributes attributes) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8b008b;font-weight:bold">try</span> {
</span></span><span style="display:flex;"><span>        SubmitOrderResponseVo responseVo = orderService.<span style="color:#658b00">submitOrder</span>(vo);
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">//‰∏ãÂñÆÊàêÂäü‰æÜÂà∞ÊîØ‰ªòÈÅ∏ÊìáÈ†Å
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        <span style="color:#228b22">//‰∏ãÂñÆÂ§±ÊïóÂõûÂà∞Ë®ÇÂñÆÁ¢∫Ë™çÈ†ÅÈáçÊñ∞Á¢∫ÂÆöË®ÇÂñÆ‰ø°ÊÅØ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        <span style="color:#8b008b;font-weight:bold">if</span> (responseVo.<span style="color:#658b00">getCode</span>() == <span style="color:#b452cd">0</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#228b22">//ÊàêÂäü
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            model.<span style="color:#658b00">addAttribute</span>(<span style="color:#cd5555">&#34;submitOrderResp&#34;</span>, responseVo);
</span></span><span style="display:flex;"><span>            <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#cd5555">&#34;pay&#34;</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#8b008b;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            String msg = <span style="color:#cd5555">&#34;‰∏ãÂñÆÂ§±Êïó&#34;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#8b008b;font-weight:bold">switch</span> (responseVo.<span style="color:#658b00">getCode</span>()) {
</span></span><span style="display:flex;"><span>                <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">1</span>:
</span></span><span style="display:flex;"><span>                    msg += <span style="color:#cd5555">&#34;‰ª§ÁâåË®ÇÂñÆ‰ø°ÊÅØÈÅéÊúüÔºåË´ãÂà∑Êñ∞ÂÜçÊ¨°Êèê‰∫§&#34;</span>;
</span></span><span style="display:flex;"><span>                    <span style="color:#8b008b;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">2</span>:
</span></span><span style="display:flex;"><span>                    msg += <span style="color:#cd5555">&#34;Ë®ÇÂñÆÂïÜÂìÅÂÉπÊ†ºÁôºÁîüËÆäÂåñÔºåË´ãÁ¢∫Ë™çÂêéÂÜçÊ¨°Êèê‰∫§&#34;</span>;
</span></span><span style="display:flex;"><span>                    <span style="color:#8b008b;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#8b008b;font-weight:bold">case</span> <span style="color:#b452cd">3</span>:
</span></span><span style="display:flex;"><span>                    msg += <span style="color:#cd5555">&#34;Â∫´Â≠òÈéñÂÆöÂ§±ÊïóÔºåÂïÜÂìÅÂ∫´Â≠ò‰∏çË∂≥&#34;</span>;
</span></span><span style="display:flex;"><span>                    <span style="color:#8b008b;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            attributes.<span style="color:#658b00">addFlashAttribute</span>(<span style="color:#cd5555">&#34;msg&#34;</span>, msg);
</span></span><span style="display:flex;"><span>            <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#cd5555">&#34;redirect:http://order.mall.com/toTrade&#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    } <span style="color:#8b008b;font-weight:bold">catch</span> (Exception e) {
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">if</span> (e <span style="color:#8b008b;font-weight:bold">instanceof</span> NoStockException) {
</span></span><span style="display:flex;"><span>            String message = ((NoStockException) e).<span style="color:#658b00">getMessage</span>();
</span></span><span style="display:flex;"><span>            attributes.<span style="color:#658b00">addFlashAttribute</span>(<span style="color:#cd5555">&#34;msg&#34;</span>, message);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">return</span> <span style="color:#cd5555">&#34;redirect:http://order.mall.com/toTrade&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>OrderServiceImpl.java</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">/**
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * Êèê‰∫§Ë®ÇÂñÆ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> *
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @param vo
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> * @return
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#707a7c">@Transactional</span>
</span></span><span style="display:flex;"><span><span style="color:#707a7c">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> SubmitOrderResponseVo <span style="color:#008b45">submitOrder</span>(OrderSubmitVo vo) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    confirmVoThreadLocal.<span style="color:#658b00">set</span>(vo);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// ‰∏ãÂñÆÂæåÊ∫ñÂÇôËøîÂõûÁöÑÁµêÊûú
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    SubmitOrderResponseVo responseVo = <span style="color:#8b008b;font-weight:bold">new</span> SubmitOrderResponseVo();
</span></span><span style="display:flex;"><span>    responseVo.<span style="color:#658b00">setCode</span>(<span style="color:#b452cd">0</span>); <span style="color:#228b22">// È†êË®≠ËøîÂõû0ÊòØÊàêÂäü
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    <span style="color:#228b22">// Áç≤ÂèñÁï∂ÂâçÁî®Êà∂ÁôªÂÖ•ÁöÑ‰ø°ÊÅØ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    MemberResponseTo memberResponseTo = LoginUserInterceptor.<span style="color:#658b00">loginUser</span>.<span style="color:#658b00">get</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// È©óË≠â‰ª§ÁâåÊòØÂê¶ÂêàÊ≥ïÔºå‰ª§ÁâåÁöÑÂ∞çÊØîÂíåÂà™Èô§ÂøÖÈ†à‰øùË≠âÂéüÂ≠êÊÄßÔºåLUAËÖ≥Êú¨
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    String script = <span style="color:#cd5555">&#34;if redis.call(&#39;get&#39;, KEYS[1]) == ARGV[1] then return redis.call(&#39;del&#39;, KEYS[1]) else return &#34;</span> +
</span></span><span style="display:flex;"><span>            <span style="color:#cd5555">&#34;0 end&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// ÊãøÂâçÁ´ØÂÇ≥‰æÜÁöÑtoken
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    String orderToken = vo.<span style="color:#658b00">getOrderToken</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// ÈÄöÈÅéËÖ≥Êú¨ÂéüÂ≠êÈ©óË≠â‰ª§ÁâåÂíåÂà™Èô§‰ª§Áâå
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    Long result = redisTemplate.<span style="color:#658b00">execute</span>(<span style="color:#8b008b;font-weight:bold">new</span> DefaultRedisScript&lt;Long&gt;(script, Long.<span style="color:#658b00">class</span>),
</span></span><span style="display:flex;"><span>            Arrays.<span style="color:#658b00">asList</span>(USER_ORDER_TOKEN_PREFIX + memberResponseTo.<span style="color:#658b00">getId</span>()),
</span></span><span style="display:flex;"><span>            orderToken);
</span></span><span style="display:flex;"><span>    <span style="color:#228b22">// Ëã•‰ª§ÁâåÈ©óË≠âÂ§±ÊïóÔºåÊ≥®ÊÑèËÖ≥Êú¨0ÊòØÂ§±ÊïóÔºåË∑üÂâçÈù¢SubmitOrderResponseVo 0=ÊàêÂäüÁõ∏Âèç
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>    <span style="color:#8b008b;font-weight:bold">if</span> (result == <span style="color:#b452cd">0</span>L) {
</span></span><span style="display:flex;"><span>        responseVo.<span style="color:#658b00">setCode</span>(<span style="color:#b452cd">1</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">return</span> responseVo;
</span></span><span style="display:flex;"><span>    } <span style="color:#8b008b;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">// ‰ª§ÁâåÈ©óË≠âÊàêÂäüÔºåÂâµÂª∫„ÄÅ‰∏ãË®ÇÂñÆ„ÄÅÈ©ó‰ª§Áâå„ÄÅÈ©óÂÉπÊ†º„ÄÅÈéñÂÆöÂ∫´Â≠ò
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        <span style="color:#228b22">// 1„ÄÅÂâµÂª∫Ë®ÇÂñÆ„ÄÅË®ÇÂñÆÈ†ÖÁ≠â‰ø°ÊÅØ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        OrderCreateTo order = createOrder();
</span></span><span style="display:flex;"><span>        <span style="color:#228b22">// 2„ÄÅÈ©óË≠âÂÉπÊ†º
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>        BigDecimal payAmount = order.<span style="color:#658b00">getOrder</span>().<span style="color:#658b00">getPayAmount</span>();
</span></span><span style="display:flex;"><span>        BigDecimal payPrice = vo.<span style="color:#658b00">getPayPrice</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8b008b;font-weight:bold">if</span> (Math.<span style="color:#658b00">abs</span>(payAmount.<span style="color:#658b00">subtract</span>(payPrice).<span style="color:#658b00">doubleValue</span>()) &lt; <span style="color:#b452cd">0.01</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#228b22">// ÈáëÈ°çÂ∞çÊØîÔºå‰øùÂ≠ò
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            saveOrder(order);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#228b22">// 4„ÄÅÂ∫´Â≠òÈéñÂÆö,Âè™Ë¶ÅÊúâÁï∞Â∏∏ÔºåÂõûÊªæË®ÇÂñÆÊï∏Êìö
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            <span style="color:#228b22">// Ë®ÇÂñÆËôü„ÄÅÊâÄÊúâË®ÇÂñÆÈ†Ö‰ø°ÊÅØ(skuId,skuNum,skuName)
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            WareSkuLockTo lockVo = <span style="color:#8b008b;font-weight:bold">new</span> WareSkuLockTo();
</span></span><span style="display:flex;"><span>            lockVo.<span style="color:#658b00">setOrderSn</span>(order.<span style="color:#658b00">getOrder</span>().<span style="color:#658b00">getOrderSn</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#228b22">// Áç≤ÂèñÂá∫Ë¶ÅÈéñÂÆöÁöÑÂïÜÂìÅÊï∏Êìö‰ø°ÊÅØ„ÄêorderË£°Èù¢Â≠òÂÑ≤ÁöÑÊòØEntity„Äë
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            List&lt;OrderItemTo&gt; orderItemTos = order.<span style="color:#658b00">getOrderItems</span>().<span style="color:#658b00">stream</span>().<span style="color:#658b00">map</span>((item) -&gt; {
</span></span><span style="display:flex;"><span>                OrderItemTo orderItemTo = <span style="color:#8b008b;font-weight:bold">new</span> OrderItemTo();
</span></span><span style="display:flex;"><span>                orderItemTo.<span style="color:#658b00">setSkuId</span>(item.<span style="color:#658b00">getSkuId</span>());
</span></span><span style="display:flex;"><span>                orderItemTo.<span style="color:#658b00">setCount</span>(item.<span style="color:#658b00">getSkuQuantity</span>());
</span></span><span style="display:flex;"><span>                orderItemTo.<span style="color:#658b00">setTitle</span>(item.<span style="color:#658b00">getSkuName</span>());
</span></span><span style="display:flex;"><span>                <span style="color:#8b008b;font-weight:bold">return</span> orderItemTo;
</span></span><span style="display:flex;"><span>            }).<span style="color:#658b00">collect</span>(Collectors.<span style="color:#658b00">toList</span>());
</span></span><span style="display:flex;"><span>            lockVo.<span style="color:#658b00">setLocks</span>(orderItemTos);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#228b22">// Âá∫ÁèæÁöÑÂïèÈ°åÔºöÊâ£Ê∏õÂ∫´Â≠òÊàêÂäü‰∫ÜÔºå‰ΩÜÊòØÁî±ÊñºÁ∂≤Áµ°ÂéüÂõ†Ë∂ÖÊôÇÔºåÂá∫ÁèæÁï∞Â∏∏ÔºåÂ∞éËá¥Ë®ÇÂñÆ‰∫ãÂãôÂõûÊªæÔºåÂ∫´Â≠ò‰∫ãÂãô‰∏çÂõûÊªæ(Ëß£Ê±∫ÊñπÊ°àÔºöseata)
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            <span style="color:#228b22">// ÁÇ∫‰∫Ü‰øùË≠âÈ´ò‰ΩµÁôºÔºå‰∏çÊé®Ëñ¶‰ΩøÁî®seataÔºåÂõ†ÁÇ∫ÊòØÂä†ÈéñÔºåÂπ∂Ë°åÂåñÔºåÊèêÂçá‰∏ç‰∫ÜÊïàÁéá,ÂèØ‰ª•ÁôºÊ∂àÊÅØÁµ¶Â∫´Â≠òÊúçÂãô
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            R r = wareFeignService.<span style="color:#658b00">orderLockStock</span>(lockVo);
</span></span><span style="display:flex;"><span>            <span style="color:#8b008b;font-weight:bold">if</span> (r.<span style="color:#658b00">getCode</span>() == <span style="color:#b452cd">0</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#228b22">// ÈéñÂÆöÊàêÂäü
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                responseVo.<span style="color:#658b00">setOrder</span>(order.<span style="color:#658b00">getOrder</span>());
</span></span><span style="display:flex;"><span>                <span style="color:#228b22">//int i = 10/0;
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                <span style="color:#228b22">// Ë®ÇÂñÆÂâµÂª∫ÊàêÂäüÔºåÁôºÈÄÅÊ∂àÊÅØÁµ¶MQ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                rabbitTemplate.<span style="color:#658b00">convertAndSend</span>(<span style="color:#cd5555">&#34;order-event-exchange&#34;</span>, <span style="color:#cd5555">&#34;order.create.order&#34;</span>, order.<span style="color:#658b00">getOrder</span>());
</span></span><span style="display:flex;"><span>                <span style="color:#228b22">// Âà™Èô§Ë≥ºÁâ©ËªäË£°ÁöÑÊï∏Êìö
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                redisTemplate.<span style="color:#658b00">delete</span>(CART_PREFIX + memberResponseTo.<span style="color:#658b00">getId</span>());
</span></span><span style="display:flex;"><span>                <span style="color:#8b008b;font-weight:bold">return</span> responseVo;
</span></span><span style="display:flex;"><span>            } <span style="color:#8b008b;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#228b22">//ÈéñÂÆöÂ§±Êïó
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                String msg = (String) r.<span style="color:#658b00">get</span>(<span style="color:#cd5555">&#34;msg&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#8b008b;font-weight:bold">throw</span> <span style="color:#8b008b;font-weight:bold">new</span> NoStockException(msg);
</span></span><span style="display:flex;"><span>                <span style="color:#228b22">// responseVo.setCode(3);
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>                <span style="color:#228b22">// return responseVo;
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>            }
</span></span><span style="display:flex;"><span>        } <span style="color:#8b008b;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            responseVo.<span style="color:#658b00">setCode</span>(<span style="color:#b452cd">2</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#8b008b;font-weight:bold">return</span> responseVo;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="Ë§áÁøíÊú¨Âú∞‰∫ãÂãô">Ë§áÁøíÊú¨Âú∞‰∫ãÂãô</h1>
<blockquote>
<p>ÂèÉËÄÉ: <a href="https://yoziming.github.io/post/211230-agg-jdbc-02/">https://yoziming.github.io/post/211230-agg-jdbc-02/</a></p>
</blockquote>
<ul>
<li>ÂéüÁêÜ: ÈÄ£Âà∞SQLÁöÑÊòØÂêå‰∏ÄÊ¢ùÈÄ£ÁµêÔºåÂ§öÂÄãÊìç‰ΩúÂÆåÊàêÂæåÁî®<code>commit()</code>ÊâãÂãïÊèê‰∫§ÔºåÂê¶ÂâáÊäìÂà∞Áï∞Â∏∏Â∞±<code>rollback()</code>
<ul>
<li>Ë¶ÅÂòõÂÖ®ÈÉ®ÊàêÂäü„ÄÅË¶ÅÂòõÂÖ®ÈÉ®Â§±Êïó</li>
</ul>
</li>
<li>ÈöîÈõ¢Á¥öÂà•: ËÆÄÊú™Êèê‰∫§„ÄÅËÆÄÂ∑≤Êèê‰∫§„ÄÅÂèØÈáçË§áËÆÄ„ÄÅÂ∫èÂàóÂåñÔºåË∂äÂö¥Ê†ºË∂äÂÆâÂÖ®‰ΩÜÊïàÁéá‰πüÂ∞±Ë∂ä‰Ωé
<ul>
<li>MySQLÈ†êË®≠ÁöÑ‰∫ãÂãôÈöîÈõ¢Á¥öÂà•ÁÇ∫: Repeatable read</li>
</ul>
</li>
<li>SpringÂ∞ÅË£ùÊàê<code>@Transactional</code></li>
</ul>
<h3 id="spring‰∫ãÂãôÂèÉÊï∏">spring‰∫ãÂãôÂèÉÊï∏</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#228b22">// ‰øÆÊîπ‰∫ãÂãôÈöîÈõ¢Á¥öÂà•
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#707a7c">@Transactional</span>(isolation = Isolation.<span style="color:#658b00">REPEATABLE</span> READ)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22">// ‰øÆÊîπÂÇ≥Êí≠Á¥öÂà•
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#707a7c">@Transactional</span>(propagation = Propagation.<span style="color:#658b00">REQUIRED</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#228b22">// Ë®≠ÂÆöË∂ÖÊôÇ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#707a7c">@Transactional</span>(timeout = <span style="color:#b452cd">30</span>)
</span></span></code></pre></div><h4 id="‰∫ãÂãôÂÇ≥Êí≠">‰∫ãÂãôÂÇ≥Êí≠</h4>
<blockquote>
<p>Áï∂‰∫ãÂãôÁöÑÊñπÊ≥ïË¢´ÂµåÂ•óÊôÇÔºå‰æãÂ¶Ç‰∏ÄÂÄã‰∫ãÂãôÊñπÊ≥ïË¢´Âè¶‰∏ÄÂÄã‰∫ãÂãôÊñπÊ≥ïË™øÁî®ÊôÇÔºåÈÄôÂÄã‰∫ãÂãôÊñπÊ≥ïÊáâË©≤Â¶Ç‰ΩïÈÄ≤Ë°å</p>
</blockquote>
<ul>
<li><code>PROPAGATION_REQUIRED</code>: Â¶ÇÊûúÁï∂ÂâçÊ≤íÊúâ‰∫ãÂãôÔºåÂ∞±ÂâµÂª∫‰∏ÄÂÄãÊñ∞‰∫ãÂãôÔºåÂ¶ÇÊûúÁï∂ÂâçÂ≠òÂú®‰∫ãÂãôÔºåÂ∞±Âä†ÂÖ•Ë©≤‰∫ãÂãô„ÄÇÊòØÊúÄÂ∏∏Áî®ÁöÑË®≠ÁΩÆ</li>
<li><code>PROPAGATION_SUPPORTS</code>: ÊîØÊåÅÁï∂Ââç‰∫ãÂãôÔºåÂ¶ÇÊûúÁï∂ÂâçÂ≠òÂú®‰∫ãÂãôÔºåÂ∞±Âä†ÂÖ•Ë©≤‰∫ãÂãôÔºåÂ¶ÇÊûúÁï∂Ââç‰∏çÂ≠òÂú®‰∫ãÂãôÔºåÂ∞±‰ª•Èùû‰∫ãÂãôÂü∑Ë°å</li>
<li><code>PROPAGATION_MANDATORY</code>: ÊîØÊåÅÁï∂Ââç‰∫ãÂãôÔºåÂ¶ÇÊûúÁï∂ÂâçÂ≠òÂú®‰∫ãÂãôÔºåÂ∞±Âä†ÂÖ•Ë©≤‰∫ãÂãôÔºåÂ¶ÇÊûúÁï∂Ââç‰∏çÂ≠òÂú®‰∫ãÂãôÔºåÂ∞±ÊããÂá∫Áï∞Â∏∏</li>
<li><code>PROPAGATION_REQUIRES_NEW</code>: ÂâµÂª∫Êñ∞‰∫ãÂãôÔºåÁÑ°Ë´ñÁï∂ÂâçÂ≠ò‰∏çÂ≠òÂú®‰∫ãÂãôÔºåÈÉΩÂâµÂª∫Êñ∞‰∫ãÂãô</li>
<li><code>PROPAGATION_NOT_SUPPORTED</code>: ‰ª•Èùû‰∫ãÂãôÊñπÂºèÂü∑Ë°åÊìç‰ΩúÔºåÂ¶ÇÊûúÁï∂ÂâçÂ≠òÂú®‰∫ãÂãôÔºåÂ∞±ÊääÁï∂Ââç‰∫ãÂãôÊéõËµ∑</li>
<li><code>PROPAGATION_NEVER</code>: ‰ª•Èùû‰∫ãÂãôÊñπÂºèÂü∑Ë°åÔºåÂ¶ÇÊûúÁï∂ÂâçÂ≠òÂú®‰∫ãÂãôÔºåÂâáÊããÂá∫Áï∞Â∏∏</li>
<li><code>PROPAGATION_NESTED</code>: Â¶ÇÊûúÁï∂ÂâçÂ≠òÂú®‰∫ãÂãôÔºåÂâáÂú®ÂµåÂ•ó‰∫ãÂãôÂÖßÂü∑Ë°å„ÄÇÂ¶ÇÊûúÁï∂ÂâçÊ≤íÊúâ‰∫ãÂãôÔºåÂâáÂü∑Ë°åËàá PROPAGATON_REQUIREDÈ°û‰ººÁöÑÊìç‰Ωú</li>
<li>ÈáçÈªû: REQUIRED„ÄÅREQUIRES_NEW</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">Ê°à‰æãÔºö</span>b<span style="color:#a61717;background-color:#e3d2d2">„ÄÅ</span>c<span style="color:#a61717;background-color:#e3d2d2">Ëàá</span>a<span style="color:#a61717;background-color:#e3d2d2">ÊñπÊ≥ïÊòØÂê¶ÂÖ±Áî®‰∏ÄÂÄã‰∫ãÂãô</span>
</span></span><span style="display:flex;"><span><span style="color:#707a7c">@Transactional</span>(timeout=<span style="color:#b452cd">30</span>)
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">a</span>() {
</span></span><span style="display:flex;"><span>	b();<span style="color:#228b22">// a‰∫ãÂãôÂÇ≥Êí≠Áµ¶‰∫Üb‰∫ãÂãôÔºå‰∏¶‰∏îb‰∫ãÂãôÁöÑË®≠ÁΩÆÂ§±Êïà
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>	c();<span style="color:#228b22">// cÂñÆÁç®ÂâµÂª∫‰∏ÄÂÄãÊñ∞‰∫ãÂãô
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#707a7c">@Transactional</span>(propagation = Propagation.<span style="color:#658b00">REQUIRED</span>, timeout=<span style="color:#b452cd">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">b</span>() {
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#707a7c">@Transactional</span>(propagation = Propagation.<span style="color:#658b00">REQUIRES_NEW</span>)
</span></span><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">public</span> <span style="color:#00688b;font-weight:bold">void</span> <span style="color:#008b45">c</span>() {
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="Âùë">Âùë</h4>
<ul>
<li>Â¶ÇÊûúÊñπÊ≥ïa„ÄÅb„ÄÅcÈÉΩÂú®Âêå‰∏ÄÂÄãserviceË£èÈù¢Ôºå‰∫ãÂãôÂÇ≥Êí≠Ë°åÁÇ∫‰∏çÁîüÊïàÔºåÂÖ±‰∫´aÁöÑ‰∫ãÂãô</li>
<li>ÂéüÁêÜ: ‰∫ãÂãôÊòØÁî®‰ª£ÁêÜÂ∞çË±°‰æÜÊéßÂà∂ÁöÑÔºåÂÖßÈÉ®Ë™øÁî®b()„ÄÅc()Â∞±Áõ∏Áï∂ÊñºÁõ¥Êé•Ë™øÁî®Ê≤íÊúâÁ∂ìÈÅé‰∫ãÂãôÔºåÁπûÈÅé‰∫Ü‰ª£ÁêÜÂ∞çË±°</li>
<li>Ëß£Ê±∫: ‰ΩøÁî®aspectJ‰ª£ÁêÜÔºåÊàñÊòØÊ≥®ÂÖ•Ëá™Â∑±(SpringÂ∑≤Á∂ìËß£Ê±∫‰∫ÜÂæ™Áí∞‰æùË≥¥ÂïèÈ°åÔºåÈÄèÈÅé‰∏âÁ¥öMap)</li>
</ul>
<h1 id="ÂàÜÊï£Âºè‰∫§Êòì">ÂàÜÊï£Âºè‰∫§Êòì</h1>
<blockquote>
<p>Distributed TransactionsÔºå‰∏≠ÂúãÁ®±ÁÇ∫ÂàÜ‰ΩàÂºè‰∫ãÂãô</p>
</blockquote>
<ul>
<li>ÂàÜ‰ΩàÂºè‰∫ãÂãô‰∏çÂèØÁî®ÊããÁï∞Â∏∏ÁöÑÊñπÂºèÂõûÊªæÔºåÂõ†ÁÇ∫Áï∞Â∏∏ÂèØËÉΩÊòØÈÅ†Á®ãË™øÁî®Áî¢ÁîüÁöÑÁï∞Â∏∏
<ul>
<li>‰æãÂ¶ÇÈÅ†Á®ãÂ∑≤Á∂ìË™øÁî®ÂÆå‰∫ÜÔºå‰ΩÜËøîÂõûÊôÇÂá∫ÁèæÁ∂≤Ë∑ØÊïÖÈöúÔºåÊú¨Âú∞<code>@Transactional</code>Êî∂Âà∞Áï∞Â∏∏Â∞±ÁÆóÂõûÊªæ‰πüÊ≤íÁî®ÔºåÂõ†ÁÇ∫ÂÆÉÂèØÁÆ°‰∏çÂà∞ÈÅ†Á®ãÁöÑÈÇ£‰∫õ</li>
</ul>
</li>
</ul>
<h2 id="capÂÆöÁêÜ">CAPÂÆöÁêÜ</h2>
<blockquote>
<p>ÂèàÁ®±CAPÂéüÂâáÔºåÊåáÁöÑÊòØÂú®ÂàÜ‰ΩàÂºèÁ≥ªÁµ±‰∏≠ÁöÑË≥áÊñôÔºåË¶ÅÂòõÁäßÁâ≤‰∏ÄËá¥ÊÄßÔºåË¶ÅÂòõÁäßÁâ≤ÂèØÁî®ÊÄß</p>
</blockquote>
<p><img src="image-20220130155516174.png" alt="image-20220130155516174"></p>
<ul>
<li>
<p>Consistency ‰∏ÄËá¥ÊÄß: Âú®ÂàÜ‰ΩàÂºèÁ≥ªÁµ±‰∏≠ÁöÑÊâÄÊúâÊï∏ÊìöÔºåÂú®Âêå‰∏ÄÊôÇÂàªÊòØÂê¶ÂêåÊ®£ÁöÑÂÄº</p>
</li>
<li>
<p>Availability ÂèØÁî®ÊÄß: ÈõÜÁæ§ÂÖß‰∏ÄÈÉ®‰ªΩÊ©üÂô®Á∂≤Áµ°ÈÄö‰ø°ÊïÖÈöúÔºåÊòØÂê¶ÈÇÑËÉΩÁπºÁ∫åÂ∑•‰Ωú(Êï∏ÊìöÁöÑÂàÜÂ∏ÉÈáèÊòØÂê¶Â§†Â§ö)</p>
<ul>
<li>ÁÇ∫‰∫ÜÂàÜÂçÄÂÆπÈåØÊÄßÔºå‰∏ÄËá¥ÊÄßË∑üÂèØÁî®ÊÄßÂè™ËÉΩ‰∫åÈÅ∏‰∏Ä</li>
</ul>
</li>
<li>
<p>Partition tolerance ÂàÜÂçÄÂÆπÈåØÊÄß: ÂàÜ‰ΩàÂºèÁ≥ªÁµ±Á∏ΩÊúÉÂá∫ÁèæÁ∂≤Áµ°ÊïÖÈöúÔºåÁï∂ÁØÄÈªû‰πãÈñì‰∏çÊµÅÈÄöÁöÑÊôÇÂÄôÂ∞±ÂΩ¢ÊàêÂàÜÂçÄ(Partition)</p>
<ul>
<li>ÂàÜÂçÄÂÆπÈåØÁöÑÊÑèÊÄùÊòØÔºåÁï∂‰Ω†‰∏ÄÂÄãË≥áÊñôÈ†ÖÁõÆÂè™Âú®‰∏ÄÂÄãÁØÄÈªû‰∏≠‰øùÂ≠òÔºåÈÇ£È∫ºÂàÜÂçÄÂá∫ÁèæÂæåÔºåÂíåÈÄôÂÄãÁØÄÈªû‰∏çÈÄ£ÈÄöÁöÑÈÉ®ÂàÜÂ∞±Ë®™Âïè‰∏çÂà∞ÈÄôÂÄãË≥áÊñô‰∫Ü„ÄÇÈÄôÊôÇÂàÜÂçÄÂ∞±ÊòØÁÑ°Ê≥ïÂÆπÂøçÁöÑ</li>
<li>ÊèêÈ´òÂàÜÂçÄÂÆπÂøçÊÄßÁöÑËæ¶Ê≥ïÂ∞±ÊòØ‰∏ÄÂÄãË≥áÊñôÈ†ÖÁõÆË§áË£ΩÂà∞Â§öÂÄãÁØÄÈªû‰∏äÔºåÈÄô‰∏ÄË≥áÊñôÈ†ÖÁõÆÂ∞±ÂèØËÉΩÂàÜ‰ΩàÂà∞ÂêÑÂÄãÂçÄË£°„ÄÇÂÆπÂøçÊÄßÂ∞±ÊèêÈ´ò‰∫Ü„ÄÇ</li>
<li>ÁÑ∂ËÄåÔºåË¶ÅÊääË≥áÊñôË§áË£ΩÂà∞Â§öÂÄãÁØÄÈªûÔºåÂ∞±ÊúÉÂ∏∂‰æÜ‰∏ÄËá¥ÊÄßÁöÑÂïèÈ°åÔºåÂ∞±ÊòØÂ§öÂÄãÁØÄÈªû‰∏äÈù¢ÁöÑË≥áÊñôÂèØËÉΩÊòØ‰∏ç‰∏ÄËá¥ÁöÑ„ÄÇË¶Å‰øùË≠â‰∏ÄËá¥ÔºåÊØèÊ¨°ÂØ´Êìç‰ΩúÂ∞±ÈÉΩË¶ÅÁ≠âÂæÖÂÖ®ÈÉ®ÁØÄÈªûÂØ´ÊàêÂäüÔºåËÄåÈÄôÁ≠âÂæÖÂèàÊúÉÂ∏∂‰æÜÂèØÁî®ÊÄßÁöÑÂïèÈ°å</li>
<li>Á∏ΩÁöÑ‰æÜË™™Â∞±ÊòØÔºåË≥áÊñôÂ≠òÂú®ÁöÑÁØÄÈªûË∂äÂ§öÔºåÂàÜÂçÄÂÆπÂøçÊÄßË∂äÈ´òÔºå‰ΩÜË¶ÅË§áË£ΩÊõ¥Êñ∞ÁöÑË≥áÊñôÂ∞±Ë∂äÂ§öÔºå‰∏ÄËá¥ÊÄßÂ∞±Ë∂äÈõ£‰øùË≠â„ÄÇÁÇ∫‰∫Ü‰øùË≠â‰∏ÄËá¥ÊÄßÔºåÊõ¥Êñ∞ÊâÄÊúâÁØÄÈªûË≥áÊñôÊâÄÈúÄË¶ÅÁöÑÊôÇÈñìÂ∞±Ë∂äÈï∑ÔºåÂèØÁî®ÊÄßÂ∞±ÊúÉÈôç‰Ωé</li>
</ul>
</li>
<li>
<p>ÁÇ∫‰∫ÜÂú®ÂàÜÂ∏ÉÂºèÁ≥ªÁµ±ÂØ¶Áèæ‰∏ÄËá¥ÊÄßÔºåLesile LamportÊèêÂá∫‰∫ÜPaxosÂçîË≠∞</p>
<ul>
<li>ÂæàÈõ£ÊáÇÂèàÈõ£Áî®ÔºåÂ∑≤ÈÅéÊôÇ„ÄÇÁî±raftÁÆóÊ≥ïÊé•Ê£í</li>
</ul>
</li>
</ul>
<h3 id="raftÁÆóÊ≥ï">raftÁÆóÊ≥ï</h3>
<blockquote>
<p>‰øùË≠âÂàÜÂ∏ÉÂºèÁ≥ªÁµ±‰∏≠Ë≥áÊñôÁöÑ‰∏ÄËá¥ÊÄß</p>
</blockquote>
<ul>
<li>ÊºîÁ§∫: <a href="http://thesecretlivesofdata.com/raft/">http://thesecretlivesofdata.com/raft/</a></li>
<li>Ê†∏ÂøÉËßÄÂøµ: È†òÂ∞éÈÅ∏Ëàâ„ÄÅÊó•Ë™åË§áË£Ω</li>
</ul>
<h4 id="È†òÂ∞éÈÅ∏Ëàâ">È†òÂ∞éÈÅ∏Ëàâ</h4>
<ul>
<li>
<p>ÁØÄÈªûÂïìÂãïÈ†êË®≠ÈÉΩÊòØÈö®ÂæûÁãÄÊÖã</p>
</li>
<li>
<p>ÁØÄÈªûÂ¶ÇÊûúÊ≤íÊúâÁõ£ËÅΩÂà∞È†òÂ∞éËÄÖÂëΩ‰ª§Ëá™Â∑±(Êâæ‰∏çÂà∞Â§ßÂì•ÔºåÂΩ¢ÊàêÂàÜÂçÄ‰∫Ü)ÔºåÂ∞±ËΩâËÆäÊàêÂÄôÈÅ∏ËÄÖÔºåÁ∂ìÈÅéÂ§öËº™ÊäïÁ•®Áî¢ÁîüÊñ∞È†òÂ∞é</p>
<ul>
<li>ÈÅ∏ËàâË∂ÖÊôÇ: election timeout Èö®ÂæûËÆäÊàêÂÄôÈÅ∏ËÄÖÁöÑÊôÇÈñìÔºå150ms and 300msÈö®Ê©üÁöÑ</li>
</ul>
</li>
</ul>
<h4 id="Êó•Ë™åË§áË£Ω">Êó•Ë™åË§áË£Ω</h4>
<ul>
<li>ÂÆ¢Êà∑Á´ØÈÄöÁü•È†òÂ∞é‰øÆÊîπ‰∏ÄÂÄãÊï∏ÊìöÔºåÈ†òÂ∞éÂÖàÂâµÂª∫‰∏ÄÂÄãÁØÄÈªûÊó•Ë™å</li>
<li>È†òÂ∞éÂ∞áÈÄôÊ¢ùÊó•Ë™å ÁôºÈÄÅÁµ¶ÊâÄÊúâÊâÄÊúâÈö®ÂæûÁØÄÈªû
<ul>
<li>Èö®ÂæûÁØÄÈªûÊî∂Âà∞‰∏¶ËøîÂõûÁ¢∫Ë™çÊ∂àÊÅØÁµ¶È†òÂ∞é</li>
</ul>
</li>
<li>È†òÂ∞éÁ≠âÂæÖÂ§ßÂ§öÊï∏Èö®ÂæûÁØÄÈªûÁöÑÁ¢∫Ë™çÊ∂àÊÅØÔºåÈ†òÂ∞éÊèê‰∫§Êï∏ÊìöÔºåÁÑ∂ÂæåÈÄöÁü•Èö®ÂæûÁØÄÈªûÂèØ‰ª•Êèê‰∫§‰∫Ü
<ul>
<li>Èö®ÂæûÁØÄÈªû‰πüÊèê‰∫§Êï∏Êìö„ÄÇÊúÄÂæåÈ†òÂ∞éÁØÄÈªûÁµ¶Ë´ãÊ±ÇËøîÂõûÊèê‰∫§ÊàêÂäü</li>
</ul>
</li>
</ul>
<blockquote>
<p>Â∞±ÂÉèÊàëË¶ÅÊ±ÇÈñãËàπÔºåËàπÈï∑ÂïèÂ≠©Â≠êÂÄëÊ∫ñÂÇôÂ•Ω‰∫ÜÂóéÔºåÂ≠©Â≠êÂÄëÂõûÊáâËàπÈï∑ÔºåËàπÈï∑Êî∂Âà∞Â§ßÂ§öÊï∏ÂõûÊáâÂ∞±Ë™çÁÇ∫ÂèØ‰ª•ÈñãËàπÔºåËá™Â∑±ÈñãËàπ‰∏¶‰∏îÂè´Â≠©Â≠êÂÄë‰πüÈñãËàπ</p>
<p>Áï∂Â§ßÂÆ∂ÈÉΩÈñãËàπÔºåÂõûÊáâÁµ¶ÊàëË™™ËàπÈñã‰∫Ü</p>
</blockquote>
<ul>
<li>Áï∂ÂàÜÂçÄÁôºÁîüÔºåÂ§ßÂ§öÊï∏‰∫∫ÁöÑÈÇ£ÂçÄÂèØ‰ª•Êèê‰∫§ÔºåÂ∞ëÈÉ®ÂàÜÁöÑÈÇ£ÂçÄÈõñÁÑ∂ÂèØËÉΩÊúâÈ†òÂ∞éÔºå‰ΩÜÁî±Êñº‰∏ÄÁõ¥Êî∂‰∏çÂà∞<strong>Â§ßÂ§öÊï∏Á¢∫Ë™ç</strong>ÔºåÊâÄ‰ª•ÁÑ°Ê≥ïÊèê‰∫§</li>
<li>Áõ¥Âà∞ÂàÜÂçÄÈáçÊñ∞Âêà‰Ωµ(Á∂≤Ë∑Ø‰øÆÂ•Ω‰∫Ü)ÔºåËàäÈ†òÂ∞éÈÄÄ‰ΩçÔºå‰∏¶‰∏îË∑üÁùÄËàäÈ†òÂ∞éÊú™Êèê‰∫§ÁöÑÊï∏ÊìöÈúÄË¶ÅÂõûÊªæÔºå‰∏¶‰∏îÂêåÊ≠•Êñ∞È†òÂ∞éÁöÑÊó•Ë™å</li>
</ul>
<h2 id="baseÁêÜË´ñ">BASEÁêÜË´ñ</h2>
<blockquote>
<p>ÂàÜÂ∏ÉÂºèÁ≥ªÁµ±‰∏ãÁ∂≤Ë∑ØÊïÖÈöúÂøÖÂÆöÊúÉÁôºÁîüÔºå‰ΩÜ‰ªçË¶ÅËÆìÁî®Êà∂ÂèØÁî®ÔºåÂç≥‰øùË≠âPÂíåAÔºåÊç®Ê£ÑCÁöÑÂº∑‰∏ÄËá¥ÊÄßÔºåÊîπÁÇ∫Âº±‰∏ÄËá¥ÊÄß</p>
</blockquote>
<ul>
<li>Basically Available Âü∫Êú¨ÂèØÁî®: ÂàÜ‰ΩàÂºèÁ≥ªÁµ±Âú®Âá∫ÁèæÊïÖÈöúÁöÑÊôÇÂÄôÔºåÂÖÅË®±ÊêçÂ§±ÈÉ®ÂàÜÂèØÁî®ÊÄß(‰æãÂ¶ÇÈüøÊáâÊôÇÈñì„ÄÅÂäüËÉΩ‰∏äÁöÑÂèØÁî®ÊÄß)</li>
<li>Soft State ËªüÁãÄÊÖã: ÂÖÅË®±Á≥ªÁµ±Â≠òÂú®‰∏≠ÈñìÁãÄÊÖãÔºå‰æãÂ¶ÇÂëäË®¥Áî®Êà∂Ê≠£Âú®ÊéíÈöä‰∏≠</li>
<li>Eventual Consistency ÊúÄÁµÇ‰∏ÄËá¥ÊÄß: Á≥ªÁµ±‰∏≠ÁöÑÊâÄÊúâÊï∏ÊìöÂâØÊú¨Á∂ìÈÅé‰∏ÄÂÆöÊôÇÈñìÂæåÔºåÊúÄÁµÇËÉΩÂ§†ÈÅîÂà∞‰∏ÄËá¥ÁöÑÁãÄÊÖãÔºåÊòØ‰∏ÄÁ®ÆÂº±‰∏ÄËá¥ÊÄß</li>
</ul>
<h2 id="ÂàÜ‰ΩàÂºè‰∫ãÂãôÂπæÁ®ÆÊñπÊ°à">ÂàÜ‰ΩàÂºè‰∫ãÂãôÂπæÁ®ÆÊñπÊ°à</h2>
<h3 id="2pc">2PC</h3>
<blockquote>
<p>2 phase commit‰∫åÈöéÊèê‰∫§</p>
</blockquote>
<ul>
<li>ÂäÉÂàÜÂá∫‰∫Ü‰∫ãÂãôÂèÉËàáËÄÖÂíåÂçîË™øËÄÖÁöÑËßíËâ≤Ôºå‰∏¶Â∞áÊï¥ÂÄãÈÅéÁ®ãÂäÉÂàÜÊàêÂÖ©ÂÄãÈöéÊÆµ
<ul>
<li>Á¨¨‰∏ÄÈöéÊÆµ: ‰∫ãÂãôÂçîË™øÂô®Ë¶ÅÊ±ÇÊØèÂÄãÊ∂âÂèäÂà∞‰∫ãÂãôÁöÑÂèÉËàáËÄÖÈ†êÊèê‰∫§(precommit)Ê≠§Êìç‰ΩúÔºå‰∏¶ÂèçÊò†ÊòØÂê¶ÂèØ‰ª•Êèê‰∫§</li>
<li>Á¨¨‰∫åÈöéÊÆµ: ÊâÄÊúâ‰∫ãÂãôÈ†êÊèê‰∫§‰∫ÜÂêÑËá™ÁöÑÁµêÊûúÂæåÔºåÁî±ÂçîË™øËÄÖÊ±∫ÂÆöÊúÄÁµÇ‰∫ãÂãôÊòØÊàêÂäü(commit)ÈÇÑÊòØÂ§±Êïó(rollback)</li>
</ul>
</li>
<li>Â¶ÇÊûúÊúâ‰ªª‰Ωï‰∏ÄÊ≠•È©üÂ§±ÊïóÔºåÈÇ£È∫ºÊâÄÊúâÂèÉËàáËÄÖÈÉΩÊúÉË¢´Ë¶ÅÊ±ÇÂõûÊªæ</li>
</ul>
<h4 id="xa-transaction">XA Transaction</h4>
<ul>
<li>Áî±Ë≥áÊñôÂ∫´‰æÜÂÆåÊàê‰∫åÈöéÊèê‰∫§</li>
<li>XAË¢´Ë®±Â§öË≥áÊñôÂ∫´Â¶ÇOracle„ÄÅDB2„ÄÅSQL Server„ÄÅMySQLÊîØÊè¥</li>
<li>ÂÑ™Âã¢Âú®ÊñºÁ∞°ÂñÆÔºåÁº∫ÈªûÊòØÈù¢Â∞ç‰ΩµÁôºÊôÇÊÄßËÉΩÂ∑ÆÔºåÊïÖÂæàÂ∞ëÁî®</li>
</ul>
<h4 id="atÊ®°Âºè">ATÊ®°Âºè</h4>
<blockquote>
<p>Auto Transiaction Ëá™Âãï‰∫ãÂãôÊ®°Âºè</p>
</blockquote>
<ul>
<li>ÂÑ™Âã¢Âú®ÊñºÁ∞°ÂñÆÁÑ°‰æµÂÖ•</li>
</ul>
<p><img src="image-20220130165825007.png" alt="image-20220130165825007"></p>
<h4 id="tccÊ®°Âºè">TCCÊ®°Âºè</h4>
<blockquote>
<p>ÈúÄË¶ÅÊâãÂãïÁ∑®ÂØ´ÂõûÊªæÁöÑÊñπÊ≥ï(‰æãÂ¶ÇÂú®try+1ÔºåÂ∞±Ë¶ÅÂú®cancel-1)</p>
</blockquote>
<ul>
<li>ÂÑ™Âã¢Âú®ÊñºÈ´òÊÄßËÉΩÔºåÂ§öË¢´Êé°Áî®</li>
</ul>
<p><img src="image-20220130165847756.png" alt="image-20220130165847756"></p>
<hr>
<h3 id="ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•">ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•</h3>
<blockquote>
<p>Best-effort delivery ÊòØ‰∏ÄÁ®ÆÊüîÊÄß‰∫ãÂãô</p>
</blockquote>
<p><img src="image-20220130171049026.png" alt="image-20220130171049026"></p>
<ul>
<li>
<p>ÈÅ©Áî®ÊñºÊúÄÁµÇ‰∏ÄËá¥ÊÄßÊôÇÈñìÊïèÊÑüÂ∫¶‰ΩéÁöÑÊ•≠ÂãôÔºå‰∏îË¢´ÂãïÊñπËôïÁêÜÁµêÊûú‰∏çÂΩ±Èüø‰∏ªÂãïÊñπÁöÑËôïÁêÜÁµêÊûú</p>
</li>
<li>
<p>ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•ÂûãÁöÑÂØ¶ÁèæÊñπÊ°àÔºå‰∏ÄËà¨Á¨¶Âêà‰ª•‰∏ãÁâπÈªû:</p>
<ul>
<li>‰∏çÂèØÈù†Ê∂àÊÅØ: ‰∏ªÂãïÊñπÂú®ÂÆåÊàêÊ•≠ÂãôËôïÁêÜ‰πãÂæåÔºåÂêëË¢´ÂãïÊñπÁôºÈÄÅÊ∂àÊÅØÔºåÁõ¥Âà∞ÈÄöÁü•NÊ¨°Âæå‰∏çÂÜçÈÄöÁü•ÔºåÂÖÅË®±Ê∂àÊÅØ‰∏üÂ§±(‰∏çÂèØÈù†Ê∂àÊÅØ)</li>
<li>ÂÆöÊúüÊ†°Â∞ç: Ë¢´ÂãïÊñπÊ†πÊìöÂÆöÊôÇÁ≠ñÁï•ÔºåÂêë‰∏ªÂãïÊñπÊü•Ë©¢(‰∏ªÂãïÊñπÊèê‰æõÊü•Ë©¢‰ªãÈù¢)ÔºåÊÅ¢Âæ©‰∏üÂ§±ÁöÑÊ•≠ÂãôÊ∂àÊÅØ</li>
</ul>
</li>
<li>
<p>ÂÖ∏ÂûãÁöÑ‰ΩøÁî®Â†¥ÊôØ: Â¶ÇÈäÄË°åÈÄöÁü•„ÄÅÂïÜÊà∂ÈÄöÁü•Á≠â</p>
</li>
</ul>
<h3 id="ÂèØÈù†Ê∂àÊÅØÊúÄÁµÇ‰∏ÄËá¥ÊÄß">ÂèØÈù†Ê∂àÊÅØÊúÄÁµÇ‰∏ÄËá¥ÊÄß</h3>
<p><img src="image-20220130171239629.png" alt="image-20220130171239629"></p>
<ul>
<li>Âü∫ÊñºMQÂØ¶Áèæ</li>
<li>Áï∂‰∫ãÂãôÁôºËµ∑ÊñπÂü∑Ë°åÂÆåÊàêÊú¨Âú∞‰∫ãÂãôÂæå‰∏¶ÁôºÂá∫‰∏ÄÊ¢ùÊ∂àÊÅØÔºå‰∫ãÂãôÂèÉËàáÊñπ(Ê∂àÊÅØÊ∂àË≤ªËÄÖ)‰∏ÄÂÆöËÉΩÂ§†Êé•Êî∂Ê∂àÊÅØ‰∏¶ËôïÁêÜ‰∫ãÂãôÊàêÂäü</li>
<li>Ê≠§ÊñπÊ°àÂº∑Ë™øÁöÑÊòØÂè™Ë¶ÅÊ∂àÊÅØÁôºÁµ¶‰∫ãÂãôÂèÉËàáÊñπ<strong>ÊúÄÁµÇ‰∫ãÂãôË¶ÅÈÅîÂà∞‰∏ÄËá¥</strong>(Áï∞Ê≠•Á¢∫‰øùÊÄß)</li>
</ul>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;">‰∏äÊ¨°‰øÆÊîπÊñº 2022-02-06</p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="https://yoziming.github.io/post/220206-eu-name/">
			‰∏ã‰∏ÄÁØá<br>ÁîüÊ¥ªÈõúË®ò
                </a>
                
                
                
                <a class="older-posts" href="https://yoziming.github.io/post/220205-leetcode-easy-35/">
			‰∏ä‰∏ÄÁØá<br>LeetCode Easy: 35-58
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                








<div id="waline"></div>
<script>
    new Waline({
        el: '#waline',
        path: location.pathname,
        serverURL: "https://waline-pn38gfwbz-yoziming.vercel.app/" ,
		lang: 'en-US',
		visitor: true,
		meta: ['nick', 'mail'],
    });
    </script>



            </div>
        </div>
    </div>


                    </div>
            </div><div id="single-column-footer">
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ÁßªÊ§çËá™ <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	
</div>
            </div>
    
    <script src="/js/journal.js"></script>
    </body>
</html>
