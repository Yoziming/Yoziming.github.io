<!DOCTYPE html>
<html><head>
<meta name="google-site-verification" content="XrwF-xUZWSGJVBBm7jM8vqemVqx--zo5Tb9d-Vr7BCc" />
<title>ÈôêÂà∂Á¥ÑÊùüConstraint</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="Â∞öÁ°ÖË∞∑MySQLÁ≠ÜË®ò-09">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="ÈôêÂà∂Á¥ÑÊùüConstraint" />
<meta property="og:description" content="Â∞öÁ°ÖË∞∑MySQLÁ≠ÜË®ò-09" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yoziming.github.io/post/211224-agg-mysql-09/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-12-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-12-24T00:00:00+00:00" /><meta property="og:site_name" content="My Blog" />






<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ÈôêÂà∂Á¥ÑÊùüConstraint"/>
<meta name="twitter:description" content="Â∞öÁ°ÖË∞∑MySQLÁ≠ÜË®ò-09"/>







<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">


  




<link rel="icon" href="https://yoziming.github.io/images/favicon.png">



<link rel="stylesheet" href="https://yoziming.github.io/scss/journal.min.3f72a5fc8f5b5dd732a4b476aced0eece2156958d9d414316494ddb10593ddf7.css" integrity="sha256-P3Kl/I9bXdcypLR2rO0O7OIVaVjZ1BQxZJTdsQWT3fc=" media="screen">



<link rel="stylesheet" href="https://yoziming.github.io/scss/dark-mode.min.f7c2efa7183435a6bd1842f91c541481c7a5137b5991629a870f24e4a516ad4b.css" integrity="sha256-98Lvpxg0Naa9GEL5HFQUgcelE3tZkWKahw8k5KUWrUs=" media="screen">


<script src="/vendor/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");
</script>






  <script src="/js/toc.js"></script>











<script src="//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js"></script>





</head>
<body>
    	<div id="app"><div id="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="https://yoziming.github.io/">
    
        <div class="nav-title">
            ÊüöÂ≠êËå∂ÂÆ§
        </div>
        
        <div class="nav-subtitle">
            Á¥ÄÈåÑËá™Â≠∏Â§ßÂ∞è‰∫ã
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/">
                È¶ñÈ†Åüè†
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                Á≥ªÂàóÊñáüìñ
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                Ê®ôÁ±§üè∑Ô∏è
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about-me">
                ÈóúÊñºÊàëüê£
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ÁßªÊ§çËá™ <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	

    </div>
    
</div><div id="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>- ÁõÆÈåÑ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e9%99%90%e5%88%b6%e7%b4%84%e6%9d%9fconstraint" onclick="onNavClick(`#ÈôêÂà∂Á¥ÑÊùüconstraint-nav`)" id="ÈôêÂà∂Á¥ÑÊùüconstraint-nav">
									ÈôêÂà∂Á¥ÑÊùüConstraint
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%ae%a1%e7%90%86%e7%b4%84%e6%9d%9f" onclick="onNavClick(`#ÁÆ°ÁêÜÁ¥ÑÊùü-nav`)" id="ÁÆ°ÁêÜÁ¥ÑÊùü-nav">
									ÁÆ°ÁêÜÁ¥ÑÊùü
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%b4%84%e6%9d%9f%e7%9a%84%e5%88%86%e9%a1%9e" onclick="onNavClick(`#Á¥ÑÊùüÁöÑÂàÜÈ°û-nav`)" id="Á¥ÑÊùüÁöÑÂàÜÈ°û-nav">
									Á¥ÑÊùüÁöÑÂàÜÈ°û
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#not-null%e9%9d%9e%e7%a9%ba" onclick="onNavClick(`#not-nullÈùûÁ©∫-nav`)" id="not-nullÈùûÁ©∫-nav">
									NOT NULLÈùûÁ©∫
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#unique%e5%94%af%e4%b8%80" onclick="onNavClick(`#uniqueÂîØ‰∏Ä-nav`)" id="uniqueÂîØ‰∏Ä-nav">
									UNIQUEÂîØ‰∏Ä
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%88%aa%e9%99%a4%e5%94%af%e4%b8%80%e7%b4%84%e6%9d%9f" onclick="onNavClick(`#Âà™Èô§ÂîØ‰∏ÄÁ¥ÑÊùü-nav`)" id="Âà™Èô§ÂîØ‰∏ÄÁ¥ÑÊùü-nav">
									Âà™Èô§ÂîØ‰∏ÄÁ¥ÑÊùü
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#primary-key%e4%b8%bb%e9%8d%b5" onclick="onNavClick(`#primary-key‰∏ªÈçµ-nav`)" id="primary-key‰∏ªÈçµ-nav">
									PRIMARY KEY‰∏ªÈçµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e8%87%aa%e5%a2%9e%e5%88%97auto_increment" onclick="onNavClick(`#Ëá™Â¢ûÂàóauto_increment-nav`)" id="Ëá™Â¢ûÂàóauto_increment-nav">
									Ëá™Â¢ûÂàóAUTO_INCREMENT
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#foreign-key%e5%a4%96%e9%8d%b5" onclick="onNavClick(`#foreign-keyÂ§ñÈçµ-nav`)" id="foreign-keyÂ§ñÈçµ-nav">
									FOREIGN KEYÂ§ñÈçµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%b4%84%e6%9d%9f%e7%ad%89%e7%b4%9a" onclick="onNavClick(`#Á¥ÑÊùüÁ≠âÁ¥ö-nav`)" id="Á¥ÑÊùüÁ≠âÁ¥ö-nav">
									Á¥ÑÊùüÁ≠âÁ¥ö
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%a4%96%e9%8d%b5%e7%9a%84%e5%95%8f%e9%a1%8c" onclick="onNavClick(`#Â§ñÈçµÁöÑÂïèÈ°å-nav`)" id="Â§ñÈçµÁöÑÂïèÈ°å-nav">
									Â§ñÈçµÁöÑÂïèÈ°å
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#check%e6%aa%a2%e6%9f%a5" onclick="onNavClick(`#checkÊ™¢Êü•-nav`)" id="checkÊ™¢Êü•-nav">
									CHECKÊ™¢Êü•
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#default%e9%a0%90%e8%a8%ad%e5%80%bc" onclick="onNavClick(`#defaultÈ†êË®≠ÂÄº-nav`)" id="defaultÈ†êË®≠ÂÄº-nav">
									DEFAULTÈ†êË®≠ÂÄº
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a type="button" class="pagination-action" id="darkModeToggleButton">
            <span class="material-icons pagination-action-icon" id="darkModeToggleIcon">
                dark_mode
            </span>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" id="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/">
                    È¶ñÈ†Åüè†
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    Á≥ªÂàóÊñáüìñ
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    Ê®ôÁ±§üè∑Ô∏è
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about-me">
                    ÈóúÊñºÊàëüê£
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- ÁõÆÈåÑ -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e9%99%90%e5%88%b6%e7%b4%84%e6%9d%9fconstraint" onclick="onNavClick(`#ÈôêÂà∂Á¥ÑÊùüconstraint-nav`)" id="ÈôêÂà∂Á¥ÑÊùüconstraint-nav">
									ÈôêÂà∂Á¥ÑÊùüConstraint
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%ae%a1%e7%90%86%e7%b4%84%e6%9d%9f" onclick="onNavClick(`#ÁÆ°ÁêÜÁ¥ÑÊùü-nav`)" id="ÁÆ°ÁêÜÁ¥ÑÊùü-nav">
									ÁÆ°ÁêÜÁ¥ÑÊùü
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%b4%84%e6%9d%9f%e7%9a%84%e5%88%86%e9%a1%9e" onclick="onNavClick(`#Á¥ÑÊùüÁöÑÂàÜÈ°û-nav`)" id="Á¥ÑÊùüÁöÑÂàÜÈ°û-nav">
									Á¥ÑÊùüÁöÑÂàÜÈ°û
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#not-null%e9%9d%9e%e7%a9%ba" onclick="onNavClick(`#not-nullÈùûÁ©∫-nav`)" id="not-nullÈùûÁ©∫-nav">
									NOT NULLÈùûÁ©∫
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#unique%e5%94%af%e4%b8%80" onclick="onNavClick(`#uniqueÂîØ‰∏Ä-nav`)" id="uniqueÂîØ‰∏Ä-nav">
									UNIQUEÂîØ‰∏Ä
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%88%aa%e9%99%a4%e5%94%af%e4%b8%80%e7%b4%84%e6%9d%9f" onclick="onNavClick(`#Âà™Èô§ÂîØ‰∏ÄÁ¥ÑÊùü-nav`)" id="Âà™Èô§ÂîØ‰∏ÄÁ¥ÑÊùü-nav">
									Âà™Èô§ÂîØ‰∏ÄÁ¥ÑÊùü
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#primary-key%e4%b8%bb%e9%8d%b5" onclick="onNavClick(`#primary-key‰∏ªÈçµ-nav`)" id="primary-key‰∏ªÈçµ-nav">
									PRIMARY KEY‰∏ªÈçµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e8%87%aa%e5%a2%9e%e5%88%97auto_increment" onclick="onNavClick(`#Ëá™Â¢ûÂàóauto_increment-nav`)" id="Ëá™Â¢ûÂàóauto_increment-nav">
									Ëá™Â¢ûÂàóAUTO_INCREMENT
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#foreign-key%e5%a4%96%e9%8d%b5" onclick="onNavClick(`#foreign-keyÂ§ñÈçµ-nav`)" id="foreign-keyÂ§ñÈçµ-nav">
									FOREIGN KEYÂ§ñÈçµ
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e7%b4%84%e6%9d%9f%e7%ad%89%e7%b4%9a" onclick="onNavClick(`#Á¥ÑÊùüÁ≠âÁ¥ö-nav`)" id="Á¥ÑÊùüÁ≠âÁ¥ö-nav">
									Á¥ÑÊùüÁ≠âÁ¥ö
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%a4%96%e9%8d%b5%e7%9a%84%e5%95%8f%e9%a1%8c" onclick="onNavClick(`#Â§ñÈçµÁöÑÂïèÈ°å-nav`)" id="Â§ñÈçµÁöÑÂïèÈ°å-nav">
									Â§ñÈçµÁöÑÂïèÈ°å
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#check%e6%aa%a2%e6%9f%a5" onclick="onNavClick(`#checkÊ™¢Êü•-nav`)" id="checkÊ™¢Êü•-nav">
									CHECKÊ™¢Êü•
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#default%e9%a0%90%e8%a8%ad%e5%80%bc" onclick="onNavClick(`#defaultÈ†êË®≠ÂÄº-nav`)" id="defaultÈ†êË®≠ÂÄº-nav">
									DEFAULTÈ†êË®≠ÂÄº
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div id="drawer-mask" v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav id="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div id="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a id="navTitle" class="navbar-brand" href="https://yoziming.github.io/">
            ÊüöÂ≠êËå∂ÂÆ§
        </a>
        
        <button type="button" class="nav-darkmode-toggle" id="darkModeToggleButton2">
            <i class="material-icons" id="darkModeToggleIcon2">
                dark_mode
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" id="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="https://yoziming.github.io/">
        <div class="single-column-header-title">ÊüöÂ≠êËå∂ÂÆ§</div>
        
        <div class="single-column-header-subtitle">Á¥ÄÈåÑËá™Â≠∏Â§ßÂ∞è‰∫ã</div>
        

    </a>
</div>

            <div id="content">
                <div id="streamContainer" class="stream-container">

    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                
                    
                    
                    style="background-image: url('https://yoziming.github.io/images/mysql.jpg')"
                    
                
            >
                <div class="post-title">
                    ÈôêÂà∂Á¥ÑÊùüConstraint
                    
                    <div class="post-subtitle">
                        Â∞öÁ°ÖË∞∑MySQLÁ≠ÜË®ò-09
                    </div>
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            2021-12-24 00:00
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/mysql%E7%B7%9A%E4%B8%8A%E8%AA%B2">MySQLÁ∑ö‰∏äË™≤</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/sql">sql</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <h1 id="ÈôêÂà∂Á¥ÑÊùüconstraint">ÈôêÂà∂Á¥ÑÊùüConstraint</h1>
<blockquote>
<p>ÁÇ∫‰∫ÜË≥áÊñôÁöÑÂÆåÊï¥ÊÄßÔºåÂ∞çË°®Ë®Ç‰∏ãÁöÑÂêÑÁ®ÆÂº∑Âà∂Ë¶èÂÆö</p>
</blockquote>
<p>ÊâÄË¨ÇË≥áÊñôÁöÑÂÆåÊï¥ÊÄßÂèØ‰ª•È´îÁèæÁÇ∫4ÂÄãÊñπÂêë:</p>
<ul>
<li><code>ÂØ¶È´îÂÆåÊï¥ÊÄß(Entity Integrity)</code>:Âêå‰∏ÄÂÄãË°®‰∏≠Ôºå‰∏çËÉΩÂ≠òÂú®ÂÖ©Ê¢ùÂÆåÂÖ®Áõ∏ÂêåÁÑ°Ê≥ïÂçÄÂàÜÁöÑË®òÈåÑ</li>
<li><code>ÂüüÂÆåÊï¥ÊÄß(Domain Integrity)</code>:Âπ¥ÈΩ°ÁØÑÂúç0-120ÔºåÊÄßÂà•ÁØÑÂúç&quot;Áî∑/Â•≥&quot;</li>
<li><code>ÂèÉËÄÉÂÆåÊï¥ÊÄß(Referential Integrity)</code>:Âì°Â∑•ÊâÄÂú®ÈÉ®ÈñÄÔºåÂú®ÈÉ®ÈñÄË°®‰∏≠Ë¶ÅËÉΩÊâæÂà∞ÈÄôÂÄãÈÉ®ÈñÄ</li>
<li><code>Áî®Êà∂Ëá™Ë®ÇÂÆåÊï¥ÊÄß(User-defined Integrity)</code>:Áî®Êà∂ÂêçÂîØ‰∏Ä„ÄÅÂØÜÁ¢º‰∏çËÉΩÁÇ∫Á©∫Á≠âÔºåÊú¨ÈÉ®ÈñÄÁ∂ìÁêÜÁöÑÂ∑•Ë≥á‰∏çÂæóÈ´òÊñºÊú¨ÈÉ®ÈñÄËÅ∑Â∑•ÁöÑÂπ≥ÂùáÂ∑•Ë≥áÁöÑ5ÂÄç„ÄÇ</li>
</ul>
<h2 id="ÁÆ°ÁêÜÁ¥ÑÊùü">ÁÆ°ÁêÜÁ¥ÑÊùü</h2>
<ul>
<li>Âú®<code>create table</code>ÊôÇÊ∑ªÂä†Á¥ÑÊùü:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">create</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span>test01<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>(<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>id<span style="color:#bbb">    </span><span style="color:#658b00">int</span><span style="color:#bbb">         </span><span style="color:#8b008b;font-weight:bold">not</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>name<span style="color:#bbb">  </span><span style="color:#658b00">varchar</span>(<span style="color:#b452cd">15</span>)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">not</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>email<span style="color:#bbb"> </span><span style="color:#658b00">varchar</span>(<span style="color:#b452cd">25</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>);<span style="color:#bbb">
</span></span></span></code></pre></div><ul>
<li>Áî®<code>alter table</code>Ê∑ªÂä†ÊàñÂà™Èô§Á¥ÑÊùü:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#8b008b;font-weight:bold">alter</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span>test01<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">modify</span><span style="color:#bbb"> </span>email<span style="color:#bbb"> </span><span style="color:#658b00">varchar</span>(<span style="color:#b452cd">25</span>)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">not</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span></code></pre></div><ul>
<li>Êü•ÁúãË°®‰∏≠Á¥ÑÊùü:Áõ¥Êé•<code>desc Ë°®Âêç</code>ÔºåÊàñ:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>#information_schemaË≥áÊñôÂ∫´Âêç<span style="color:#a61717;background-color:#e3d2d2">ÔºàÁ≥ªÁµ±Â∫´Ôºâ</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>#table_constraintsË°®ÂêçÁ®±<span style="color:#a61717;background-color:#e3d2d2">ÔºàÂ∞àÈñÄÂ≠òÂÑ≤ÂêÑÂÄãË°®ÁöÑÁ¥ÑÊùüÔºâ</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>*<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">FROM</span><span style="color:#bbb"> </span>information_schema.table_constraints<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">WHERE</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table_name</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;Ë°®ÂêçÁ®±&#39;</span>;<span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="Á¥ÑÊùüÁöÑÂàÜÈ°û">Á¥ÑÊùüÁöÑÂàÜÈ°û</h2>
<ul>
<li>Ê†πÊìöÂàó
<ul>
<li>ÂñÆÂàó</li>
<li>Â§öÂàó:Ë§áÂêàÁ¥ÑÊùüÔºåÁ∂úÂêàÂ§öÂàóÁöÑÂÄºÂà§Êñ∑</li>
</ul>
</li>
<li>Ê†πÊìö‰ΩúÁî®ÁØÑÂúç
<ul>
<li>ÂàóÁ¥ö:Âè™‰ΩúÁî®Êñº‰∏ÄÂÄãÂàóÔºåË∑üÂú®ÂàóÁöÑÂÆöÁæ©‰πãÂæå</li>
<li>Ë°®Á¥ö:ÂñÆÁç®ÂÆöÁæ©</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>‰ΩçÁΩÆ</th>
<th>ÊîØÊåÅÁöÑÁ¥ÑÊùüÈ°ûÂûã</th>
<th>ÊòØÂê¶ËÉΩËµ∑Á¥ÑÊùüÂêç</th>
</tr>
</thead>
<tbody>
<tr>
<td>ÂàóÁ¥öÁ¥ÑÊùü</td>
<td>Âàó‰πãÂæå</td>
<td>ÊîØÊåÅÊâÄÊúâË™ûÊ≥ïÔºå‰ΩÜ‰∏çÂèØÂ§ñÈçµ</td>
<td>‰∏çÂèØ</td>
</tr>
<tr>
<td>Ë°®Á¥öÁ¥ÑÊùü</td>
<td>ÊâÄÊúâÂàó‰πã‰∏ã</td>
<td>Èô§‰∫ÜÈ†êË®≠ËàáÈùûÁ©∫‰∏çÊîØÊåÅÔºåÂÖ∂‰ªñÁöÜÂèØ</td>
<td>ÂèØÔºå‰ΩÜ‰∏ªÈçµÁÑ°Êïà</td>
</tr>
</tbody>
</table>
<ul>
<li>Ê†πÊìöÊïàÁî®:‰∏ãÈù¢‰∏Ä‰∏ÄË™™ÈÅì</li>
</ul>
<h3 id="not-nullÈùûÁ©∫">NOT NULLÈùûÁ©∫</h3>
<ul>
<li>ÈôêÂÆöÊüêÂàóÁöÑÂÄº‰∏çËÉΩÁÇ∫Á©∫</li>
<li>‰∏ÄÂÄãË°®ÂèØ‰ª•ÊúâÂ§öÂàóÂàÜÂà•ÈôêÂÆöÈùûÁ©∫</li>
<li>Âè™ËÉΩË∑üÂú®ÊüêÂàó‰πãÂæåÔºåÂè™ËÉΩÂñÆÁç®ÈôêÂÆöË©≤ÂàóÈùûÁ©∫Ôºå‰∏çËÉΩÁµÑÂêàÈôêÂÆö
<ul>
<li>‰æãÂ¶ÇÈôêÂÆöidÈùûÁ©∫ÔºåËÄå‰∏çËÉΩÈôêÂÆö<code>idËàánameÂè™Ë¶Å‰∏ÄÂÄãÈùûÁ©∫Â∞±ÂêàÊ†º</code></li>
</ul>
</li>
<li><code>''</code>Á©∫Â≠ó‰∏≤„ÄÅ<code>0</code>Êï∏ÂÄº‰∏çÁ≠âÊñºnull</li>
</ul>
<h3 id="uniqueÂîØ‰∏Ä">UNIQUEÂîØ‰∏Ä</h3>
<ul>
<li>ÈôêÂà∂ÊüêÂàóÁöÑÂÄº‰∏çËÉΩÈáçË§á</li>
<li>ÂèØ‰ª•ÊòØÊüêÂÄãÂàóÁöÑÂÄºÂîØ‰∏ÄÔºå‰πüËÉΩÊòØÂ§öÂàóÁµÑÂêàÁöÑÂÄºÂîØ‰∏Ä
<ul>
<li>‰æãÂ¶Ç</li>
</ul>
</li>
<li>ÂÖÅË®±<code>null</code>‰∏îÂÖÅË®±Â§öÂÄã<code>null</code></li>
<li>ÂâµÂª∫ÊôÇËã•‰∏çÁµ¶ÂîØ‰∏ÄÁ¥ÑÊùüÂëΩÂêçÔºåÂâáÈ†êË®≠ËàáÂàóÂêçÁõ∏Âêå</li>
<li>MySQLÊúÉÁµ¶ÂîØ‰∏ÄÁ¥ÑÊùüÁöÑÂàóÈ†êË®≠ÂâµÂª∫ÂîØ‰∏ÄÁ¥¢Âºï</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#228b22">-- Ê∑ªÂä†ÂàóÁ¥ÑÊùüÁØÑ‰æã
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">create</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span>test02<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>(<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>id<span style="color:#bbb">    </span><span style="color:#658b00">int</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">unique</span>,<span style="color:#bbb"> </span><span style="color:#228b22">-- ÂàóÁ¥ö
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#bbb">    </span>name<span style="color:#bbb">  </span><span style="color:#658b00">varchar</span>(<span style="color:#b452cd">15</span>),<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>email<span style="color:#bbb"> </span><span style="color:#658b00">varchar</span>(<span style="color:#b452cd">25</span>),<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">constraint</span><span style="color:#bbb"> </span>uk_test02_email<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">unique</span><span style="color:#bbb"> </span>(email)<span style="color:#bbb"> </span><span style="color:#228b22">-- Ë°®Á¥ö
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">-- ÊñπÂºè2
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">alter</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span>test02<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">add</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">constraint</span><span style="color:#bbb"> </span>uk_test02_name<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">unique</span><span style="color:#bbb"> </span>(name);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">-- ÊñπÂºè3
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">alter</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span>test02<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">modify</span><span style="color:#bbb"> </span>name<span style="color:#bbb"> </span><span style="color:#658b00">varchar</span>(<span style="color:#b452cd">25</span>)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">unique</span>;<span style="color:#bbb">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#228b22">-- Ë§áÂêàÂîØ‰∏ÄÁ¥ÑÊùüÁØÑ‰æã
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">create</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span>student_course(<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>id<span style="color:#bbb"> </span><span style="color:#658b00">int</span>,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>sid<span style="color:#bbb"> </span><span style="color:#658b00">int</span>,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>cid<span style="color:#bbb"> </span><span style="color:#658b00">int</span>,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>score<span style="color:#bbb"> </span><span style="color:#658b00">int</span>,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">unique</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">key</span>(sid,cid)<span style="color:#bbb">  </span><span style="color:#228b22">-- Ë§áÂêàÂîØ‰∏Ä
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span>);<span style="color:#bbb">
</span></span></span></code></pre></div><h4 id="Âà™Èô§ÂîØ‰∏ÄÁ¥ÑÊùü">Âà™Èô§ÂîØ‰∏ÄÁ¥ÑÊùü</h4>
<ul>
<li>Âè™ËÉΩÈÄöÈÅé<code>Âà™Èô§ÂîØ‰∏ÄÁ¥¢Âºï</code>ÁöÑÊñπÂºèÂà™Èô§</li>
<li>Âà™Èô§ÊôÇÈúÄË¶ÅÊåáÂÆöÂîØ‰∏ÄÁ¥¢ÂºïÂêçÔºåÂîØ‰∏ÄÁ¥¢ÂºïÂêçÂ∞±ÂíåÂîØ‰∏ÄÁ¥ÑÊùüÂêç‰∏ÄÊ®£</li>
<li>Â¶ÇÊûúÂâµÂª∫ÂîØ‰∏ÄÁ¥ÑÊùüÊôÇÊú™ÊåáÂÆöÂêçÁ®±:
<ul>
<li>Â¶ÇÊûúÊòØÂñÆÂàóÔºåÂ∞±È†êË®≠ÂíåÂàóÂêçÁõ∏Âêå</li>
<li>Â¶ÇÊûúÊòØÁµÑÂêàÂàóÔºåÈÇ£È∫ºÈ†êË®≠Âíå()‰∏≠ÊéíÂú®Á¨¨‰∏ÄÂÄãÁöÑÂàóÂêçÁõ∏Âêå</li>
<li>‰πüÂèØ‰ª•Ëá™Ë®ÇÂîØ‰∏ÄÊÄßÁ¥ÑÊùüÂêç</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#228b22">-- ÊñπÊ≥ï1ÔºåÊü•ÁúãË°®ÁöÑÊâÄÊúâÁ¥ÑÊùü
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">select</span><span style="color:#bbb"> </span>*<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">from</span><span style="color:#bbb"> </span>information_schema.TABLE_CONSTRAINTS<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">where</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">TABLE_NAME</span><span style="color:#bbb"> </span>=<span style="color:#bbb"> </span><span style="color:#cd5555">&#39;Ë°®Âêç&#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">-- Ë¶ãËøîÂõûÁöÑÁ¥ÑÊùüÂêçCONSTRAINT_NAMEÊ¨Ñ‰Ωç
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">-- ÊñπÊ≥ï2ÔºåÊü•ÁúãË°®ÁöÑÁ¥¢Âºï
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">show</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">index</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">from</span><span style="color:#bbb"> </span>test02;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">-- Ë¶ãËøîÂõûÁöÑÁ¥¢ÂºïÂêçKey_nameÊ¨Ñ‰Ωç
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">-- ÂæóÂà∞Á¥ÑÊùüÂêç(=Á¥¢ÂºïÂêç)ÂæåÔºåÂà™Èô§
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">alter</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">Ë°®Âêç</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">drop</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">index</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">Á¥¢ÂºïÂêç</span>;<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="primary-key‰∏ªÈçµ">PRIMARY KEY‰∏ªÈçµ</h3>
<ul>
<li>‰∏ªÈçµÁ¥ÑÊùü = ÂîØ‰∏Ä + ÈùûÁ©∫Á¥ÑÊùü</li>
<li>‰∏ÄÂÄãË°®Âè™ËÉΩÊúâ‰∏ÄÂÄã‰∏ªÈçµ</li>
<li>ÂèØ‰ª•Âú®ÂàóÁ¥öÂÆ£ÂëäÔºå‰πüÂèØ‰ª•Âú®Ë°®Á¥öÔºõÂç≥ÂèØ‰ª•Â∞çÊáâ‰∏ÄÂàóÊàñË§áÂêàÁ¥ÑÊùü</li>
<li>Â¶ÇÊûúÊòØË§áÂêàÂàó‰∏ªÈçµÔºåÂâá‰ªª‰ΩïÂàóÈÉΩ‰∏çË®±ÁÇ∫Á©∫Ôºå‰∏îÁµÑÂêàÂÄº‰∏çÂèØÈáçË§á</li>
<li>Âú®mysql‰∏≠‰∏ªÈçµÂêçÁ∏ΩÊòØ<code>PRIMARY</code>Ôºå‰∏çÂèØÊõ¥Êîπ‰∏îËá™Â∑±ÂëΩÂêçÁÑ°Êïà</li>
<li>ÂÆ£Âëä‰∏ªÈçµÁ¥ÑÊùüÊôÇÔºåÁ≥ªÁµ±ÊúÉÂª∫Á´ãÂ∞çÊáâÁöÑ‰∏ªÈçµÁ¥¢Âºï
<ul>
<li>Â¶ÇÊûúÁ¥ÑÊùüÂà™Èô§‰∫ÜÔºåÁ¥¢Âºï‰πüÊúÉËá™ÂãïÂà™Èô§ÔºåÂèç‰πã‰∫¶ÁÑ∂</li>
</ul>
</li>
<li>‰∏çË¶Å‰øÆÊîπ‰∏ªÈçµÁöÑÂÄºÔºåÂõ†ÁÇ∫‰∏ªÈçµÊòØÁ¥ÄÈåÑË≥áÊñôÁöÑÂîØ‰∏ÄÊ®ôÁ§∫Ôºå‰∫ÇÊîπÂæàÂèØËÉΩÂá∫‰∫ã</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#228b22">-- ÂâµÂª∫Ë°®ÊôÇÂÆ£Âëä‰∏ªÈçµ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">create</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">if</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">not</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">exists</span><span style="color:#bbb"> </span>user01(<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>id<span style="color:#bbb"> </span><span style="color:#658b00">int</span>,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>last_name<span style="color:#bbb"> </span><span style="color:#658b00">varchar</span>(<span style="color:#b452cd">15</span>),<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>salary<span style="color:#bbb"> </span><span style="color:#658b00">decimal</span>(<span style="color:#b452cd">10</span>,<span style="color:#b452cd">2</span>),<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>email<span style="color:#bbb"> </span><span style="color:#658b00">varchar</span>(<span style="color:#b452cd">30</span>),<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#8b008b;font-weight:bold">primary</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">key</span><span style="color:#bbb"> </span>(id)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">-- ÂâµÂª∫Ë°®Âæå‰øÆÊîπÊüêÂàóÁÇ∫‰∏ªÈçµ
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">alter</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span>user01<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">add</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">primary</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">key</span><span style="color:#bbb"> </span>(id,salary);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">-- Âà™Èô§‰∏ªÈçµÁ¥ÑÊùü (NOT NULLÁ¥ÑÊùüÊúÉ‰øùÁïô)
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">alter</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span>user01<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">drop</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">primary</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">key</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">-- ÂØ¶ÈöõÈñãÁôº‰∏≠Ë™∞Êï¢Âà™Èô§‰∏ªÈçµÁõ¥Êé•ÊãñÂá∫ÂéªÊâì
</span></span></span></code></pre></div><h4 id="Ëá™Â¢ûÂàóauto_increment">Ëá™Â¢ûÂàóAUTO_INCREMENT</h4>
<blockquote>
<p>Â∏∏Ë∑ü‰∏ªÈçµ‰∏ÄËµ∑‰ΩøÁî®ÔºåÁï∂‰ΩúÂîØ‰∏ÄÊ®ôÁ§∫Á¨¶ÊàñÈ†ÜÂ∫è</p>
</blockquote>
<ul>
<li>‰∏ÄÂÄãË°®ÊúÄÂ§öÊúâ‰∏ÄÂÄãËá™Â¢ûÂàó</li>
<li>Ëá™Â¢ûÁ¥ÑÊùüÁöÑÂàóÂøÖÈ†àÊòØ‰∏ªÈçµÊàñÂîØ‰∏Ä</li>
<li>Êï∏ÊìöÈ°ûÂûãÂøÖÈ†àÊòØÊï¥Êï∏È°ûÂûã</li>
<li>Â¶ÇÊûúÊâãÂæàË≥§Âú®ÊèíÂÖ•Ë≥áÊñôÊôÇÂéªÊåáÂÆöËá™ÁîüÂàóÁöÑÂÄº:
<ul>
<li>ÊåáÂÆöË≥¶ÁöÑÂÄºÁÇ∫0ÊàñnullÔºåÁõ∏Áï∂ÊñºËÆìÁ≥ªÁµ±Ëá™Â¢û
<ul>
<li>ÊâÄË¨ÇÁ≥ªÁµ±Ëá™Â¢ûÔºåÂ∞±ÊòØÁï∂ÂâçÊúÄÂ§ßÂÄº+1</li>
<li>Á¨¨‰∏ÄÁ≠ÜË≥áÊñôÁÇ∫1</li>
</ul>
</li>
<li>ÊåáÂÆöË≥¶ÁöÑÂÄºÁÇ∫ÂÖ∂‰ªñÊï∏ÂÄºÔºåÂâáÁÇ∫Ë©≤Êï∏ÂÄº
<ul>
<li>ÊØîÂ¶ÇÁèæÂú®Êúâ1Âà∞5ËôüÔºåÊàëÊåáÂÆöÂÄºÁÇ∫10ÂèØ‰ª•ÊàêÂäü</li>
<li>‰∏¶‰∏î‰πãÂæåÁ≥ªÁµ±Ëá™Â¢ûÁÇ∫11ËôüÔºå6~9ËôüË¢´Ë∑≥ÈÅé</li>
</ul>
</li>
</ul>
</li>
<li>Âç≥‰ΩøÁßªÈô§ÊüêÁ≠ÜË≥áÊñôÔºåËá™Â¢ûËÆäÈáèÂä†‰∫ÜÂ∞±‰∏çÊúÉÊâ£ÂõûÂéª
<ul>
<li>‰æãÂ¶ÇÊñ∞Â¢û‰∫Ü10Á≠ÜË≥áÊñôÔºåÁèæÂú®Á∑®ËôüÁÇ∫1~10</li>
<li>Êé•ËëóÂà™Èô§‰∫Ü7„ÄÅ8„ÄÅ9ËôüÂÖ±3Á≠ÜÔºå‰ΩÜ‰∏ã‰∏ÄÂÄãËá™Â¢ûËôüÈÇÑÊòØ11</li>
</ul>
</li>
<li>Ëá™Â¢ûËÆäÈáèÂú®mysqlÁâàÊú¨5.7Ëàá8.0ÊúâÂçÄÂà•Ôºå5.7ÁâàÊú¨ÊúâÂùëÂ∞±ÊòØËá™Â¢ûËÆäÈáèÂè™‰øùÂ≠òÂú®Ë®òÊÜ∂È´îÔºåÂ¶ÇÊûúDBMS‰º∫ÊúçÂô®ÈáçÂïüËá™Â¢ûËÆäÈáèÊúÉË¢´ÈáçÁΩÆÔºåËàâÂâõÂâõÁöÑ‰æãÂ≠êÂ∞±ÊòØ‰∏ã‰∏ÄÂÄãÂ¢ûÂä†ÁöÑÊúÉËÆä7ËôüÔºõ8.0ÂâáÊúÉÂæûÊó•Ë™åÊâæÂ∞ãÁ¥ÄÈåÑ‰øÆÊ≠£‰∫ÜÈÄôÂÄãÂùë</li>
<li>‰øÆÊîπ„ÄÅÂà™Èô§Ëá™Â¢ûÂàóÁî®<code>alter table ... modify</code>Âç≥ÂèØ</li>
</ul>
<h3 id="foreign-keyÂ§ñÈçµ">FOREIGN KEYÂ§ñÈçµ</h3>
<blockquote>
<p>Ê≠§ÂàóÁöÑË≥áÊñôÈôêÂÆöÊ∫êËá™ÂÖ∂‰ªñË°®ÊüêÂàó‰∏≠ÁöÑË≥áÊñô</p>
<p>ÂØ¶ÈöõÈñãÁôº‰∏≠99%‰∏çÂáÜÁî®Â§ñÈçµÔºåË∂ïÊôÇÈñìÂèØË∑≥ÈÅéÈÄôÊÆµ</p>
</blockquote>
<ul>
<li>‰∏ª(Áà∂)Ë°®:Ë¢´ÂºïÁî®ÁöÑË°®ÔºåË¢´ÂºïÁî®ÁöÑÂàóÂøÖÈ†àÁÇ∫‰∏ªÈçµÊàñÂîØ‰∏Ä</li>
<li>Âæû(Â≠ê)Ë°®:ÂºïÁî®Âà•‰∫∫ÁöÑÔºå‰∏ÄÂÄãË°®ÂèØÂºïÁî®Â§öÂÄãÂ§ñÈçµ</li>
<li>ÂÆ£ÂëäÊôÇÂº∑ÁÉàÂª∫Ë≠∞Ëµ∑Â§ñÈçµÂêçÔºåÂê¶ÂâáÊúÉÊòØ‰∏ÄÂÄãËá™ÂãïÁöÑ<code>xxx_ibfk_n</code>‰πãÈ°ûÁöÑÂêçÂ≠óËÄåÈùûÂàóÂêç</li>
<li>‰∏ªÂæûË°®ÁöÑÂàóÂêçÂèØ‰ª•‰∏çÂêåÔºå‰ΩÜÊï∏ÂÄºÈ°ûÂûãÂøÖÈ†à‰∏ÄÊ®£</li>
<li>ÂÆ£ÂëäÂ§ñÈçµÊôÇÔºåÁ≥ªÁµ±ÊúÉËá™ÂãïÁÇ∫Ë©≤ÂàóÂª∫Á´ãÊôÆÈÄöÁ¥¢ÂºïÔºåÂ¶ÇÊûúÊ≤íÊúâÊåáÂÆöÂ§ñÂª∫ÂêçÔºåÂâáÁ¥¢ÂºïÂêçÊòØÂàóÂêç</li>
<li>Âà™Èô§Â§ñÈçµÁ¥ÑÊùüÔºåÈÇÑÈ†àÊâãÂãïÂà™Èô§Â∞çÊáâÁöÑÁ¥¢Âºï</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#228b22">-- Âª∫Ë°®ÊôÇÂÆ£Âëä
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">constraint</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">Á¥ÑÊùüÂêç</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">foreign</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">key</span><span style="color:#bbb"> </span>(<span style="color:#a61717;background-color:#e3d2d2">ÂàóÂêç</span>)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">references</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">‰∏ªË°®</span>(<span style="color:#a61717;background-color:#e3d2d2">ÂàóÂêç</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">-- ËøΩÂä†
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">alter</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">ÂæûË°®Âêç</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">add</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">constraint</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">Á¥ÑÊùüÂêç</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span><span style="color:#8b008b;font-weight:bold">foreign</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">key</span><span style="color:#bbb"> </span>(<span style="color:#a61717;background-color:#e3d2d2">ÂàóÂêç</span>)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">references</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">‰∏ªË°®</span>(<span style="color:#a61717;background-color:#e3d2d2">ÂàóÂêç</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">		</span><span style="color:#8b008b;font-weight:bold">on</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">update</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">Á¥ÑÊùüÁ≠âÁ¥ö</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">on</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">delete</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">Á¥ÑÊùüÁ≠âÁ¥ö</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#228b22">-- Âà™Èô§Êúâ2Ê≠•È©ü
</span></span></span><span style="display:flex;"><span><span style="color:#228b22"></span><span style="color:#8b008b;font-weight:bold">alter</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">Ë°®Âêç</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">drop</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">foreign</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">key</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">Á¥ÑÊùüÂêç</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#8b008b;font-weight:bold">alter</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">table</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">Ë°®Âêç</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">drop</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">index</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">Á¥ÑÊùüÂêçÊàñÂàóÂêç</span>;<span style="color:#bbb">
</span></span></span></code></pre></div><h4 id="Á¥ÑÊùüÁ≠âÁ¥ö">Á¥ÑÊùüÁ≠âÁ¥ö</h4>
<blockquote>
<p>‰øÆÊîπ‰∏ªÂæûË°®Ë≥áÊñôÊôÇÂ∞çÊáâÁöÑËôïÁêÜÊñπÂºè</p>
</blockquote>
<ul>
<li><code>Cascade</code>:‰∏ªË°®ÁöÑ‰øÆÊîπÂêåÊ≠•Âà∞ÂæûË°®</li>
<li><code>Set null</code>:‰øÆÊîπ‰∏ªË°®ÊôÇÔºåÂæûË°®ÁöÑÂ∞çÊáâÂÄºË®≠ÁÇ∫nullÔºå‰ΩÜË¶ÅÊ≥®ÊÑèÂæûË°®Ë©≤Âàó‰∏çËÉΩÁÇ∫not null</li>
<li><code>No action</code>:Ëã•ÂæûË°®ÊúâÂåπÈÖçÁöÑÁ¥ÄÈåÑÔºå‰∏çÂÖÅË®±‰øÆÊîπ‰∏ªË°®</li>
<li><code>Restrict</code>:Âêå‰∏äÔºåÈÄôÊòØÈ†êË®≠ÁöÑÁ≠âÁ¥ö</li>
<li><code>Set default</code>:‰øÆÊîπ‰∏ªË°®ÊôÇÔºåÂ∞áÂæûË°®Â∞çÊáâÁöÑË®≠Êàê‰∏ÄÂÄãÊåáÂÆöÈ†êË®≠ÂÄºÔºå‰ΩÜinnodb‰∏çËÉΩË≠òÂà•</li>
<li>ÊúÄÂ∏∏Ë¶ãÁöÑÂ∞±ÊòØ<code>on update cascade on delete restrict</code></li>
</ul>
<h4 id="Â§ñÈçµÁöÑÂïèÈ°å">Â§ñÈçµÁöÑÂïèÈ°å</h4>
<ul>
<li>Â§ñÈçµÁ¥ÑÊùüË¶Å‰∏ÄÂÄãÂÄãÂéªÊ™¢Êü•Â∞çÊáâÔºåÈùûÂ∏∏ÊãñÁ¥ØË®àÁÆóÊàêÊú¨</li>
<li>ÂØ¶ÈöõÈñãÁôº‰∏≠Á¶ÅÁî®Â§ñÈçµÔºåÂú®ÊáâÁî®Â±§Èù¢Ê™¢Êü•Ë≥áÊñôÁöÑ‰∏ÄËá¥ÊÄß</li>
<li>ÂÜ∑Áü•Ë≠òË£úÂÖÖ:mysql‰∏≠ÊØèÂÄãË°®ÈÉΩÂèØ‰ª•Ëá™Ë®ÇÂÑ≤Â≠òÂºïÊìéÔºåËã•ÂºïÊìé‰∏çÂêåÂâá‰∏çËÉΩÂºïÁî®Â§ñÈçµ</li>
</ul>
<h3 id="checkÊ™¢Êü•">CHECKÊ™¢Êü•</h3>
<blockquote>
<p>mysql 5.7ÁâàÊú¨Ê≤íÁî®Ôºå8.0ÊâçË°å</p>
</blockquote>
<ul>
<li>Áî®‰ª•Ê™¢Êü•ÔºåËàâ‰æã:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>gender<span style="color:#bbb"> </span><span style="color:#658b00">char</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">check</span><span style="color:#bbb"> </span>(gender=<span style="color:#cd5555">&#39;Áî∑&#39;</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">or</span><span style="color:#bbb"> </span>gender=<span style="color:#cd5555">&#39;Â•≥&#39;</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>age<span style="color:#bbb"> </span><span style="color:#658b00">int</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">check</span>(age<span style="color:#bbb"> </span>&gt;<span style="color:#bbb"> </span><span style="color:#b452cd">20</span>)<span style="color:#bbb">
</span></span></span></code></pre></div><h3 id="defaultÈ†êË®≠ÂÄº">DEFAULTÈ†êË®≠ÂÄº</h3>
<ul>
<li>Áî®‰ª•ÊåáÂÆöÈ†êË®≠ÂÄºÔºåËàâ‰æã:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>salary<span style="color:#bbb"> </span><span style="color:#658b00">int</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">default</span><span style="color:#bbb"> </span><span style="color:#b452cd">22000</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>tel<span style="color:#bbb"> </span><span style="color:#658b00">char</span>(<span style="color:#b452cd">11</span>)<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">not</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">default</span><span style="color:#bbb"> </span><span style="color:#cd5555">&#39;&#39;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>age<span style="color:#bbb"> </span>tinyint<span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">not</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">null</span><span style="color:#bbb"> </span><span style="color:#8b008b;font-weight:bold">default</span><span style="color:#bbb"> </span><span style="color:#b452cd">0</span><span style="color:#bbb">
</span></span></span></code></pre></div><ul>
<li><code>not null default Á©∫Êàñ0</code>ÊòØÈçµË°®ÊôÇÂæàÂ∏∏Áî®ÁöÑË™ûÂè•ÔºåÂèØ‰ª•ÈÅøÂÖçË°®‰∏≠Êúânull
<ul>
<li>Âõ†ÁÇ∫null‰∏çÂ•ΩÊØîËºÉÔºå‰∏îÊïàÁéá‰∏çÈ´òÔºåÊúÉÊãñÁ¥ØÁ¥¢Âºï</li>
</ul>
</li>
</ul>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;">‰∏äÊ¨°‰øÆÊîπÊñº 2021-12-24</p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="https://yoziming.github.io/post/211225-agg-mysql-10/">
			‰∏ã‰∏ÄÁØá<br>Ë¶ñÂúñView
                </a>
                
                
                
                <a class="older-posts" href="https://yoziming.github.io/post/211223-agg-mysql-08/">
			‰∏ä‰∏ÄÁØá<br>MySQLË≥áÊñôÈ°ûÂûãË©≥Ëø∞
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                








<div id="waline"></div>
<script>
    new Waline({
        el: '#waline',
        path: location.pathname,
        serverURL: "https://waline-pn38gfwbz-yoziming.vercel.app/" ,
		lang: 'en-US',
		visitor: true,
		meta: ['nick', 'mail'],
    });
    </script>



            </div>
        </div>
    </div>


                    </div>
            </div><div id="single-column-footer">
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
ÁßªÊ§çËá™ <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	Yoziming
	
</div>
            </div>
    
    <script src="/js/journal.js"></script>
    </body>
</html>
